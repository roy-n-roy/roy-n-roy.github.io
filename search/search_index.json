{"config":{"indexing":"full","lang":["ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Windows Windows\u3067\u306e\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3084WSL\u3001\u3042\u308c\u3053\u308c\u306b\u3064\u3044\u3066 Raspberry Pi Raspberry Pi\u306e\u8a2d\u5b9a\u3084\u3042\u308c\u3053\u308c RouterOS Linux\u30d9\u30fc\u30b9\u306e\u30eb\u30fc\u30bf\u30fc\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3001RouterOS\u306b\u3064\u3044\u3066 Docker docker-compose\u30d5\u30a1\u30a4\u30eb\u306e\u5bc4\u305b\u96c6\u3081 MkDocs \u3053\u306e\u30b5\u30a4\u30c8\u4f5c\u6210\u306b\u4f7f\u7528\u3057\u305fMkDocs\u3092\u4f7f\u7528\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u306e\u4f5c\u6210\u65b9\u6cd5","title":"Home"},{"location":"#windows","text":"Windows\u3067\u306e\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3084WSL\u3001\u3042\u308c\u3053\u308c\u306b\u3064\u3044\u3066","title":"Windows"},{"location":"#raspberry-pi","text":"Raspberry Pi\u306e\u8a2d\u5b9a\u3084\u3042\u308c\u3053\u308c","title":"Raspberry Pi"},{"location":"#routeros","text":"Linux\u30d9\u30fc\u30b9\u306e\u30eb\u30fc\u30bf\u30fc\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3001RouterOS\u306b\u3064\u3044\u3066","title":"RouterOS"},{"location":"#docker","text":"docker-compose\u30d5\u30a1\u30a4\u30eb\u306e\u5bc4\u305b\u96c6\u3081","title":"Docker"},{"location":"#mkdocs","text":"\u3053\u306e\u30b5\u30a4\u30c8\u4f5c\u6210\u306b\u4f7f\u7528\u3057\u305fMkDocs\u3092\u4f7f\u7528\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u306e\u4f5c\u6210\u65b9\u6cd5","title":"MkDocs"},{"location":"InfiniBand/","text":"InfiniBand InfiniBand\u3068\u306f\u3001\u9ad8\u3044\u4fe1\u983c\u6027\u30fb\u53ef\u7528\u6027\u30fb\u4fdd\u5b88\u6027(RAS)\u3092\u6301\u3061\u3001\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u30fb\u30ec\u30a4\u30c6\u30f3\u30b7\u5171\u306b\u9ad8\u901f\u306a\u30a4\u30f3\u30bf\u30fc\u30b3\u30cd\u30af\u30c8\u3067\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u60c5\u5831\u3092\u898b\u3066\u56de\u3063\u305f\u3068\u3053\u308d\u3001\u306a\u3093\u3068\u306a\u304f\u3067\u3059\u304c\u3001Mellanox\u793e\u88fd\u306e\u88fd\u54c1\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u4f8b\u304c\u591a\u3044\u6c17\u304c\u3057\u307e\u3059\u3002 \u69cb\u6210\u90e8\u54c1 Host Channel Adapter InfiniBand\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u30ab\u30fc\u30c9\u306fHost Channel Adapter(HCA)\u3068\u547c\u3073\u3001\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u3067\u8a00\u3046\u3068\u3053\u308d\u306eNIC\u306b\u3042\u305f\u308a\u307e\u3059\u3002 HCA\u306f2\uff5e3\u4e16\u4ee3\u524d\u306e\u4e2d\u53e4\u54c1\u304c\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306a\u3069\u3067\u591a\u304f\u51fa\u56de\u3063\u3066\u304a\u308a\u30013,000\uff5e8,000\u5186\u7a0b\u5ea6\u3067\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u30e1\u30fc\u30ab\u30fc\u306b\u3088\u3063\u3066\u30a2\u30c0\u30d7\u30bf\u5f62\u72b6\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308b\u305f\u3081\u3001\u57fa\u672c\u7684\u306b\u306f\u540c\u3058\u88fd\u54c1\u3067\u69cb\u6210\u3059\u308b\u65b9\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002 InfiniBand \u30b1\u30fc\u30d6\u30eb HCA\u3068HCA\u3001\u307e\u305f\u306fHCA\u3068IB\u30b9\u30a4\u30c3\u30c1\u3092\u63a5\u7d9a\u3057\u307e\u3059\u3002 \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u30b1\u30fc\u30d6\u30eb\u3068\u6bd4\u8f03\u3059\u308b\u3068\u592a\u304f\u3001\u53d6\u308a\u56de\u3057\u304c\u3057\u3065\u3089\u3044\u305f\u3081\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002 \u307e\u305f\u3001\u5f8c\u8ff0\u306e\u8ee2\u9001\u30ec\u30fc\u30c8\u3068\u30ec\u30fc\u30f3\u6570\u306e\u4ed5\u69d8\u3068\u3001\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u5f62\u72b6\u3092\u8003\u616e\u3057\u3066\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 InfiniBand \u30b9\u30a4\u30c3\u30c1 \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u3067\u8a00\u3046\u3068\u3053\u308d\u306e\u30b9\u30a4\u30c3\u30c1\u30f3\u30b0\u30cf\u30d6\u306b\u3042\u305f\u308a\u307e\u3059\u3002 \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u540c\u58eb\u306e1\u5bfe1\u63a5\u7d9a\u3067\u306f\u306a\u304f\u3001\u8907\u6570\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3092\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002 \u3053\u3061\u3089\u3082\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306a\u3069\u306b\u51fa\u54c1\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001HCA\u3068\u6bd4\u8f03\u3059\u308b\u3068\u9ad8\u4fa1\u3067\u3042\u308b\u305f\u3081\u3001\u81ea\u5b85\u3067\u306e\u5229\u7528\u4f8b\u306f\u5c11\u306a\u3044\u3088\u3046\u3067\u3059\u3002 \u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3068\u30ec\u30a4\u30c6\u30f3\u30b7 InfiniBand\u306f\u3001\u8907\u6570\u306e\u30ec\u30fc\u30f3\u3092\u675f\u306d\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ec\u30fc\u30f3\u6570\u306f1, 4, 8, 12\u30ec\u30fc\u30f3\u306e\u3082\u306e\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u30014\u30ec\u30fc\u30f3\u306e\u88fd\u54c1\u304c\u591a\u304f\u51fa\u56de\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002 \u307e\u305f\u3001\u8ee2\u9001\u30ec\u30fc\u30c8\u306f2019/12\u73fe\u5728\u3067\u5b58\u5728\u3059\u308b\u898f\u683c\u3067\u3001\u4e0b\u8a18\u306e\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002 \u8ee2\u9001\u30ec\u30fc\u30c8 1\u30ec\u30fc\u30f3\u8fba\u308a\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8 \u898f\u683c\u7b56\u5b9a\u6642\u671f Single Data Rate(SDR) 2.0 Gbps 2000\u5e74 Dauble Data Rate(DDR) 4.0 Gbps 2005\u5e74 Quad Data Rate(QDR) 8.0 Gbps 2007\u5e74 Fourteen Data Rate(FDR) 13.64 Gbps 2011\u5e74 Enhanced Data Rate(EDR) 25.0 Gbps 2014\u5e74 High Data Rate(HDR) 50.0 Gbps 2017\u5e74 RDMA\u306e\u30b5\u30dd\u30fc\u30c8 OS/CPU\u3092\u7d4c\u7531\u305b\u305a\u3001\u30ea\u30e2\u30fc\u30c8\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u30e1\u30e2\u30ea\u3078\u76f4\u63a5\u30c7\u30fc\u30bf\u9001\u53d7\u4fe1\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3042\u308bRemote Direct Memory Access(RDMA)\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002","title":"InfiniBand"},{"location":"InfiniBand/#infiniband","text":"InfiniBand\u3068\u306f\u3001\u9ad8\u3044\u4fe1\u983c\u6027\u30fb\u53ef\u7528\u6027\u30fb\u4fdd\u5b88\u6027(RAS)\u3092\u6301\u3061\u3001\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u30fb\u30ec\u30a4\u30c6\u30f3\u30b7\u5171\u306b\u9ad8\u901f\u306a\u30a4\u30f3\u30bf\u30fc\u30b3\u30cd\u30af\u30c8\u3067\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u60c5\u5831\u3092\u898b\u3066\u56de\u3063\u305f\u3068\u3053\u308d\u3001\u306a\u3093\u3068\u306a\u304f\u3067\u3059\u304c\u3001Mellanox\u793e\u88fd\u306e\u88fd\u54c1\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u4f8b\u304c\u591a\u3044\u6c17\u304c\u3057\u307e\u3059\u3002","title":"InfiniBand"},{"location":"InfiniBand/#_1","text":"Host Channel Adapter InfiniBand\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u30ab\u30fc\u30c9\u306fHost Channel Adapter(HCA)\u3068\u547c\u3073\u3001\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u3067\u8a00\u3046\u3068\u3053\u308d\u306eNIC\u306b\u3042\u305f\u308a\u307e\u3059\u3002 HCA\u306f2\uff5e3\u4e16\u4ee3\u524d\u306e\u4e2d\u53e4\u54c1\u304c\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306a\u3069\u3067\u591a\u304f\u51fa\u56de\u3063\u3066\u304a\u308a\u30013,000\uff5e8,000\u5186\u7a0b\u5ea6\u3067\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u30e1\u30fc\u30ab\u30fc\u306b\u3088\u3063\u3066\u30a2\u30c0\u30d7\u30bf\u5f62\u72b6\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308b\u305f\u3081\u3001\u57fa\u672c\u7684\u306b\u306f\u540c\u3058\u88fd\u54c1\u3067\u69cb\u6210\u3059\u308b\u65b9\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002 InfiniBand \u30b1\u30fc\u30d6\u30eb HCA\u3068HCA\u3001\u307e\u305f\u306fHCA\u3068IB\u30b9\u30a4\u30c3\u30c1\u3092\u63a5\u7d9a\u3057\u307e\u3059\u3002 \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u30b1\u30fc\u30d6\u30eb\u3068\u6bd4\u8f03\u3059\u308b\u3068\u592a\u304f\u3001\u53d6\u308a\u56de\u3057\u304c\u3057\u3065\u3089\u3044\u305f\u3081\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002 \u307e\u305f\u3001\u5f8c\u8ff0\u306e\u8ee2\u9001\u30ec\u30fc\u30c8\u3068\u30ec\u30fc\u30f3\u6570\u306e\u4ed5\u69d8\u3068\u3001\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u5f62\u72b6\u3092\u8003\u616e\u3057\u3066\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 InfiniBand \u30b9\u30a4\u30c3\u30c1 \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u3067\u8a00\u3046\u3068\u3053\u308d\u306e\u30b9\u30a4\u30c3\u30c1\u30f3\u30b0\u30cf\u30d6\u306b\u3042\u305f\u308a\u307e\u3059\u3002 \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u540c\u58eb\u306e1\u5bfe1\u63a5\u7d9a\u3067\u306f\u306a\u304f\u3001\u8907\u6570\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3092\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002 \u3053\u3061\u3089\u3082\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306a\u3069\u306b\u51fa\u54c1\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001HCA\u3068\u6bd4\u8f03\u3059\u308b\u3068\u9ad8\u4fa1\u3067\u3042\u308b\u305f\u3081\u3001\u81ea\u5b85\u3067\u306e\u5229\u7528\u4f8b\u306f\u5c11\u306a\u3044\u3088\u3046\u3067\u3059\u3002","title":"\u69cb\u6210\u90e8\u54c1"},{"location":"InfiniBand/#_2","text":"InfiniBand\u306f\u3001\u8907\u6570\u306e\u30ec\u30fc\u30f3\u3092\u675f\u306d\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ec\u30fc\u30f3\u6570\u306f1, 4, 8, 12\u30ec\u30fc\u30f3\u306e\u3082\u306e\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u30014\u30ec\u30fc\u30f3\u306e\u88fd\u54c1\u304c\u591a\u304f\u51fa\u56de\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002 \u307e\u305f\u3001\u8ee2\u9001\u30ec\u30fc\u30c8\u306f2019/12\u73fe\u5728\u3067\u5b58\u5728\u3059\u308b\u898f\u683c\u3067\u3001\u4e0b\u8a18\u306e\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002 \u8ee2\u9001\u30ec\u30fc\u30c8 1\u30ec\u30fc\u30f3\u8fba\u308a\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8 \u898f\u683c\u7b56\u5b9a\u6642\u671f Single Data Rate(SDR) 2.0 Gbps 2000\u5e74 Dauble Data Rate(DDR) 4.0 Gbps 2005\u5e74 Quad Data Rate(QDR) 8.0 Gbps 2007\u5e74 Fourteen Data Rate(FDR) 13.64 Gbps 2011\u5e74 Enhanced Data Rate(EDR) 25.0 Gbps 2014\u5e74 High Data Rate(HDR) 50.0 Gbps 2017\u5e74","title":"\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3068\u30ec\u30a4\u30c6\u30f3\u30b7"},{"location":"InfiniBand/#rdma","text":"OS/CPU\u3092\u7d4c\u7531\u305b\u305a\u3001\u30ea\u30e2\u30fc\u30c8\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u30e1\u30e2\u30ea\u3078\u76f4\u63a5\u30c7\u30fc\u30bf\u9001\u53d7\u4fe1\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3042\u308bRemote Direct Memory Access(RDMA)\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002","title":"RDMA\u306e\u30b5\u30dd\u30fc\u30c8"},{"location":"C%EF%BC%83/mergeAssemblies/","text":".Net Core\u3067\u306eDLL\u57cb\u3081\u8fbc\u307f C# 8.0 \u3068 .Net Core 3.0 2019/9\u306bC# 8.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002C# 8.0\u3067\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5b9f\u88c5\u3084switch\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u306a\u3069\u306e\u65b0\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u4e00\u90e8\u306e\u6a5f\u80fd\u306f\u65e2\u5b58\u306e.Net Framework4.8\u3067\u306f\u5bfe\u5fdc\u3057\u3066\u304a\u3089\u305a\u3001.Net Core 3.0/.Net Standard 2.1\u4ee5\u964d\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002 1 \u307e\u305f\u3001.Net Framework\u306f4.8\u304c\u6700\u5f8c\u3068\u306a\u308a\u3001\u4eca\u5f8c\u306f.Net Core\u306b\u79fb\u3063\u3066\u3044\u304f\u305d\u3046\u3067\u3059\u3002 .Net Core\u3068\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u5c55\u958b .Net Framework\u3092\u5229\u7528\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067DLL\u3092\u30de\u30fc\u30b8\u3057\u305f\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb(*.exe)\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306fILMerge\u3084\u3001Costura.Fody\u3068\u3044\u3063\u305f\u3001\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002 \u3057\u304b\u3057\u3001.Net Core 3.0\u3067\u306fSDK\u306e\u6a19\u6e96\u6a5f\u80fd\u3068\u3057\u3066\u3001\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb 2 \u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u767a\u884c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u3068\u8a2d\u5b9a .Net Core 3.0\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3001DLL\u3092\u57cb\u3081\u8fbc\u3093\u3060\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001\u300c\u767a\u884c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u300d\u3068\u547c\u3070\u308c\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u767a\u884c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306f\u4e0b\u8a18\u306e\u624b\u9806\u3067\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u516c\u958b\u3057\u305f\u3044\u5bfe\u8c61\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u300c\u767a\u884c\u300d\u3092\u9078\u629e\u3002 \u767a\u884c\u5148\u3067\u300c\u30d5\u30a9\u30eb\u30c0\u30fc\u300d\u3092\u9078\u629e\u3057\u3001\u300c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3002 \u300c\u767a\u884c\u300d\u753b\u9762\u3092\u4e00\u5ea6\u9589\u3058\u308b\u3002 \u5bfe\u8c61\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e Properties/PublishProfiles \u30d5\u30a9\u30eb\u30c0\u5185\u306b FolderProfile.pubxml \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3066\u958b\u304f\u3002 PropertyGroup \u30d6\u30ed\u30c3\u30af\u5185\u306b\u4e0b\u8a182\u884c\u3092\u8a2d\u5b9a\u3059\u308b\u3002 RuntimeIdentifier \u306b\u3064\u3044\u3066\u306f\u9069\u5b9c\u8a2d\u5b9a\u3059\u308b\u3002 <RuntimeIdentifier>win10-x64</RuntimeIdentifier> <PublishSingleFile>true</PublishSingleFile> \u518d\u5ea6\u3001\u300c\u767a\u884c\u300d\u753b\u9762\u3092\u958b\u3044\u3066 FolderProfile \u53f3\u306e\u300c\u767a\u884c\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3002 \u4ee5\u4e0a\u3067\u3001\u767a\u884c\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30d5\u30a9\u30eb\u30c0\u306b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u53d6\u308a\u51fa\u3057\u3066\u914d\u5e03\u304c\u3067\u304d\u307e\u3059\u3002 .Net Core 3.0 \u300c\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\u300d\u306e\u554f\u984c \u524d\u8ff0\u306e\u624b\u9806\u3067DLL\u3092\u57cb\u3081\u8fbc\u3093\u3060\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb(*.exe)\u304c\u751f\u6210\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001ILMerge\u3084Costura.Fody\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u751f\u6210\u3068\u6bd4\u8f03\u3057\u3066\u30011\u70b9\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u308c\u306f\u300c\u767a\u884c\u306e\u969b\u306b\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092\u9650\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u300d 3 \u3068\u3044\u3046\u70b9\u3067\u3059\u3002 .Net Framework4.5\u4ee5\u964d\u3067\u306f\u30bf\u30fc\u30b2\u30c3\u30c8\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306bAnyCpu\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067 x86, x64, Itanium, ARM32 \u306e4\u7a2e\u985e\u306eCPU\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u4e0a\u306eWindows OS\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u3089\u308c\u308b\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3057\u3001Fody.Costura\u306a\u3069\u3092\u5229\u7528\u3057\u3066\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002 \u3057\u304b\u3057\u3001\u73fe\u6642\u70b9\u306e .Net Core 3.0\u3067\u306f\u3001x86\u30d0\u30a4\u30ca\u30ea\u3068\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3057\u304b\u3001\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3067\u767a\u884c\u3059\u308b\u65b9\u6cd5\u306f\u306a\u3055\u305d\u3046\u3067\u3059\u3002 4 x86\u30d0\u30a4\u30ca\u30ea\u306e\u5834\u5408\u30e6\u30fc\u30b6\u30e1\u30e2\u30ea\u7a7a\u9593\u30b5\u30a4\u30ba\u306e\u5236\u9650\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u5927\u91cf\u306e\u30e1\u30e2\u30ea\u7a7a\u9593\u304c\u5fc5\u8981\u306a\u5834\u9762\u3067\u3042\u308c\u3070ARM\u3092\u5bfe\u8c61\u304b\u3089\u5916\u3057\u3066x64\u3092\u5bfe\u8c61\u3068\u3057\u3066\u304a\u3051\u3070\u826f\u3044\u3068\u601d\u3046\u306e\u3067\u3001\u500b\u4eba\u7684\u306b\u306f\u305d\u3053\u307e\u3067\u554f\u984c\u306b\u306f\u306a\u3089\u306a\u3044\u306e\u304b\u306a\u3068\u601d\u3044\u307e\u3059 5 \u3002 \u306a\u304a .Net Core 3.0\u3067\u306fWindows-Itanium\u306e\u30b5\u30dd\u30fc\u30c8\u306f\u524a\u9664\u3055\u308c\u3066\u3044\u307e\u3059 6 \u3002 \u307e\u305f\u3001 .Net Core 3.0\u3067\u306f\u3001OS\u306e\u57a3\u6839\u3092\u8d8a\u3048\u3066 Mac OS X-x64, Linux-x64, Linux-ARM32, Linux-ARM64 \u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u3057\u304b\u3057\u3001WPF\u306a\u3069\u3092\u5229\u7528\u3059\u308bGUI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3084\u30cd\u30a4\u30c6\u30a3\u30d6\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\u306f\u3001Windows\u4ee5\u5916\u3067\u306f\u52d5\u4f5c\u3057\u306a\u3044\u305f\u3081\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u8fba\u308a\u306fXamarin\u306a\u3069\u3092\u99c6\u4f7f\u3057\u3066OS\u6bce\u306b\u3084\u3063\u3066\u3044\u304f\u611f\u3058\u306a\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u3002 C# 8.0 \u306e\u65b0\u6a5f\u80fd - C# \u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u5165\u9580 | ++C++; // \u672a\u78ba\u8a8d\u98db\u884c C \u21a9 \u5358\u4e00\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb .Net Core 3.0 \u306e\u65b0\u6a5f\u80fd | Microsoft Docs \u21a9 \u3053\u306e\u70b9\u306b\u3064\u3044\u3066\u306f\u3001Costura.Fody\u306eGitHub\u4e0a\u3067\u3082\u6307\u6458\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Sunset/Obsolete Costura? Issue #442 - Fody/Costura \u21a9 Win-x86\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306fWindows on ARM\u3067\u3082\u30d0\u30a4\u30ca\u30ea\u30c8\u30e9\u30f3\u30b9\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059 \u21a9 Windows on ARM\u304c\u30b5\u30fc\u30d0\u7528\u9014\u306b\u3082\u9032\u51fa\u3057\u3066\u304f\u308b\u3068\u8a71\u306f\u5909\u308f\u3063\u3066\u304d\u307e\u3059\u304c\u2026 \u21a9 .NET Core 3.0 - Supported OS versions - dotnet/core \u21a9","title":".Net Core\u3067\u306eDLL\u57cb\u3081\u8fbc\u307f"},{"location":"C%EF%BC%83/mergeAssemblies/#net-coredll","text":"","title":".Net Core\u3067\u306eDLL\u57cb\u3081\u8fbc\u307f"},{"location":"C%EF%BC%83/mergeAssemblies/#c-80-net-core-30","text":"2019/9\u306bC# 8.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002C# 8.0\u3067\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5b9f\u88c5\u3084switch\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u306a\u3069\u306e\u65b0\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u4e00\u90e8\u306e\u6a5f\u80fd\u306f\u65e2\u5b58\u306e.Net Framework4.8\u3067\u306f\u5bfe\u5fdc\u3057\u3066\u304a\u3089\u305a\u3001.Net Core 3.0/.Net Standard 2.1\u4ee5\u964d\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002 1 \u307e\u305f\u3001.Net Framework\u306f4.8\u304c\u6700\u5f8c\u3068\u306a\u308a\u3001\u4eca\u5f8c\u306f.Net Core\u306b\u79fb\u3063\u3066\u3044\u304f\u305d\u3046\u3067\u3059\u3002","title":"C# 8.0 \u3068 .Net Core 3.0"},{"location":"C%EF%BC%83/mergeAssemblies/#net-core","text":".Net Framework\u3092\u5229\u7528\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067DLL\u3092\u30de\u30fc\u30b8\u3057\u305f\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb(*.exe)\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306fILMerge\u3084\u3001Costura.Fody\u3068\u3044\u3063\u305f\u3001\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002 \u3057\u304b\u3057\u3001.Net Core 3.0\u3067\u306fSDK\u306e\u6a19\u6e96\u6a5f\u80fd\u3068\u3057\u3066\u3001\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb 2 \u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002","title":".Net Core\u3068\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u5c55\u958b"},{"location":"C%EF%BC%83/mergeAssemblies/#_1","text":".Net Core 3.0\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3001DLL\u3092\u57cb\u3081\u8fbc\u3093\u3060\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001\u300c\u767a\u884c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u300d\u3068\u547c\u3070\u308c\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u767a\u884c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306f\u4e0b\u8a18\u306e\u624b\u9806\u3067\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u516c\u958b\u3057\u305f\u3044\u5bfe\u8c61\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u300c\u767a\u884c\u300d\u3092\u9078\u629e\u3002 \u767a\u884c\u5148\u3067\u300c\u30d5\u30a9\u30eb\u30c0\u30fc\u300d\u3092\u9078\u629e\u3057\u3001\u300c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3002 \u300c\u767a\u884c\u300d\u753b\u9762\u3092\u4e00\u5ea6\u9589\u3058\u308b\u3002 \u5bfe\u8c61\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e Properties/PublishProfiles \u30d5\u30a9\u30eb\u30c0\u5185\u306b FolderProfile.pubxml \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3066\u958b\u304f\u3002 PropertyGroup \u30d6\u30ed\u30c3\u30af\u5185\u306b\u4e0b\u8a182\u884c\u3092\u8a2d\u5b9a\u3059\u308b\u3002 RuntimeIdentifier \u306b\u3064\u3044\u3066\u306f\u9069\u5b9c\u8a2d\u5b9a\u3059\u308b\u3002 <RuntimeIdentifier>win10-x64</RuntimeIdentifier> <PublishSingleFile>true</PublishSingleFile> \u518d\u5ea6\u3001\u300c\u767a\u884c\u300d\u753b\u9762\u3092\u958b\u3044\u3066 FolderProfile \u53f3\u306e\u300c\u767a\u884c\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3002 \u4ee5\u4e0a\u3067\u3001\u767a\u884c\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30d5\u30a9\u30eb\u30c0\u306b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u53d6\u308a\u51fa\u3057\u3066\u914d\u5e03\u304c\u3067\u304d\u307e\u3059\u3002","title":"\u767a\u884c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u3068\u8a2d\u5b9a"},{"location":"C%EF%BC%83/mergeAssemblies/#net-core-30","text":"\u524d\u8ff0\u306e\u624b\u9806\u3067DLL\u3092\u57cb\u3081\u8fbc\u3093\u3060\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb(*.exe)\u304c\u751f\u6210\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001ILMerge\u3084Costura.Fody\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u751f\u6210\u3068\u6bd4\u8f03\u3057\u3066\u30011\u70b9\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u308c\u306f\u300c\u767a\u884c\u306e\u969b\u306b\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092\u9650\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u300d 3 \u3068\u3044\u3046\u70b9\u3067\u3059\u3002 .Net Framework4.5\u4ee5\u964d\u3067\u306f\u30bf\u30fc\u30b2\u30c3\u30c8\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306bAnyCpu\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067 x86, x64, Itanium, ARM32 \u306e4\u7a2e\u985e\u306eCPU\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u4e0a\u306eWindows OS\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u3089\u308c\u308b\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3057\u3001Fody.Costura\u306a\u3069\u3092\u5229\u7528\u3057\u3066\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002 \u3057\u304b\u3057\u3001\u73fe\u6642\u70b9\u306e .Net Core 3.0\u3067\u306f\u3001x86\u30d0\u30a4\u30ca\u30ea\u3068\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3057\u304b\u3001\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3067\u767a\u884c\u3059\u308b\u65b9\u6cd5\u306f\u306a\u3055\u305d\u3046\u3067\u3059\u3002 4 x86\u30d0\u30a4\u30ca\u30ea\u306e\u5834\u5408\u30e6\u30fc\u30b6\u30e1\u30e2\u30ea\u7a7a\u9593\u30b5\u30a4\u30ba\u306e\u5236\u9650\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u5927\u91cf\u306e\u30e1\u30e2\u30ea\u7a7a\u9593\u304c\u5fc5\u8981\u306a\u5834\u9762\u3067\u3042\u308c\u3070ARM\u3092\u5bfe\u8c61\u304b\u3089\u5916\u3057\u3066x64\u3092\u5bfe\u8c61\u3068\u3057\u3066\u304a\u3051\u3070\u826f\u3044\u3068\u601d\u3046\u306e\u3067\u3001\u500b\u4eba\u7684\u306b\u306f\u305d\u3053\u307e\u3067\u554f\u984c\u306b\u306f\u306a\u3089\u306a\u3044\u306e\u304b\u306a\u3068\u601d\u3044\u307e\u3059 5 \u3002 \u306a\u304a .Net Core 3.0\u3067\u306fWindows-Itanium\u306e\u30b5\u30dd\u30fc\u30c8\u306f\u524a\u9664\u3055\u308c\u3066\u3044\u307e\u3059 6 \u3002 \u307e\u305f\u3001 .Net Core 3.0\u3067\u306f\u3001OS\u306e\u57a3\u6839\u3092\u8d8a\u3048\u3066 Mac OS X-x64, Linux-x64, Linux-ARM32, Linux-ARM64 \u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u3057\u304b\u3057\u3001WPF\u306a\u3069\u3092\u5229\u7528\u3059\u308bGUI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3084\u30cd\u30a4\u30c6\u30a3\u30d6\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\u306f\u3001Windows\u4ee5\u5916\u3067\u306f\u52d5\u4f5c\u3057\u306a\u3044\u305f\u3081\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u8fba\u308a\u306fXamarin\u306a\u3069\u3092\u99c6\u4f7f\u3057\u3066OS\u6bce\u306b\u3084\u3063\u3066\u3044\u304f\u611f\u3058\u306a\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u3002 C# 8.0 \u306e\u65b0\u6a5f\u80fd - C# \u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u5165\u9580 | ++C++; // \u672a\u78ba\u8a8d\u98db\u884c C \u21a9 \u5358\u4e00\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb .Net Core 3.0 \u306e\u65b0\u6a5f\u80fd | Microsoft Docs \u21a9 \u3053\u306e\u70b9\u306b\u3064\u3044\u3066\u306f\u3001Costura.Fody\u306eGitHub\u4e0a\u3067\u3082\u6307\u6458\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Sunset/Obsolete Costura? Issue #442 - Fody/Costura \u21a9 Win-x86\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306fWindows on ARM\u3067\u3082\u30d0\u30a4\u30ca\u30ea\u30c8\u30e9\u30f3\u30b9\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059 \u21a9 Windows on ARM\u304c\u30b5\u30fc\u30d0\u7528\u9014\u306b\u3082\u9032\u51fa\u3057\u3066\u304f\u308b\u3068\u8a71\u306f\u5909\u308f\u3063\u3066\u304d\u307e\u3059\u304c\u2026 \u21a9 .NET Core 3.0 - Supported OS versions - dotnet/core \u21a9","title":".Net Core 3.0 \u300c\u5358\u4e00\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\u300d\u306e\u554f\u984c"},{"location":"Docker/","text":"Docker Docker\u5168\u822c\u306b\u3064\u3044\u3066\u306e\u30da\u30fc\u30b8\u3067\u3059\u3002 BuildKit\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9 BuildKit\u3068docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u4e26\u5217/\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u5bfe\u5fdc/\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u5916\u90e8\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8/\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u3066\u30d3\u30eb\u30c9\u3092\u3057\u305f\u304a\u8a71\u3002 Docker Compose \u8a2d\u5b9a\u96c6 \u5de6\u306e \u300cCompose\u8a2d\u5b9a\u96c6\u300d \u306e\u4e2d\u306b\u3001docker-compose\u30d5\u30a1\u30a4\u30eb\u3092\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\u4fdd\u7ba1\u3057\u3066\u3044\u307e\u3059\u3002","title":"Docker"},{"location":"Docker/#docker","text":"Docker\u5168\u822c\u306b\u3064\u3044\u3066\u306e\u30da\u30fc\u30b8\u3067\u3059\u3002","title":"Docker"},{"location":"Docker/#buildkit","text":"BuildKit\u3068docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u4e26\u5217/\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u5bfe\u5fdc/\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u5916\u90e8\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8/\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u3066\u30d3\u30eb\u30c9\u3092\u3057\u305f\u304a\u8a71\u3002","title":"BuildKit\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9"},{"location":"Docker/#docker-compose","text":"\u5de6\u306e \u300cCompose\u8a2d\u5b9a\u96c6\u300d \u306e\u4e2d\u306b\u3001docker-compose\u30d5\u30a1\u30a4\u30eb\u3092\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\u4fdd\u7ba1\u3057\u3066\u3044\u307e\u3059\u3002","title":"Docker Compose \u8a2d\u5b9a\u96c6"},{"location":"Docker/BuildKit/","text":"BuildKit\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b Docker\u3067\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304d\u306b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u3053\u3068\u3092\u8003\u3048\u3066\u3044\u307e\u3057\u305f\u3002 \u30d3\u30eb\u30c9\u6642\u9593\u3092\u77ed\u304f\u3057\u305f\u3044 Raspberry Pi\u3067\u3082\u52d5\u304f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u308a\u305f\u3044 \u305d\u3053\u3067BuildKit\u3092\u4f7f\u3063\u3066\u3001\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0(multi-platform)\u306e\u30a4\u30e1\u30fc\u30b8\u3092 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8(multi-stage)\u30d3\u30eb\u30c9\u3092\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 BuildKit\u306b\u3064\u3044\u3066\u306e\u8aac\u660e\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u30d3\u30eb\u30c9\u65b9\u6cd5\u3092\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u3001 BuildKit\u3068docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3 \u306e\u7ae0\u304b\u3089\u8aad\u3093\u3067\u304f\u3060\u3055\u3044\u3002 BuildKit\u3068\u306f BuildKit 1 \u3068\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3067\u3042\u308a\u3001 buildkitd \u3068\u3044\u3046\u30c7\u30fc\u30e2\u30f3\u3068 buildctl \u30b3\u30de\u30f3\u30c9\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Docker\u306e\u6a19\u6e96\u306e\u30d3\u30eb\u30c9\u3068\u6bd4\u3079\u3066\u3001BuildKit\u3067\u30d3\u30eb\u30c9\u3057\u305f\u5834\u5408\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8Dockerfile\u306e\u5404\u30b9\u30c6\u30fc\u30b8\u3092\u4e26\u5217\u30d3\u30eb\u30c9\u3067\u304d\u308b \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092DockerHub\u306a\u3069\u306b\u5916\u90e8\u4fdd\u5b58/\u518d\u5229\u7528\u304c\u3067\u304d\u308b \u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u5bfe\u5fdc\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3067\u304d\u308b (2020\u5e746\u6708\u6642\u70b9\u3067\u306fLinux\u306e\u307f) Dockerfile\u5185\u306e\u30d3\u30eb\u30c9\u6642\u306b\u5b9f\u884c\u3059\u308bRUN\u30b3\u30de\u30f3\u30c9\u3067\u3001\u65b0\u305f\u306a\u5b9f\u9a13\u7684\u6a5f\u80fd\u3092\u4f7f\u7528\u3067\u304d\u308b SSH\u63a5\u7d9a\u3067\u30ea\u30e2\u30fc\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97 \u79d8\u5bc6\u9375\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30e1\u30fc\u30b8\u5185\u306b\u6b8b\u3055\u306a\u3044\u3088\u3046\u306b\u30de\u30a6\u30f3\u30c8 \u306a\u3069 5 \u307e\u305f\u3001BuildKit\u306e\u4e00\u90e8\u6a5f\u80fd\u306fDocker 18.06\u4ee5\u964d\u306eDocker Engine\u306b\u7d71\u5408\u3055\u308c\u3066\u304a\u308a\u3001 Docker\u5358\u4f53\u3067\u3082BuildKit\u306e\u4e00\u90e8\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u56f3: Docker Engine\u7d71\u5408\u306eBuildKit\u3067\u306e\u30d3\u30eb\u30c9\u3068\u3001 buildkitd, buildctl \u3092\u4f7f\u7528\u3057\u305f\u30d3\u30eb\u30c9 BuildKit\u3068docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3 BuildKit\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30eb\u30c9\u3092\u3059\u308b\u306b\u306f\u3001 buildkitd \u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5\u3057\u3066 buildctl \u30b3\u30de\u30f3\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u65e2\u306bDocker\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3042\u308c\u3070\u3001 docker-buildx 2 \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001 \u4e0b\u8a18\u306e\u69d8\u306a\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u30d3\u30eb\u30c9\u6642\u306b\u3001\u81ea\u52d5\u3067 buildkitd , buildctl \u3092\u542b\u3080\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5 docker\u30b3\u30de\u30f3\u30c9\u3068\u540c\u3058\u3088\u3046\u306aUI\u3067\u30d3\u30eb\u30c9\u304c\u3067\u304d\u308b \u56f3: docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30eb\u30c9 docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb docker-buildx 2 \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u4e0b\u8a18\u306e3\u70b9\u304c\u5fc5\u8981\u3067\u3059\u3002 Docker CLI\u306e\u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u6709\u52b9\u5316 docker-buildx\u306f2020\u5e746\u6708\u6642\u70b9\u3067\u306f\u3001\u307e\u3060\u5b9f\u9a13\u7684\u6a5f\u80fd\u3068\u4f4d\u7f6e\u3065\u3051\u3089\u308c\u3066\u3044\u308b\u305f\u3081\u3001 docker CLI\u306e\u8a2d\u5b9a\u3067\u5b9f\u9a13\u7684\u6a5f\u80fd\u3092\u6709\u52b9\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Docker for Linux\u306e\u5834\u5408) Docker for Linux\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001 GitHub\u306edocker/buildx \u306e\u30ea\u30ea\u30fc\u30b9\u30da\u30fc\u30b8\u304b\u3089\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 Docker Desktop\u306e\u5834\u5408\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002 qemu-user-static\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Docker for Linux\u306e\u5834\u5408) \u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u5834\u5408\u306f\u3001\u5bfe\u5fdc\u3059\u308b\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u5b9f\u884c\u74b0\u5883\u304c\u5fc5\u8981\u3067\u3059\u3002 \u4eca\u56de\u306f qemu-user-static \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb 6 \u3057\u3001\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u3092\u7528\u610f\u3057\u307e\u3059\u3002 \u3053\u3061\u3089\u3082Docker Desktop\u306e\u5834\u5408\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Docker Desktop for Windows/Mac \u306e\u5834\u5408 Docker Desktop\u306eSettings\u753b\u9762\u3067\u753b\u9762\u4e2d\u592e\u306e\u300cCLI Experimental\u300d\u306e\u30c8\u30b0\u30eb\u30b9\u30a4\u30c3\u30c1\u3092\u6709\u52b9\u306b\u3057\u3066\u304b\u3089 \u53f3\u4e0b\u306e\u300cApply & Restart\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u53cd\u6620\u3057\u307e\u3059\u3002 docker-buildx \u30d7\u30e9\u30b0\u30a4\u30f3\u3068 qemu-user-static \u306f\u3001Docker Desktop\u306b\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e0d\u8981\u3067\u3059\u3002 Docker for Linux \u306e\u5834\u5408 \u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u6709\u52b9\u5316\u3068docker-buildx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb # \u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u6709\u52b9\u5316 (\u65b9\u6cd51: ~/.docker/config.json\u306e\u7de8\u96c6) cp -p ~/.docker/config.json { ,.bk } && \\ cat ~/.docker/config.json.bk | docker run -i --rm alpine:latest sh -c \\ \"apk add --no-cache jq > /dev/null \\ && jq '. |= .+{\\\"experimental\\\": \\\"enabled\\\"}'\" > ~/.docker/config.json # \u3082\u3057\u304f\u306f\u3001 # \u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u6709\u52b9\u5316 (\u65b9\u6cd52: \u74b0\u5883\u5909\u6570'DOCKER_CLI_EXPERIMENTAL'\u3092\u8a2d\u5b9a) export DOCKER_CLI_EXPERIMENTAL = enabled # docker-buildx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb mkdir -p ~/.docker/cli-plugins && \\ docker run --rm alpine:latest sh -c \\ \"apk add --no-cache curl jq > /dev/null \\ && curl -sS https://api.github.com/repos/docker/buildx/releases/latest | \\ jq -r '.assets[].browser_download_url' | grep linux-amd64 | xargs curl -sSL\" \\ > ~/.docker/cli-plugins/docker-buildx \\ && chmod a+x ~/.docker/cli-plugins/docker-buildx # buildx\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u8868\u793a\u78ba\u8a8d docker buildx version # qemu-user-static\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Ubuntu/Debian \u306e\u5834\u5408) sudo apt install qemu-user-static # qemu-user-static\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Fedora \u306e\u5834\u5408) sudo dnf install qemu-user-static # \u3082\u3057\u304f\u306f\u3001 # qemu-user-static\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Docker\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3046\u5834\u5408) docker run --rm --privileged multiarch/qemu-user-static --reset -p yes \u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u9078\u629e docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u30d3\u30eb\u30c9\u3059\u308b\u969b\u306b\u306f\u300c\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u300d\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fDocker Engine\u5185\u306eBuildKit\u3092\u4f7f\u7528\u3059\u308b'docker'\u30c9\u30e9\u30a4\u30d0\u306e\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f7f\u7528\u3059\u308b\u8a2d\u5b9a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u30d5\u30eb\u6a5f\u80fd\u306eBuildKit\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001'docker-container' \u30c9\u30e9\u30a4\u30d0\u304b 'kubernetes' \u30c9\u30e9\u30a4\u30d0\u306e\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002 \u53c2\u8003: \u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30c9\u30e9\u30a4\u30d0\u306e\u7a2e\u985e \u30c9\u30e9\u30a4\u30d0 \u30d3\u30eb\u30c9\u5b9f\u884c\u65b9\u6cd5 docker Docker Engine\u306b\u7d71\u5408\u3055\u308c\u3066\u3044\u308bBuildKit\u3092\u4f7f\u7528\u3057\u3066\u3067\u30d3\u30eb\u30c9 docker-container buildkitd , buildctl \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fDocker\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210/\u8d77\u52d5\u3057\u3066\u30d3\u30eb\u30c9 kubernetes buildkitd , buildctl \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fKubernetes\u306e\u30dd\u30c3\u30c9\u3092\u4f5c\u6210/\u8d77\u52d5\u3057\u3066\u30d3\u30eb\u30c9 Docker\u30b3\u30f3\u30c6\u30ca\u306e\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u30d3\u30eb\u30c9\u5b9f\u884c # \u30b3\u30f3\u30c6\u30ca\u30c9\u30e9\u30a4\u30d0\u306e\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3001\u73fe\u5728\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5207\u308a\u66ff\u3048\u308b docker buildx create --driver docker-container --name container-builder --use # \u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u78ba\u8a8d (container-builder \u306e\u53f3\u306b '*' \u304c\u4ed8\u3044\u3066\u3044\u308b) docker buildx ls NAME/NODE DRIVER/ENDPOINT STATUS PLATFORMS container-builder * docker-container container-builder0 npipe:////./pipe/docker_engine inactive default docker default default running linux/amd64, linux/arm64, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/arm/v7, linux/arm/v6 # \u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b docker buildx stop docker-buildx\u3067\u30d3\u30eb\u30c9 Docker Hub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b/\u304b\u3089\u3001\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30a4\u30f3\u30dd\u30fc\u30c8/\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f\u3001 --cache-from , cache-to \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 buildx\u3067\u5916\u90e8\u30ad\u30e3\u30c3\u30b7\u30e5\u4f7f\u7528\u3057\u3066\u30d3\u30eb\u30c9\u3057\u3066push # \u30ec\u30b8\u30b9\u30c8\u30ea\u304b\u3089\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u30d3\u30eb\u30c9\u3057\u3001 # \u305d\u306e\u5f8c\u306b\u30ec\u30b8\u30b9\u30c8\u30ea\u3078\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3068\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u5225\u3005\u306b\u4fdd\u5b58 docker buildx build \\ --cache-from \"type=registry,ref=username/repo_name:cache_tag_name\" \\ --cache-to \"type=registry,ref=username/repo_name:cache_tag_name\" \\ --push --tag username/repo_name:tag_name . \u307e\u305f\u3001\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u5834\u5408\u306f\u3001 --platform \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 buildx\u3067\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066push # x86,x64,armv6,armv7,aarch64\u3067\u5229\u7528\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066push docker buildx build \\ --platform linux/386,linux/amd64,linux/arm/v6,linux/arm/v7,linux/arm64/v8 \\ --push --tag username/repo_name:tag_name . \u53c2\u8003: \u30ad\u30e3\u30c3\u30b7\u30e5\u30bf\u30a4\u30d7\u306e\u4e00\u89a7 (2020\u5e746\u6708\u6642\u70b9) \u30ad\u30e3\u30c3\u30b7\u30e5\u30bf\u30a4\u30d7 \u8aac\u660e inline\u30bf\u30a4\u30d7 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306b\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u57cb\u3081\u8fbc\u3093\u3067\u3001\u30a4\u30e1\u30fc\u30b8\u3068\u4e00\u7dd2\u306bDockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 registry\u30bf\u30a4\u30d7 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3068\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u5225\u3005\u306b\u3057\u3066\u3001DockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u30a4\u30e1\u30fc\u30b8\u3068\u30ad\u30e3\u30c3\u30b7\u30e5\u4fdd\u5b58\u5148\u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u540d:\u30bf\u30b0\u540d\u304c\u3001\u540c\u3058\u5834\u5408/\u7570\u306a\u308b\u5834\u5408\u306e\u3069\u3061\u3089\u3067\u3082\u30a8\u30af\u30b9\u30dd\u30fc\u30c8/\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u53ef\u80fd\u3067\u3059\u3002 local\u30bf\u30a4\u30d7 \u30d3\u30eb\u30c9\u3092\u5b9f\u884c\u3059\u308b\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 CI\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3059\u308b\u5834\u5408\u306a\u3069\u306b\u4fbf\u5229\u3067\u3059\u3002 \u6700\u65b0\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u3001 docker/buildx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3 \u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002 \u53c2\u8003: \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u4e00\u89a7 (2020\u5e746\u6708\u6642\u70b9) \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u540d linux/386 Linux / Intel x86(32bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/amd64 Linux / Intel x86_64(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/arm/v6 Linux / ARM v6(32bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/arm/v7 Linux / ARM v6(32bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/arm64/v8 Linux / ARM v8(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/mips64le Linux / MIPS64 Little Endian(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/ppc64le Linux / 64-bit PowerPC Little Endian(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/s390x Linux / IBM S/390(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 windows/amd64 Microsoft Windows / Intel x86_64(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u305d\u306e\u4ed6\u306eBuildKit\u306e\u5229\u7528\u65b9\u6cd5 \u4ee5\u964d\u306e\u7ae0\u3067\u306fdocker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5229\u7528\u3057\u306a\u3044BuildKit\u3067\u306e\u30d3\u30eb\u30c9\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 Docker\u3092\u4f7f\u7528\u305b\u305a\u3001buildkitd\u3068buildctl\u3067\u30d3\u30eb\u30c9\u3059\u308b Docker\u3092\u4f7f\u7528\u305b\u305a\u306b\u30d3\u30eb\u30c9\u3059\u308b\u306b\u306f\u3001BuildKit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002 \u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 BuildKit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001buildkitd\u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5 # BuildKit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb docker run --rm alpine:latest sh -c \\ \"apk add --no-cache curl jq > /dev/null \\ && curl -sS https://api.github.com/repos/moby/buildkit/releases | \\ jq -r '.[].assets[].browser_download_url' | \\ grep linux-amd64 | head -n 1 | xargs curl -sSL\" | \\ sudo tar zxf - -C /usr/local/ # buildkitd\u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5 sudo buildkitd buildctl\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9 # buildctl\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u5b9f\u884c sudo buildctl build --frontend = dockerfile.v0 --local context = . --local dockerfile = . Docker Engine\u306eBuildKit\u3067\u30d3\u30eb\u30c9 BuildKit\u3084docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u305b\u305a\u3001 Docker 18.06\u4ee5\u964d\u306eDocker Engine\u306b\u7d71\u5408\u3055\u308c\u3066\u3044\u308bBuildKit\u3067\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 BuildKit\u306e\u6709\u52b9\u5316 # Docker\u7d71\u5408\u306eBuildKit\u6709\u52b9\u5316 (\u65b9\u6cd51: \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u3001Docker Engine\u3092\u518d\u8d77\u52d5) ( test -f /etc/docker/daemon.json && cat /etc/docker/daemon.json || echo \"{}\" ) | \\ jq '. |= .+{\"features\": {\"buildkit\": true}}' | sudo tee /etc/docker/daemon.json sudo systemctl restart docker.servie # \u307e\u305f\u306f\u3001 # Docker\u7d71\u5408\u306eBuildKit\u6709\u52b9\u5316 (\u65b9\u6cd52: \u74b0\u5883\u5909\u6570'DOCKER_BUILDKIT'\u3092\u8a2d\u5b9a) export DOCKER_BUILDKIT = 1 # \u30d3\u30eb\u30c9\u5b9f\u884c docker build . 1\u3064\u3081\u306e\u65b9\u6cd5\u3067\u306f\u3001 /etc \u914d\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u3068\u30c7\u30fc\u30e2\u30f3\u306e\u518d\u8d77\u52d5\u3092\u884c\u3046\u305f\u3081\u3001root\u6a29\u9650\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 root\u6a29\u9650\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\u5834\u5408\u3084\u3001\u4e00\u6642\u7684\u306bBuildKit\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u74b0\u5883\u5909\u6570\u3067\u306e\u8a2d\u5b9a\u3092\u8a66\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Docker Engine\u306eBuildKit\u3067\u5229\u7528\u3067\u304d\u308b\u6a5f\u80fd 2020\u5e746\u6708\u6642\u70b9\u3067\u3001Docker 18.06\u4ee5\u964d\u306eDocker Engine\u306b\u7d71\u5408\u3055\u308c\u3066\u3044\u308bBuildKit\u3067\u306f \u5229\u7528\u3067\u304d\u306a\u3044\u6a5f\u80fd\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u3067\u5229\u7528\u3067\u304d\u308b\u6a5f\u80fd\u306e\u5dee\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u306e\u8868\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u6a5f\u80fd Docker Engine \u7d71\u5408\u7248 buildkitd \u30c7\u30fc\u30e2\u30f3\u7248 \u8aac\u660e \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u306e\u4e26\u5217\u5b9f\u884c \u2705 \u2705 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8Dockerfile\u306e\u5404\u30b9\u30c6\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\u3092\u53ef\u80fd\u306a\u9650\u308a\u4e26\u5217\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u5bfe\u5fdc\u306e\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9 -- \u2705 Intel(\u4e00\u822c\u7684\u306aPC/\u30b5\u30fc\u30d0)\u3084Arm(Raspberry Pi\u306a\u3069)\u306e\u8907\u6570\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3067\u5229\u7528\u3067\u304d\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u51fa\u529b \u2003\u2003inline\u30bf\u30a4\u30d7 \u2705 \u2705 \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30a4\u30e1\u30fc\u30b8\u306b\u57cb\u3081\u8fbc\u307f\u3001DockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u306e\u5834\u5408\u306f\u3001\u6700\u7d42\u7684\u306b\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u308b\u30b9\u30c6\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u307f\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002 \u2003\u2003registry\u30bf\u30a4\u30d7 -- \u2705 \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3068\u30a4\u30e1\u30fc\u30b8\u3092\u5206\u3051\u3066\u3001DockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u306e\u5834\u5408\u3001\u5168\u3066\u306e\u30b9\u30c6\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002 \u2003\u2003local\u30bf\u30a4\u30d7 -- \u2705 OCI\u30a4\u30e1\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u6e96\u62e0\u3057\u305f\u5f62\u5f0f\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u306e\u5834\u5408\u3001\u5168\u3066\u306e\u30b9\u30c6\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002 \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4f7f\u7528 \u2003\u2003registry\u30bf\u30a4\u30d7 \u2705 \u2705 DockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u304b\u3089\u3001inline\u5f62\u5f0f/egistry\u5f62\u5f0f\u306e\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 \u2003\u2003local\u30bf\u30a4\u30d7 -- \u2705 \u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u3001local\u5f62\u5f0f\u306e\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 Compose\u30d5\u30a1\u30a4\u30eb\u3067\u306e\u30d3\u30eb\u30c9 -- \u2705 docker-compose.yml\u30d5\u30a1\u30a4\u30eb\u304b\u3089Dockerfile\u3084\u30d3\u30eb\u30c9\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u8aad\u307f\u53d6\u3063\u3066\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 Dockerfile\u306e\u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u4f7f\u7528 \u2705 \u2705 \u30d3\u30eb\u30c9\u30b9\u30c6\u30c3\u30d7\u5358\u4f4d\u3067\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u30ad\u30e3\u30c3\u30b7\u30e5(--mount tyle=cache)\u3084\u8a8d\u8a3c\u60c5\u5831(--mount type=secret)\u3092\u30de\u30a6\u30f3\u30c8\u3057\u305f\u308a\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5236\u5fa1(--network=none|host|default)\u306a\u3069\u304c\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u306f GitHub\u4e0a\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 moby/buildkit: concurrent, cache-efficient, and Dockerfile-agnostic builder toolkit \u21a9 docker/buildx: Docker CLI plugin for extended build capabilities with BuildKit \u00b7 GitHub \u21a9 \u21a9 Docker Buildx | Docker Documentation \u21a9 Docker Blog\u3067\u306e\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30d3\u30eb\u30c9\u306e\u89e3\u8aac Multi-arch build and images, the simple way - Docker Blog \u21a9 Dockerfile\u306e\u5b9f\u9a13\u7684\u6a5f\u80fd\u306b\u3064\u3044\u3066\u306f Dockerfile frontend experimental syntaxes - buildkit/experimental.md GitHub \u3092\u53c2\u7167\u3002 \u21a9 \u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u5fdc\u3058\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u3001\u307e\u305f\u306f multiarch/qemu-user-static - Docker Hub \u306eDocker\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u21a9","title":"BuildKit\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b"},{"location":"Docker/BuildKit/#buildkit","text":"Docker\u3067\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304d\u306b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u3053\u3068\u3092\u8003\u3048\u3066\u3044\u307e\u3057\u305f\u3002 \u30d3\u30eb\u30c9\u6642\u9593\u3092\u77ed\u304f\u3057\u305f\u3044 Raspberry Pi\u3067\u3082\u52d5\u304f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u308a\u305f\u3044 \u305d\u3053\u3067BuildKit\u3092\u4f7f\u3063\u3066\u3001\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0(multi-platform)\u306e\u30a4\u30e1\u30fc\u30b8\u3092 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8(multi-stage)\u30d3\u30eb\u30c9\u3092\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 BuildKit\u306b\u3064\u3044\u3066\u306e\u8aac\u660e\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u30d3\u30eb\u30c9\u65b9\u6cd5\u3092\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u3001 BuildKit\u3068docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3 \u306e\u7ae0\u304b\u3089\u8aad\u3093\u3067\u304f\u3060\u3055\u3044\u3002","title":"BuildKit\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b"},{"location":"Docker/BuildKit/#buildkit_1","text":"BuildKit 1 \u3068\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3067\u3042\u308a\u3001 buildkitd \u3068\u3044\u3046\u30c7\u30fc\u30e2\u30f3\u3068 buildctl \u30b3\u30de\u30f3\u30c9\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Docker\u306e\u6a19\u6e96\u306e\u30d3\u30eb\u30c9\u3068\u6bd4\u3079\u3066\u3001BuildKit\u3067\u30d3\u30eb\u30c9\u3057\u305f\u5834\u5408\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8Dockerfile\u306e\u5404\u30b9\u30c6\u30fc\u30b8\u3092\u4e26\u5217\u30d3\u30eb\u30c9\u3067\u304d\u308b \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092DockerHub\u306a\u3069\u306b\u5916\u90e8\u4fdd\u5b58/\u518d\u5229\u7528\u304c\u3067\u304d\u308b \u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u5bfe\u5fdc\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3067\u304d\u308b (2020\u5e746\u6708\u6642\u70b9\u3067\u306fLinux\u306e\u307f) Dockerfile\u5185\u306e\u30d3\u30eb\u30c9\u6642\u306b\u5b9f\u884c\u3059\u308bRUN\u30b3\u30de\u30f3\u30c9\u3067\u3001\u65b0\u305f\u306a\u5b9f\u9a13\u7684\u6a5f\u80fd\u3092\u4f7f\u7528\u3067\u304d\u308b SSH\u63a5\u7d9a\u3067\u30ea\u30e2\u30fc\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97 \u79d8\u5bc6\u9375\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30e1\u30fc\u30b8\u5185\u306b\u6b8b\u3055\u306a\u3044\u3088\u3046\u306b\u30de\u30a6\u30f3\u30c8 \u306a\u3069 5 \u307e\u305f\u3001BuildKit\u306e\u4e00\u90e8\u6a5f\u80fd\u306fDocker 18.06\u4ee5\u964d\u306eDocker Engine\u306b\u7d71\u5408\u3055\u308c\u3066\u304a\u308a\u3001 Docker\u5358\u4f53\u3067\u3082BuildKit\u306e\u4e00\u90e8\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u56f3: Docker Engine\u7d71\u5408\u306eBuildKit\u3067\u306e\u30d3\u30eb\u30c9\u3068\u3001 buildkitd, buildctl \u3092\u4f7f\u7528\u3057\u305f\u30d3\u30eb\u30c9","title":"BuildKit\u3068\u306f"},{"location":"Docker/BuildKit/#buildkitdocker-buildx","text":"BuildKit\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30eb\u30c9\u3092\u3059\u308b\u306b\u306f\u3001 buildkitd \u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5\u3057\u3066 buildctl \u30b3\u30de\u30f3\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u65e2\u306bDocker\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3042\u308c\u3070\u3001 docker-buildx 2 \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001 \u4e0b\u8a18\u306e\u69d8\u306a\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u30d3\u30eb\u30c9\u6642\u306b\u3001\u81ea\u52d5\u3067 buildkitd , buildctl \u3092\u542b\u3080\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5 docker\u30b3\u30de\u30f3\u30c9\u3068\u540c\u3058\u3088\u3046\u306aUI\u3067\u30d3\u30eb\u30c9\u304c\u3067\u304d\u308b \u56f3: docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30eb\u30c9","title":"BuildKit\u3068docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3"},{"location":"Docker/BuildKit/#docker-buildx","text":"docker-buildx 2 \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u4e0b\u8a18\u306e3\u70b9\u304c\u5fc5\u8981\u3067\u3059\u3002 Docker CLI\u306e\u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u6709\u52b9\u5316 docker-buildx\u306f2020\u5e746\u6708\u6642\u70b9\u3067\u306f\u3001\u307e\u3060\u5b9f\u9a13\u7684\u6a5f\u80fd\u3068\u4f4d\u7f6e\u3065\u3051\u3089\u308c\u3066\u3044\u308b\u305f\u3081\u3001 docker CLI\u306e\u8a2d\u5b9a\u3067\u5b9f\u9a13\u7684\u6a5f\u80fd\u3092\u6709\u52b9\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Docker for Linux\u306e\u5834\u5408) Docker for Linux\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001 GitHub\u306edocker/buildx \u306e\u30ea\u30ea\u30fc\u30b9\u30da\u30fc\u30b8\u304b\u3089\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 Docker Desktop\u306e\u5834\u5408\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002 qemu-user-static\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Docker for Linux\u306e\u5834\u5408) \u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u5834\u5408\u306f\u3001\u5bfe\u5fdc\u3059\u308b\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u5b9f\u884c\u74b0\u5883\u304c\u5fc5\u8981\u3067\u3059\u3002 \u4eca\u56de\u306f qemu-user-static \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb 6 \u3057\u3001\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u3092\u7528\u610f\u3057\u307e\u3059\u3002 \u3053\u3061\u3089\u3082Docker Desktop\u306e\u5834\u5408\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Docker Desktop for Windows/Mac \u306e\u5834\u5408 Docker Desktop\u306eSettings\u753b\u9762\u3067\u753b\u9762\u4e2d\u592e\u306e\u300cCLI Experimental\u300d\u306e\u30c8\u30b0\u30eb\u30b9\u30a4\u30c3\u30c1\u3092\u6709\u52b9\u306b\u3057\u3066\u304b\u3089 \u53f3\u4e0b\u306e\u300cApply & Restart\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u53cd\u6620\u3057\u307e\u3059\u3002 docker-buildx \u30d7\u30e9\u30b0\u30a4\u30f3\u3068 qemu-user-static \u306f\u3001Docker Desktop\u306b\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e0d\u8981\u3067\u3059\u3002 Docker for Linux \u306e\u5834\u5408 \u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u6709\u52b9\u5316\u3068docker-buildx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb # \u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u6709\u52b9\u5316 (\u65b9\u6cd51: ~/.docker/config.json\u306e\u7de8\u96c6) cp -p ~/.docker/config.json { ,.bk } && \\ cat ~/.docker/config.json.bk | docker run -i --rm alpine:latest sh -c \\ \"apk add --no-cache jq > /dev/null \\ && jq '. |= .+{\\\"experimental\\\": \\\"enabled\\\"}'\" > ~/.docker/config.json # \u3082\u3057\u304f\u306f\u3001 # \u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u6709\u52b9\u5316 (\u65b9\u6cd52: \u74b0\u5883\u5909\u6570'DOCKER_CLI_EXPERIMENTAL'\u3092\u8a2d\u5b9a) export DOCKER_CLI_EXPERIMENTAL = enabled # docker-buildx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb mkdir -p ~/.docker/cli-plugins && \\ docker run --rm alpine:latest sh -c \\ \"apk add --no-cache curl jq > /dev/null \\ && curl -sS https://api.github.com/repos/docker/buildx/releases/latest | \\ jq -r '.assets[].browser_download_url' | grep linux-amd64 | xargs curl -sSL\" \\ > ~/.docker/cli-plugins/docker-buildx \\ && chmod a+x ~/.docker/cli-plugins/docker-buildx # buildx\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u8868\u793a\u78ba\u8a8d docker buildx version # qemu-user-static\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Ubuntu/Debian \u306e\u5834\u5408) sudo apt install qemu-user-static # qemu-user-static\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Fedora \u306e\u5834\u5408) sudo dnf install qemu-user-static # \u3082\u3057\u304f\u306f\u3001 # qemu-user-static\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Docker\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3046\u5834\u5408) docker run --rm --privileged multiarch/qemu-user-static --reset -p yes","title":"docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Docker/BuildKit/#_1","text":"docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u30d3\u30eb\u30c9\u3059\u308b\u969b\u306b\u306f\u300c\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u300d\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fDocker Engine\u5185\u306eBuildKit\u3092\u4f7f\u7528\u3059\u308b'docker'\u30c9\u30e9\u30a4\u30d0\u306e\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f7f\u7528\u3059\u308b\u8a2d\u5b9a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u30d5\u30eb\u6a5f\u80fd\u306eBuildKit\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001'docker-container' \u30c9\u30e9\u30a4\u30d0\u304b 'kubernetes' \u30c9\u30e9\u30a4\u30d0\u306e\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002 \u53c2\u8003: \u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30c9\u30e9\u30a4\u30d0\u306e\u7a2e\u985e \u30c9\u30e9\u30a4\u30d0 \u30d3\u30eb\u30c9\u5b9f\u884c\u65b9\u6cd5 docker Docker Engine\u306b\u7d71\u5408\u3055\u308c\u3066\u3044\u308bBuildKit\u3092\u4f7f\u7528\u3057\u3066\u3067\u30d3\u30eb\u30c9 docker-container buildkitd , buildctl \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fDocker\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210/\u8d77\u52d5\u3057\u3066\u30d3\u30eb\u30c9 kubernetes buildkitd , buildctl \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fKubernetes\u306e\u30dd\u30c3\u30c9\u3092\u4f5c\u6210/\u8d77\u52d5\u3057\u3066\u30d3\u30eb\u30c9 Docker\u30b3\u30f3\u30c6\u30ca\u306e\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u30d3\u30eb\u30c9\u5b9f\u884c # \u30b3\u30f3\u30c6\u30ca\u30c9\u30e9\u30a4\u30d0\u306e\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3001\u73fe\u5728\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5207\u308a\u66ff\u3048\u308b docker buildx create --driver docker-container --name container-builder --use # \u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u78ba\u8a8d (container-builder \u306e\u53f3\u306b '*' \u304c\u4ed8\u3044\u3066\u3044\u308b) docker buildx ls NAME/NODE DRIVER/ENDPOINT STATUS PLATFORMS container-builder * docker-container container-builder0 npipe:////./pipe/docker_engine inactive default docker default default running linux/amd64, linux/arm64, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/arm/v7, linux/arm/v6 # \u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b docker buildx stop","title":"\u30d3\u30eb\u30c0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u9078\u629e"},{"location":"Docker/BuildKit/#docker-buildx_1","text":"Docker Hub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b/\u304b\u3089\u3001\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30a4\u30f3\u30dd\u30fc\u30c8/\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f\u3001 --cache-from , cache-to \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 buildx\u3067\u5916\u90e8\u30ad\u30e3\u30c3\u30b7\u30e5\u4f7f\u7528\u3057\u3066\u30d3\u30eb\u30c9\u3057\u3066push # \u30ec\u30b8\u30b9\u30c8\u30ea\u304b\u3089\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u30d3\u30eb\u30c9\u3057\u3001 # \u305d\u306e\u5f8c\u306b\u30ec\u30b8\u30b9\u30c8\u30ea\u3078\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3068\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u5225\u3005\u306b\u4fdd\u5b58 docker buildx build \\ --cache-from \"type=registry,ref=username/repo_name:cache_tag_name\" \\ --cache-to \"type=registry,ref=username/repo_name:cache_tag_name\" \\ --push --tag username/repo_name:tag_name . \u307e\u305f\u3001\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u5834\u5408\u306f\u3001 --platform \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 buildx\u3067\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066push # x86,x64,armv6,armv7,aarch64\u3067\u5229\u7528\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066push docker buildx build \\ --platform linux/386,linux/amd64,linux/arm/v6,linux/arm/v7,linux/arm64/v8 \\ --push --tag username/repo_name:tag_name . \u53c2\u8003: \u30ad\u30e3\u30c3\u30b7\u30e5\u30bf\u30a4\u30d7\u306e\u4e00\u89a7 (2020\u5e746\u6708\u6642\u70b9) \u30ad\u30e3\u30c3\u30b7\u30e5\u30bf\u30a4\u30d7 \u8aac\u660e inline\u30bf\u30a4\u30d7 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306b\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u57cb\u3081\u8fbc\u3093\u3067\u3001\u30a4\u30e1\u30fc\u30b8\u3068\u4e00\u7dd2\u306bDockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 registry\u30bf\u30a4\u30d7 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3068\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u5225\u3005\u306b\u3057\u3066\u3001DockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u30a4\u30e1\u30fc\u30b8\u3068\u30ad\u30e3\u30c3\u30b7\u30e5\u4fdd\u5b58\u5148\u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u540d:\u30bf\u30b0\u540d\u304c\u3001\u540c\u3058\u5834\u5408/\u7570\u306a\u308b\u5834\u5408\u306e\u3069\u3061\u3089\u3067\u3082\u30a8\u30af\u30b9\u30dd\u30fc\u30c8/\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u53ef\u80fd\u3067\u3059\u3002 local\u30bf\u30a4\u30d7 \u30d3\u30eb\u30c9\u3092\u5b9f\u884c\u3059\u308b\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 CI\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3059\u308b\u5834\u5408\u306a\u3069\u306b\u4fbf\u5229\u3067\u3059\u3002 \u6700\u65b0\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u3001 docker/buildx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3 \u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002 \u53c2\u8003: \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u4e00\u89a7 (2020\u5e746\u6708\u6642\u70b9) \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u540d linux/386 Linux / Intel x86(32bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/amd64 Linux / Intel x86_64(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/arm/v6 Linux / ARM v6(32bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/arm/v7 Linux / ARM v6(32bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/arm64/v8 Linux / ARM v8(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/mips64le Linux / MIPS64 Little Endian(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/ppc64le Linux / 64-bit PowerPC Little Endian(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 linux/s390x Linux / IBM S/390(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 windows/amd64 Microsoft Windows / Intel x86_64(64bit) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3","title":"docker-buildx\u3067\u30d3\u30eb\u30c9"},{"location":"Docker/BuildKit/#buildkit_2","text":"\u4ee5\u964d\u306e\u7ae0\u3067\u306fdocker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5229\u7528\u3057\u306a\u3044BuildKit\u3067\u306e\u30d3\u30eb\u30c9\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u305d\u306e\u4ed6\u306eBuildKit\u306e\u5229\u7528\u65b9\u6cd5"},{"location":"Docker/BuildKit/#dockerbuildkitdbuildctl","text":"Docker\u3092\u4f7f\u7528\u305b\u305a\u306b\u30d3\u30eb\u30c9\u3059\u308b\u306b\u306f\u3001BuildKit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002 \u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 BuildKit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001buildkitd\u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5 # BuildKit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb docker run --rm alpine:latest sh -c \\ \"apk add --no-cache curl jq > /dev/null \\ && curl -sS https://api.github.com/repos/moby/buildkit/releases | \\ jq -r '.[].assets[].browser_download_url' | \\ grep linux-amd64 | head -n 1 | xargs curl -sSL\" | \\ sudo tar zxf - -C /usr/local/ # buildkitd\u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5 sudo buildkitd buildctl\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9 # buildctl\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u5b9f\u884c sudo buildctl build --frontend = dockerfile.v0 --local context = . --local dockerfile = .","title":"Docker\u3092\u4f7f\u7528\u305b\u305a\u3001buildkitd\u3068buildctl\u3067\u30d3\u30eb\u30c9\u3059\u308b"},{"location":"Docker/BuildKit/#docker-enginebuildkit","text":"BuildKit\u3084docker-buildx\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u305b\u305a\u3001 Docker 18.06\u4ee5\u964d\u306eDocker Engine\u306b\u7d71\u5408\u3055\u308c\u3066\u3044\u308bBuildKit\u3067\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 BuildKit\u306e\u6709\u52b9\u5316 # Docker\u7d71\u5408\u306eBuildKit\u6709\u52b9\u5316 (\u65b9\u6cd51: \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u3001Docker Engine\u3092\u518d\u8d77\u52d5) ( test -f /etc/docker/daemon.json && cat /etc/docker/daemon.json || echo \"{}\" ) | \\ jq '. |= .+{\"features\": {\"buildkit\": true}}' | sudo tee /etc/docker/daemon.json sudo systemctl restart docker.servie # \u307e\u305f\u306f\u3001 # Docker\u7d71\u5408\u306eBuildKit\u6709\u52b9\u5316 (\u65b9\u6cd52: \u74b0\u5883\u5909\u6570'DOCKER_BUILDKIT'\u3092\u8a2d\u5b9a) export DOCKER_BUILDKIT = 1 # \u30d3\u30eb\u30c9\u5b9f\u884c docker build . 1\u3064\u3081\u306e\u65b9\u6cd5\u3067\u306f\u3001 /etc \u914d\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u3068\u30c7\u30fc\u30e2\u30f3\u306e\u518d\u8d77\u52d5\u3092\u884c\u3046\u305f\u3081\u3001root\u6a29\u9650\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 root\u6a29\u9650\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\u5834\u5408\u3084\u3001\u4e00\u6642\u7684\u306bBuildKit\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u74b0\u5883\u5909\u6570\u3067\u306e\u8a2d\u5b9a\u3092\u8a66\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"Docker Engine\u306eBuildKit\u3067\u30d3\u30eb\u30c9"},{"location":"Docker/BuildKit/#docker-enginebuildkit_1","text":"2020\u5e746\u6708\u6642\u70b9\u3067\u3001Docker 18.06\u4ee5\u964d\u306eDocker Engine\u306b\u7d71\u5408\u3055\u308c\u3066\u3044\u308bBuildKit\u3067\u306f \u5229\u7528\u3067\u304d\u306a\u3044\u6a5f\u80fd\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u3067\u5229\u7528\u3067\u304d\u308b\u6a5f\u80fd\u306e\u5dee\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u306e\u8868\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u6a5f\u80fd Docker Engine \u7d71\u5408\u7248 buildkitd \u30c7\u30fc\u30e2\u30f3\u7248 \u8aac\u660e \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u306e\u4e26\u5217\u5b9f\u884c \u2705 \u2705 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8Dockerfile\u306e\u5404\u30b9\u30c6\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\u3092\u53ef\u80fd\u306a\u9650\u308a\u4e26\u5217\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u5bfe\u5fdc\u306e\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9 -- \u2705 Intel(\u4e00\u822c\u7684\u306aPC/\u30b5\u30fc\u30d0)\u3084Arm(Raspberry Pi\u306a\u3069)\u306e\u8907\u6570\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3067\u5229\u7528\u3067\u304d\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u51fa\u529b \u2003\u2003inline\u30bf\u30a4\u30d7 \u2705 \u2705 \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30a4\u30e1\u30fc\u30b8\u306b\u57cb\u3081\u8fbc\u307f\u3001DockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u306e\u5834\u5408\u306f\u3001\u6700\u7d42\u7684\u306b\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u308b\u30b9\u30c6\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u307f\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002 \u2003\u2003registry\u30bf\u30a4\u30d7 -- \u2705 \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3068\u30a4\u30e1\u30fc\u30b8\u3092\u5206\u3051\u3066\u3001DockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u306e\u5834\u5408\u3001\u5168\u3066\u306e\u30b9\u30c6\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002 \u2003\u2003local\u30bf\u30a4\u30d7 -- \u2705 OCI\u30a4\u30e1\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u6e96\u62e0\u3057\u305f\u5f62\u5f0f\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u306e\u5834\u5408\u3001\u5168\u3066\u306e\u30b9\u30c6\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002 \u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4f7f\u7528 \u2003\u2003registry\u30bf\u30a4\u30d7 \u2705 \u2705 DockerHub\u306a\u3069\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u304b\u3089\u3001inline\u5f62\u5f0f/egistry\u5f62\u5f0f\u306e\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 \u2003\u2003local\u30bf\u30a4\u30d7 -- \u2705 \u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u3001local\u5f62\u5f0f\u306e\u30d3\u30eb\u30c9\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 Compose\u30d5\u30a1\u30a4\u30eb\u3067\u306e\u30d3\u30eb\u30c9 -- \u2705 docker-compose.yml\u30d5\u30a1\u30a4\u30eb\u304b\u3089Dockerfile\u3084\u30d3\u30eb\u30c9\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u8aad\u307f\u53d6\u3063\u3066\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 Dockerfile\u306e\u5b9f\u9a13\u7684\u6a5f\u80fd\u306e\u4f7f\u7528 \u2705 \u2705 \u30d3\u30eb\u30c9\u30b9\u30c6\u30c3\u30d7\u5358\u4f4d\u3067\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u30ad\u30e3\u30c3\u30b7\u30e5(--mount tyle=cache)\u3084\u8a8d\u8a3c\u60c5\u5831(--mount type=secret)\u3092\u30de\u30a6\u30f3\u30c8\u3057\u305f\u308a\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5236\u5fa1(--network=none|host|default)\u306a\u3069\u304c\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u306f GitHub\u4e0a\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 moby/buildkit: concurrent, cache-efficient, and Dockerfile-agnostic builder toolkit \u21a9 docker/buildx: Docker CLI plugin for extended build capabilities with BuildKit \u00b7 GitHub \u21a9 \u21a9 Docker Buildx | Docker Documentation \u21a9 Docker Blog\u3067\u306e\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30d3\u30eb\u30c9\u306e\u89e3\u8aac Multi-arch build and images, the simple way - Docker Blog \u21a9 Dockerfile\u306e\u5b9f\u9a13\u7684\u6a5f\u80fd\u306b\u3064\u3044\u3066\u306f Dockerfile frontend experimental syntaxes - buildkit/experimental.md GitHub \u3092\u53c2\u7167\u3002 \u21a9 \u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u5fdc\u3058\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u3001\u307e\u305f\u306f multiarch/qemu-user-static - Docker Hub \u306eDocker\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u21a9","title":"Docker Engine\u306eBuildKit\u3067\u5229\u7528\u3067\u304d\u308b\u6a5f\u80fd"},{"location":"Docker/autoImageUpdate/","text":"Docker\u30a4\u30e1\u30fc\u30b8\u306e\u66f4\u65b0\u81ea\u52d5\u5316 Docker Compose\u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u81ea\u52d5\u66f4\u65b0\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001 \u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u3066crontab\u306b\u767b\u9332\u3057\u307e\u3057\u305f\u3002 \u524d\u63d0\u6761\u4ef6 \u5bfe\u8c61\u306f\u3001 /etc/docker-compose.d/*/docker-compose.yml \u3067\u5b9a\u7fa9\u3055\u308c\u305f\u5b9f\u884c\u4e2d\u306e\u5168\u3066\u306e\u30b3\u30f3\u30c6\u30ca\u3002 \u30a4\u30e1\u30fc\u30b8\u3092Docker Hub\u304b\u3089\u53d6\u5f97\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u308a\u76f4\u3059\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u3067\u4f5c\u696d\u3057\u3066\u3044\u308b\u6642\u9593\u5e2f\u306b\u5b9f\u884c\u3057\u3066\u306f\u306a\u3089\u306a\u3044\u3002 \u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u308a\u76f4\u3059\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u3067\u5909\u66f4\u3057\u305f\u5185\u5bb9\u306f\u7834\u68c4\u3055\u308c\u308b\u3002","title":"Docker\u30a4\u30e1\u30fc\u30b8\u306e\u66f4\u65b0\u81ea\u52d5\u5316"},{"location":"Docker/autoImageUpdate/#docker","text":"Docker Compose\u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u81ea\u52d5\u66f4\u65b0\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001 \u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u3066crontab\u306b\u767b\u9332\u3057\u307e\u3057\u305f\u3002","title":"Docker\u30a4\u30e1\u30fc\u30b8\u306e\u66f4\u65b0\u81ea\u52d5\u5316"},{"location":"Docker/autoImageUpdate/#_1","text":"\u5bfe\u8c61\u306f\u3001 /etc/docker-compose.d/*/docker-compose.yml \u3067\u5b9a\u7fa9\u3055\u308c\u305f\u5b9f\u884c\u4e2d\u306e\u5168\u3066\u306e\u30b3\u30f3\u30c6\u30ca\u3002 \u30a4\u30e1\u30fc\u30b8\u3092Docker Hub\u304b\u3089\u53d6\u5f97\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u308a\u76f4\u3059\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u3067\u4f5c\u696d\u3057\u3066\u3044\u308b\u6642\u9593\u5e2f\u306b\u5b9f\u884c\u3057\u3066\u306f\u306a\u3089\u306a\u3044\u3002 \u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u308a\u76f4\u3059\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u3067\u5909\u66f4\u3057\u305f\u5185\u5bb9\u306f\u7834\u68c4\u3055\u308c\u308b\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"Docker/updateCompose/","text":"Docker Compose\u30b3\u30de\u30f3\u30c9\u306e\u66f4\u65b0\u30b9\u30af\u30ea\u30d7\u30c8 Linux\u3067\u306f\u3001Docker\u81ea\u4f53\u306fapt\u306a\u3069\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001docker-compose\u306fcurl\u3067\u53d6\u5f97\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 \u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u308b\u304b\u3069\u3046\u304b\u306e\u78ba\u8a8d\u306b\u306f\u3001GitHub\u306e\u30ea\u30ea\u30fc\u30b9\u30da\u30fc\u30b8\u3092\u898b\u306b\u884c\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001\u66f4\u65b0\u3092\u5fd8\u308c\u304c\u3061\u306b\u306a\u308a\u307e\u3059\u3002 \u306a\u306e\u3067\u3001docker-compose\u306e\u66f4\u65b0\u3092\u30c1\u30a7\u30c3\u30af\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002","title":"Docker Compose\u30b3\u30de\u30f3\u30c9\u306e\u66f4\u65b0\u30b9\u30af\u30ea\u30d7\u30c8"},{"location":"Docker/updateCompose/#docker-compose","text":"Linux\u3067\u306f\u3001Docker\u81ea\u4f53\u306fapt\u306a\u3069\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001docker-compose\u306fcurl\u3067\u53d6\u5f97\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 \u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u308b\u304b\u3069\u3046\u304b\u306e\u78ba\u8a8d\u306b\u306f\u3001GitHub\u306e\u30ea\u30ea\u30fc\u30b9\u30da\u30fc\u30b8\u3092\u898b\u306b\u884c\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001\u66f4\u65b0\u3092\u5fd8\u308c\u304c\u3061\u306b\u306a\u308a\u307e\u3059\u3002 \u306a\u306e\u3067\u3001docker-compose\u306e\u66f4\u65b0\u3092\u30c1\u30a7\u30c3\u30af\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002","title":"Docker Compose\u30b3\u30de\u30f3\u30c9\u306e\u66f4\u65b0\u30b9\u30af\u30ea\u30d7\u30c8"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/fluentd%2Bkibana/","text":"Fluentd+Elasticsearch+Kibana Fluentd\u3067\u30ed\u30b0\u53ce\u96c6(Fluentd+syslog)\u3057\u3001Elasticsearch\u306b\u30c7\u30fc\u30bf\u84c4\u7a4d\u3001Kibana\u3067\u53ef\u8996\u5316\u3059\u308b\u3002 \u30ed\u30b0\u53ce\u96c6+\u53ef\u8996\u5316 docker-compose.yml fluent.conf Dockerfile","title":"Fluentd+Elasticsearch+Kibana"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/fluentd%2Bkibana/#fluentdelasticsearchkibana","text":"Fluentd\u3067\u30ed\u30b0\u53ce\u96c6(Fluentd+syslog)\u3057\u3001Elasticsearch\u306b\u30c7\u30fc\u30bf\u84c4\u7a4d\u3001Kibana\u3067\u53ef\u8996\u5316\u3059\u308b\u3002 \u30ed\u30b0\u53ce\u96c6+\u53ef\u8996\u5316 docker-compose.yml fluent.conf Dockerfile","title":"Fluentd+Elasticsearch+Kibana"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/nginx/","text":"Nginx \u9759\u7684\u30b5\u30a4\u30c8 html \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30eb\u30fc\u30c8\u3068\u3057\u3066\u3001\u9759\u7684Web\u30b5\u30a4\u30c8\u3092\u63d0\u4f9b\u3059\u308b\u3002 docker-compose.yml","title":"Nginx"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/nginx/#nginx","text":"","title":"Nginx"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/nginx/#_1","text":"html \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30eb\u30fc\u30c8\u3068\u3057\u3066\u3001\u9759\u7684Web\u30b5\u30a4\u30c8\u3092\u63d0\u4f9b\u3059\u308b\u3002 docker-compose.yml","title":"\u9759\u7684\u30b5\u30a4\u30c8"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/redmine%2Bgitlab%2Bjenkins/","text":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8&\u30bd\u30fc\u30b9\u7ba1\u7406 Redmine\u3001GitLab\u3001Jenkins\u3092\u540c\u3058\u30db\u30b9\u30c8\u306e\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u52d5\u304b\u3059\u3002 docker-compose.yml nginx.conf backup.sh","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8&\u30bd\u30fc\u30b9\u7ba1\u7406"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/redmine%2Bgitlab%2Bjenkins/#_1","text":"Redmine\u3001GitLab\u3001Jenkins\u3092\u540c\u3058\u30db\u30b9\u30c8\u306e\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u52d5\u304b\u3059\u3002 docker-compose.yml nginx.conf backup.sh","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8&amp;\u30bd\u30fc\u30b9\u7ba1\u7406"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/wordpress/","text":"Wordpress Wordpress Web\u30b5\u30a4\u30c8\u3092\u4f5c\u6210\u3057\u3001https-portal\u3067Let's Encrypt\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u81ea\u52d5\u53d6\u5f97/\u516c\u958b\u3059\u308b\u3002\u5916\u90e8\u304b\u3089\u306e80,443/TCP\u63a5\u7d9a\u3092\u89e3\u653e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u307e\u305f\u3001ddclient\u3067\u3001Dynamic DNS\u306e\u30ec\u30b3\u30fc\u30c9\u66f4\u65b0\u3092\u884c\u3046\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8 wp_backup.sh \u306f\u3001Wordpress\u3067\u4f7f\u7528\u3057\u3066\u3044\u308b /var/run/html \u3068MySQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u3002 Weblog\u30b5\u30a4\u30c8\u4f5c\u6210&\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 docker-compose.yml wp_backup.sh","title":"Wordpress"},{"location":"Docker/Compose%E8%A8%AD%E5%AE%9A%E9%9B%86/wordpress/#wordpress","text":"Wordpress Web\u30b5\u30a4\u30c8\u3092\u4f5c\u6210\u3057\u3001https-portal\u3067Let's Encrypt\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u81ea\u52d5\u53d6\u5f97/\u516c\u958b\u3059\u308b\u3002\u5916\u90e8\u304b\u3089\u306e80,443/TCP\u63a5\u7d9a\u3092\u89e3\u653e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u307e\u305f\u3001ddclient\u3067\u3001Dynamic DNS\u306e\u30ec\u30b3\u30fc\u30c9\u66f4\u65b0\u3092\u884c\u3046\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8 wp_backup.sh \u306f\u3001Wordpress\u3067\u4f7f\u7528\u3057\u3066\u3044\u308b /var/run/html \u3068MySQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u3002 Weblog\u30b5\u30a4\u30c8\u4f5c\u6210&\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 docker-compose.yml wp_backup.sh","title":"Wordpress"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/","text":"Django\u30a2\u30d7\u30ea\u3092Docker\u3067\u904b\u7528\u3059\u308b Django\u3068\u306f\u3001Python\u3067\u5229\u7528\u3067\u304d\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002 \u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001Django\u3092\u4f7f\u3063\u3066\u958b\u767a\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Docker\u74b0\u5883\u3078\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u969b\u306e\u624b\u9806\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002 \u6e96\u5099 \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u306e\u9078\u5b9a \u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Docker\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u3001Docker\u30a4\u30e1\u30fc\u30b8\u3092\u81ea\u524d\u3067\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 \u4eca\u56de\u306fPython\u3067Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u52d5\u304b\u3059\u306e\u3067\u3001 python:3.8-alpine \u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002 1 \u30b3\u30f3\u30c6\u30ca\u8a2d\u8a08 \u56f3 1. \u30b3\u30f3\u30c6\u30ca\u69cb\u6210\u56f3[^2] \u4e0a\u8a18\u56f3\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002 \u30a2\u30d7\u30ea\u30b5\u30fc\u30d0 Django\u30a2\u30d7\u30ea\u306f\u3001Web\u30a2\u30d7\u30ea\u3068\u5b9a\u671f\u30d0\u30c3\u30c1\u30a2\u30d7\u30ea\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u3089\u306f\u540c\u3058\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3059\u308b\u304c\u3001\u30b3\u30f3\u30c6\u30ca\u306f\u5225\u3005\u306b2\u3064\u8d77\u52d5\u3057\u307e\u3059\u3002 nginx\u3068Web\u30a2\u30d7\u30ea\u306e\u63a5\u7d9a\u306b\u306f\u3001uWSGI\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 http\u30b5\u30fc\u30d0 \u5916\u90e8\u306b\u516c\u958b\u3059\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30dd\u30fc\u30c8\u306fnginx\u306eHTTP(80)/HTTPS(443)\u306e\u307f\u3068\u3057\u307e\u3059\u3002 nginx\u3067HTTP over SSL/TLS(HTTPS)\u306b\u5bfe\u5fdc\u3055\u305b\u307e\u3059\u3002 \u8a3c\u660e\u66f8\u306fLet's Encrypt\u3067\u53d6\u5f97\u3057\u307e\u3059\u3002 \u753b\u50cf\u306a\u3069\u306e\u9759\u7684\u30b3\u30f3\u30c6\u30f3\u30c4\u306f\u5171\u6709Volume\u306b\u7f6e\u304d\u3001Web\u30a2\u30d7\u30ea\u3092\u4ecb\u3055\u305a\u306bnginx\u304b\u3089\u76f4\u63a5\u914d\u4fe1\u3057\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f steveltn/https-portal \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b5\u30fc\u30d0 Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306bRDB\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u4eca\u56de\u306fPostgreSQL\u3092\u9078\u629e\u3057\u3066\u3044\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f PostgreSQL\u306eDocker\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8 \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u5404\u30b3\u30f3\u30c6\u30ca\u9593\u306e\u901a\u4fe1\u306b\u306f\u3001Docker\u5185\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u524d\u63d0 \u4ee5\u964d\u306e\u4f5c\u696d\u3067\u306f\u3001\u4e0b\u8a18\u3092\u524d\u63d0\u3068\u3057\u3066\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002 Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3057\u3001\u958b\u767a\u74b0\u5883\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3002 Docker\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u74b0\u5883\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u3002 Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a Django\u306e\u30c7\u30d7\u30ed\u30a4\u6642\u30c1\u30a7\u30c3\u30af Django\u306b\u306f\u7ba1\u7406\u30b3\u30de\u30f3\u30c9\u306b\u3001\u30c7\u30d7\u30ed\u30a4\u6642\u306e\u30c1\u30a7\u30c3\u30af\u3092\u3059\u308b\u6a5f\u80fd\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002 \u5b9f\u884c\u3059\u308b\u3068\u3001\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u30a8\u30e9\u30fc\u3084\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 $ python manage.py check --deploy System check identified some issues: WARNINGS: ?: ( security.W004 ) You have not set a value for the SECURE_HSTS_SECONDS setting. If your entire site is served only over SSL, you may want to consider setting a value and enabling HTTP Strict Transport Security. Be sure to read the documentation first ; enabling HSTS carelessly can cause serious, irreversible problems. ?: ( security.W006 ) Your SECURE_CONTENT_TYPE_NOSNIFF setting is not set to True, so your pages will not be served with an 'x-content-type-options: nosniff' header. You should consider enabling this header to prevent the browser from identifying content types incorrectly. ?: ( security.W007 ) Your SECURE_BROWSER_XSS_FILTER setting is not set to True, so your pages will not be served with an 'x-xss-protection: 1; mode=block' header. You should consider enabling this header to activate the browser \\' s XSS filtering and help prevent XSS attacks. ?: ( security.W008 ) Your SECURE_SSL_REDIRECT setting is not set to True. Unless your site should be available over both SSL and non-SSL connections, you may want to either set this setting True or configure a load balancer or reverse-proxy server to redirect all connections to HTTPS. ?: ( security.W012 ) SESSION_COOKIE_SECURE is not set to True. Using a secure-only session cookie makes it more difficult for network traffic sniffers to hijack user sessions. ?: ( security.W016 ) You have 'django.middleware.csrf.CsrfViewMiddleware' in your MIDDLEWARE, but you have not set CSRF_COOKIE_SECURE to True. Using a secure-only CSRF cookie makes it more difficult for network traffic sniffers to steal the CSRF token. ?: ( security.W017 ) You have 'django.middleware.csrf.CsrfViewMiddleware' in your MIDDLEWARE, but you have not set CSRF_COOKIE_HTTPONLY to True. Using an HttpOnly CSRF cookie makes it more difficult for cross-site scripting attacks to steal the CSRF token. ?: ( security.W019 ) You have 'django.middleware.clickjacking.XFrameOptionsMiddleware' in your MIDDLEWARE, but X_FRAME_OPTIONS is not set to 'DENY' . The default is 'SAMEORIGIN' , but unless there is a good reason for your site to serve other parts of itself in a frame, you should change it to 'DENY' . \u306a\u3093\u3060\u304b\u3001\u305f\u304f\u3055\u3093\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u305f\u306e\u3067\u3001 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 3 \u3092\u53c2\u8003\u306b\u3057\u306a\u304c\u3089settings.py\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002 settings.py\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63 Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u306f django-admin startproject \u3067\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b settings.py \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5024\u306e\u521d\u671f\u5024\u306f\u958b\u767a\u5411\u3051\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u672c\u756a\u74b0\u5883\u7528\u306b\u8a2d\u5b9a\u5024\u306b\u5909\u66f4\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u305f\u3060\u3057\u3001Docker\u30b3\u30f3\u30c6\u30ca\u3067\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u74b0\u5883\u5909\u6570\u304b\u3089\u8a2d\u5b9a\u5024\u3092\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3001\u30b3\u30f3\u30c6\u30ca\u5b9f\u884c\u6642\u306b\u8a2d\u5b9a\u5024\u3092\u6ce8\u5165\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001\u30ed\u30b0\u306f\u30b3\u30f3\u30c6\u30ca\u5074\u3067\u7ba1\u7406\u3059\u308b\u305f\u3081\u3001\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u3067\u306f\u306a\u304f\u6a19\u6e96\u51fa\u529b\u306b\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u8a2d\u5b9a\u306b\u3042\u305f\u3063\u3066\u306f\u3001Django\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 4 5 6 7 8 9 settings.py \u3092\u8868\u793a Docker\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210 \u6b21\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eDocker\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u3001Dockerfile\u3068 \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b\u547c\u3073\u51fa\u3059entrypoint.sh\u3092\u4f5c\u308a\u307e\u3059\u3002 Dockerfile entrypoint.sh \u30dd\u30a4\u30f3\u30c8\u3092\u4e0b\u8a18\u306b\u6319\u3052\u307e\u3059\u3002 apk \u30b3\u30de\u30f3\u30c9\u306b --no-cache \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3053\u3068\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u305b\u305a\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3082\u5b9f\u884c\u5f8c\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3002 Docker\u30a4\u30e1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\u3067\u306f\u3001\u5404\u884c\u306e\u5b9f\u884c\u7d50\u679c\u304c\u30ec\u30a4\u30e4\u3068\u3057\u3066\u4fdd\u5b58\u3055\u308c\u308b\u305f\u3081\u3001\u30d3\u30eb\u30c9\u306e\u307f\u306b\u5fc5\u8981\u306a gcc , linux-headers , musl-dev , postgresql-dev \u3068\u3044\u3063\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u7fa4\u306f\u3001\u540c\u4e00\u884c\u5185\u3067\u8ffd\u52a0\u30fb\u30d3\u30eb\u30c9\u30fb\u524a\u9664\u3059\u308b\u3053\u3068\u3067\u3001 \u30a2\u30d7\u30ea\u5b9f\u884c\u306b\u4e0d\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u72b6\u614b\u3067\u30ec\u30a4\u30e4\u3092\u4fdd\u5b58\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 (2020/07/24\u8ffd\u52a0) \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001\u30d3\u30eb\u30c9\u6642\u306e\u307f\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u30a2\u30d7\u30ea\u5b9f\u884c\u30b9\u30c6\u30fc\u30b8\u304b\u3089\u5206\u96e2\u3057\u3001\u5b9f\u884c\u30b9\u30c6\u30fc\u30b8\u306e\u30a4\u30e1\u30fc\u30b8\u30b5\u30a4\u30ba\u3092\u5c0f\u3055\u304f\u3057\u307e\u3059\u3002 \u30e9\u30a4\u30d6\u30e9\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5148\u306b\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30d4\u30fc\u3092\u5f8c\u306b\u66f8\u304f\u3053\u3068\u3067\u3001\u30a2\u30d7\u30ea\u306e\u307f\u306e\u66f4\u65b0\u306e\u5834\u5408\u306b\u306f\u4ee5\u524d\u306e\u30ec\u30a4\u30e4\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 uWSGI\u306e\u8d77\u52d5\u306e\u524d\u306b\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 python manage.py migrate : DB\u3078\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u30fb\u30ab\u30e9\u30e0\u306e\u5909\u66f4\u306a\u3069\u3092\u53cd\u6620\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002 DB\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 python manage.py collectstatic : \u753b\u50cf\u306a\u3069\u306e\u9759\u7684\u30b3\u30f3\u30c6\u30f3\u30c4\u30d5\u30a1\u30a4\u30eb\u30921\u7b87\u6240\u306b\u96c6\u3081\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002 nginx\u3068\u5171\u6709\u3059\u308b\u30dc\u30ea\u30e5\u30fc\u30e0\u3078\u30b3\u30d4\u30fc\u3057\u305f\u3044\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b ~/.profile \u3092\u8aad\u307f\u8fbc\u307f\u3001\u74b0\u5883\u5909\u6570 SECRET_KEY \u3092\u52d5\u7684\u306b\u751f\u6210\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u3053\u308c\u306f\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3067\u306f\u306a\u304f\u3001\u672c\u6765\u306f .env \u30d5\u30a1\u30a4\u30eb\u3084 docker secret \u306a\u3069\u3092\u7528\u3044\u308b\u306e\u304c\u826f\u3044\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002 uWSGI\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210 Django\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f uWSGI\u4e0a\u3067\u52d5\u304b\u3059\u65b9\u6cd5 10 \u3082\u8f09\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u898b\u306a\u304c\u3089\u8a2d\u5b9a\u3057\u307e\u3059\u3002 Nginx\u306e\u8a2d\u5b9a http\u30b5\u30fc\u30d0\u306eNginx\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u524d\u8ff0\u306e\u901a\u308a steveltn/https-portal \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u3053\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u81ea\u52d5\u3067Let's Encrypt\u306e\u8a3c\u660e\u66f8\u53d6\u5f97\u30fb\u66f4\u65b0\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\u8a3c\u660e\u66f8\u306e\u671f\u9650\u5207\u308c\u3092\u6c17\u306b\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u4e0a\u3001cron\u306a\u3069\u306e\u8ffd\u52a0\u8a2d\u5b9a\u304c\u4e0d\u8981\u306a\u3082\u306e\u3067\u3059\u3002 Nginx\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306feRuby\u30d5\u30a1\u30a4\u30eb\u306b\u306a\u3063\u3066\u304a\u308a\u3001 /var/lib/nginx-conf/[\u30c9\u30e1\u30a4\u30f3\u540d].ssl.conf.erb \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3059\u308b\u3068\u3001\u5bfe\u5fdc\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u540d\u3067\u306e\u30a2\u30af\u30bb\u30b9\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306fuWSGI\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 11 \u3092\u898b\u3064\u3064\u3001\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 nginx_uwsgi.ssl.conf.erb \u3092\u8868\u793a docker-compose.yml\u30d5\u30a1\u30a4\u30eb \u6700\u5f8c\u306b\u3001\u524d\u8ff0\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306edocker-compose\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002 docker-compose.yml \u3092\u8868\u793a \u6700\u5f8c\u306b \u3053\u306e\u4ed6\u306b\u3084\u308b\u3079\u304d\u3053\u3068 (\u8a00\u53ca\u3059\u3079\u304f\u3082\u306a\u3044\u304c\u3001)git\u306a\u3069\u3067\u30bd\u30fc\u30b9\u7ba1\u7406\u3092\u3059\u308b\u3002 DB\u306e\u5b9a\u671f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u3053\u3046\u3044\u3046\u3082\u306e Django Database Backup -- django-dbbackup 3.0.2 documentation \u3082\u3042\u308b\u3002 \u30e6\u30fc\u30b6\u30fc\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u3042\u308b\u30a2\u30d7\u30ea\u306e\u5834\u5408\u306f\u3001\u305d\u308c\u3082\u5b9a\u671f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u5fc5\u8981\u3002 \u304d\u3061\u3093\u3068\u88fd\u54c1\u3068\u3057\u3066\u904b\u7528\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001 k8s \u306a\u3069\u306b\u8f09\u305b\u308b\u3002 \u611f\u60f3 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308a\u59cb\u3081\u308b\u3068\u3053\u308d\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u307e\u3067\u3001Django\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5145\u5b9f\u3057\u3066\u304a\u308a\u3001\u3044\u305f\u305b\u308a\u5c3d\u304f\u305b\u308a\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u3057\u305f\u3002 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u65e5\u672c\u8a9e\u7ffb\u8a33\u3082\u3057\u3063\u304b\u308a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3001\u4f5c\u308a\u59cb\u3081\u308b\u6642\u306e\u624b\u8efd\u3055\u3001Python\u306e\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u304c\u6d3b\u304b\u305b\u308b\u3053\u3068\u3082\u3042\u308a\u3001\u521d\u5fc3\u8005\u306b\u3082\u30aa\u30b9\u30b9\u30e1\u3067\u304d\u308b\u3082\u306e\u3060\u3068\u601d\u3044\u307e\u3059\u3002 Docker\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u30a4\u30e1\u30fc\u30b8\u306b django \u3068\u3044\u3046\u3082\u306e\u3082\u5b58\u5728\u3059\u308b\u306e\u3067\u3059\u304c\u30012020\u5e742\u6708\u6642\u70b9\u30673\u5e74\u4ee5\u4e0a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3055\u308c\u3066\u304a\u3089\u305a\u3001Django\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3082\u53e4\u3044\u305f\u3081\u63a1\u7528\u306f\u898b\u9001\u308a\u307e\u3057\u305f\u3002 \u21a9 \u5404\u30ed\u30b4\u306f\u3053\u308c\u3089\u306eWeb\u30b5\u30a4\u30c8\u3067\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002 Docker , uWSGI , Django , NGINX , Python , PostgreSQL \u21a9 \u30c7\u30d7\u30ed\u30a4\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 Django \u306b\u304a\u3051\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u56fd\u969b\u5316\u3068\u30ed\u30fc\u30ab\u30eb\u5316 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u9759\u7684\u30d5\u30a1\u30a4\u30eb (\u753b\u50cf\u3001JavaScript\u3001CSS \u306a\u3069) \u3092\u7ba1\u7406\u3059\u308b | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u30ed\u30ae\u30f3\u30b0 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 Django \u3092 uWSGI \u3068\u3068\u3082\u306b\u4f7f\u3046\u306b\u306f\uff1f | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 Setting up Django and your web server with uWSGI and nginx -- uWSGI 2.0 documentation \u21a9","title":"Django\u30a2\u30d7\u30ea\u3092Docker\u3067\u904b\u7528\u3059\u308b"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#djangodocker","text":"Django\u3068\u306f\u3001Python\u3067\u5229\u7528\u3067\u304d\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002 \u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001Django\u3092\u4f7f\u3063\u3066\u958b\u767a\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Docker\u74b0\u5883\u3078\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u969b\u306e\u624b\u9806\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002","title":"Django\u30a2\u30d7\u30ea\u3092Docker\u3067\u904b\u7528\u3059\u308b"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#_1","text":"","title":"\u6e96\u5099"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#_2","text":"\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Docker\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u3001Docker\u30a4\u30e1\u30fc\u30b8\u3092\u81ea\u524d\u3067\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 \u4eca\u56de\u306fPython\u3067Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u52d5\u304b\u3059\u306e\u3067\u3001 python:3.8-alpine \u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002 1","title":"\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u306e\u9078\u5b9a"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#_3","text":"\u56f3 1. \u30b3\u30f3\u30c6\u30ca\u69cb\u6210\u56f3[^2] \u4e0a\u8a18\u56f3\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002 \u30a2\u30d7\u30ea\u30b5\u30fc\u30d0 Django\u30a2\u30d7\u30ea\u306f\u3001Web\u30a2\u30d7\u30ea\u3068\u5b9a\u671f\u30d0\u30c3\u30c1\u30a2\u30d7\u30ea\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u3089\u306f\u540c\u3058\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3059\u308b\u304c\u3001\u30b3\u30f3\u30c6\u30ca\u306f\u5225\u3005\u306b2\u3064\u8d77\u52d5\u3057\u307e\u3059\u3002 nginx\u3068Web\u30a2\u30d7\u30ea\u306e\u63a5\u7d9a\u306b\u306f\u3001uWSGI\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 http\u30b5\u30fc\u30d0 \u5916\u90e8\u306b\u516c\u958b\u3059\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30dd\u30fc\u30c8\u306fnginx\u306eHTTP(80)/HTTPS(443)\u306e\u307f\u3068\u3057\u307e\u3059\u3002 nginx\u3067HTTP over SSL/TLS(HTTPS)\u306b\u5bfe\u5fdc\u3055\u305b\u307e\u3059\u3002 \u8a3c\u660e\u66f8\u306fLet's Encrypt\u3067\u53d6\u5f97\u3057\u307e\u3059\u3002 \u753b\u50cf\u306a\u3069\u306e\u9759\u7684\u30b3\u30f3\u30c6\u30f3\u30c4\u306f\u5171\u6709Volume\u306b\u7f6e\u304d\u3001Web\u30a2\u30d7\u30ea\u3092\u4ecb\u3055\u305a\u306bnginx\u304b\u3089\u76f4\u63a5\u914d\u4fe1\u3057\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f steveltn/https-portal \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b5\u30fc\u30d0 Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306bRDB\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u4eca\u56de\u306fPostgreSQL\u3092\u9078\u629e\u3057\u3066\u3044\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f PostgreSQL\u306eDocker\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8 \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u5404\u30b3\u30f3\u30c6\u30ca\u9593\u306e\u901a\u4fe1\u306b\u306f\u3001Docker\u5185\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002","title":"\u30b3\u30f3\u30c6\u30ca\u8a2d\u8a08"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#_4","text":"\u4ee5\u964d\u306e\u4f5c\u696d\u3067\u306f\u3001\u4e0b\u8a18\u3092\u524d\u63d0\u3068\u3057\u3066\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002 Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3057\u3001\u958b\u767a\u74b0\u5883\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3002 Docker\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u74b0\u5883\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u3002","title":"\u524d\u63d0"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#django","text":"","title":"Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#django_1","text":"Django\u306b\u306f\u7ba1\u7406\u30b3\u30de\u30f3\u30c9\u306b\u3001\u30c7\u30d7\u30ed\u30a4\u6642\u306e\u30c1\u30a7\u30c3\u30af\u3092\u3059\u308b\u6a5f\u80fd\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002 \u5b9f\u884c\u3059\u308b\u3068\u3001\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u30a8\u30e9\u30fc\u3084\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 $ python manage.py check --deploy System check identified some issues: WARNINGS: ?: ( security.W004 ) You have not set a value for the SECURE_HSTS_SECONDS setting. If your entire site is served only over SSL, you may want to consider setting a value and enabling HTTP Strict Transport Security. Be sure to read the documentation first ; enabling HSTS carelessly can cause serious, irreversible problems. ?: ( security.W006 ) Your SECURE_CONTENT_TYPE_NOSNIFF setting is not set to True, so your pages will not be served with an 'x-content-type-options: nosniff' header. You should consider enabling this header to prevent the browser from identifying content types incorrectly. ?: ( security.W007 ) Your SECURE_BROWSER_XSS_FILTER setting is not set to True, so your pages will not be served with an 'x-xss-protection: 1; mode=block' header. You should consider enabling this header to activate the browser \\' s XSS filtering and help prevent XSS attacks. ?: ( security.W008 ) Your SECURE_SSL_REDIRECT setting is not set to True. Unless your site should be available over both SSL and non-SSL connections, you may want to either set this setting True or configure a load balancer or reverse-proxy server to redirect all connections to HTTPS. ?: ( security.W012 ) SESSION_COOKIE_SECURE is not set to True. Using a secure-only session cookie makes it more difficult for network traffic sniffers to hijack user sessions. ?: ( security.W016 ) You have 'django.middleware.csrf.CsrfViewMiddleware' in your MIDDLEWARE, but you have not set CSRF_COOKIE_SECURE to True. Using a secure-only CSRF cookie makes it more difficult for network traffic sniffers to steal the CSRF token. ?: ( security.W017 ) You have 'django.middleware.csrf.CsrfViewMiddleware' in your MIDDLEWARE, but you have not set CSRF_COOKIE_HTTPONLY to True. Using an HttpOnly CSRF cookie makes it more difficult for cross-site scripting attacks to steal the CSRF token. ?: ( security.W019 ) You have 'django.middleware.clickjacking.XFrameOptionsMiddleware' in your MIDDLEWARE, but X_FRAME_OPTIONS is not set to 'DENY' . The default is 'SAMEORIGIN' , but unless there is a good reason for your site to serve other parts of itself in a frame, you should change it to 'DENY' . \u306a\u3093\u3060\u304b\u3001\u305f\u304f\u3055\u3093\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u305f\u306e\u3067\u3001 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 3 \u3092\u53c2\u8003\u306b\u3057\u306a\u304c\u3089settings.py\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002","title":"Django\u306e\u30c7\u30d7\u30ed\u30a4\u6642\u30c1\u30a7\u30c3\u30af"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#settingspy","text":"Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u306f django-admin startproject \u3067\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b settings.py \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5024\u306e\u521d\u671f\u5024\u306f\u958b\u767a\u5411\u3051\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u672c\u756a\u74b0\u5883\u7528\u306b\u8a2d\u5b9a\u5024\u306b\u5909\u66f4\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u305f\u3060\u3057\u3001Docker\u30b3\u30f3\u30c6\u30ca\u3067\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u74b0\u5883\u5909\u6570\u304b\u3089\u8a2d\u5b9a\u5024\u3092\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3001\u30b3\u30f3\u30c6\u30ca\u5b9f\u884c\u6642\u306b\u8a2d\u5b9a\u5024\u3092\u6ce8\u5165\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001\u30ed\u30b0\u306f\u30b3\u30f3\u30c6\u30ca\u5074\u3067\u7ba1\u7406\u3059\u308b\u305f\u3081\u3001\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u3067\u306f\u306a\u304f\u6a19\u6e96\u51fa\u529b\u306b\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u8a2d\u5b9a\u306b\u3042\u305f\u3063\u3066\u306f\u3001Django\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 4 5 6 7 8 9 settings.py \u3092\u8868\u793a","title":"settings.py\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#docker","text":"\u6b21\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eDocker\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u3001Dockerfile\u3068 \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b\u547c\u3073\u51fa\u3059entrypoint.sh\u3092\u4f5c\u308a\u307e\u3059\u3002 Dockerfile entrypoint.sh \u30dd\u30a4\u30f3\u30c8\u3092\u4e0b\u8a18\u306b\u6319\u3052\u307e\u3059\u3002 apk \u30b3\u30de\u30f3\u30c9\u306b --no-cache \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3053\u3068\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u305b\u305a\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3082\u5b9f\u884c\u5f8c\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3002 Docker\u30a4\u30e1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\u3067\u306f\u3001\u5404\u884c\u306e\u5b9f\u884c\u7d50\u679c\u304c\u30ec\u30a4\u30e4\u3068\u3057\u3066\u4fdd\u5b58\u3055\u308c\u308b\u305f\u3081\u3001\u30d3\u30eb\u30c9\u306e\u307f\u306b\u5fc5\u8981\u306a gcc , linux-headers , musl-dev , postgresql-dev \u3068\u3044\u3063\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u7fa4\u306f\u3001\u540c\u4e00\u884c\u5185\u3067\u8ffd\u52a0\u30fb\u30d3\u30eb\u30c9\u30fb\u524a\u9664\u3059\u308b\u3053\u3068\u3067\u3001 \u30a2\u30d7\u30ea\u5b9f\u884c\u306b\u4e0d\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u72b6\u614b\u3067\u30ec\u30a4\u30e4\u3092\u4fdd\u5b58\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 (2020/07/24\u8ffd\u52a0) \u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u30d3\u30eb\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001\u30d3\u30eb\u30c9\u6642\u306e\u307f\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u30a2\u30d7\u30ea\u5b9f\u884c\u30b9\u30c6\u30fc\u30b8\u304b\u3089\u5206\u96e2\u3057\u3001\u5b9f\u884c\u30b9\u30c6\u30fc\u30b8\u306e\u30a4\u30e1\u30fc\u30b8\u30b5\u30a4\u30ba\u3092\u5c0f\u3055\u304f\u3057\u307e\u3059\u3002 \u30e9\u30a4\u30d6\u30e9\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5148\u306b\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30d4\u30fc\u3092\u5f8c\u306b\u66f8\u304f\u3053\u3068\u3067\u3001\u30a2\u30d7\u30ea\u306e\u307f\u306e\u66f4\u65b0\u306e\u5834\u5408\u306b\u306f\u4ee5\u524d\u306e\u30ec\u30a4\u30e4\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 uWSGI\u306e\u8d77\u52d5\u306e\u524d\u306b\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 python manage.py migrate : DB\u3078\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u30fb\u30ab\u30e9\u30e0\u306e\u5909\u66f4\u306a\u3069\u3092\u53cd\u6620\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002 DB\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 python manage.py collectstatic : \u753b\u50cf\u306a\u3069\u306e\u9759\u7684\u30b3\u30f3\u30c6\u30f3\u30c4\u30d5\u30a1\u30a4\u30eb\u30921\u7b87\u6240\u306b\u96c6\u3081\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002 nginx\u3068\u5171\u6709\u3059\u308b\u30dc\u30ea\u30e5\u30fc\u30e0\u3078\u30b3\u30d4\u30fc\u3057\u305f\u3044\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b ~/.profile \u3092\u8aad\u307f\u8fbc\u307f\u3001\u74b0\u5883\u5909\u6570 SECRET_KEY \u3092\u52d5\u7684\u306b\u751f\u6210\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u3053\u308c\u306f\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3067\u306f\u306a\u304f\u3001\u672c\u6765\u306f .env \u30d5\u30a1\u30a4\u30eb\u3084 docker secret \u306a\u3069\u3092\u7528\u3044\u308b\u306e\u304c\u826f\u3044\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002","title":"Docker\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#uwsgi","text":"Django\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f uWSGI\u4e0a\u3067\u52d5\u304b\u3059\u65b9\u6cd5 10 \u3082\u8f09\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u898b\u306a\u304c\u3089\u8a2d\u5b9a\u3057\u307e\u3059\u3002","title":"uWSGI\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#nginx","text":"http\u30b5\u30fc\u30d0\u306eNginx\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u524d\u8ff0\u306e\u901a\u308a steveltn/https-portal \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u3053\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u81ea\u52d5\u3067Let's Encrypt\u306e\u8a3c\u660e\u66f8\u53d6\u5f97\u30fb\u66f4\u65b0\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\u8a3c\u660e\u66f8\u306e\u671f\u9650\u5207\u308c\u3092\u6c17\u306b\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u4e0a\u3001cron\u306a\u3069\u306e\u8ffd\u52a0\u8a2d\u5b9a\u304c\u4e0d\u8981\u306a\u3082\u306e\u3067\u3059\u3002 Nginx\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306feRuby\u30d5\u30a1\u30a4\u30eb\u306b\u306a\u3063\u3066\u304a\u308a\u3001 /var/lib/nginx-conf/[\u30c9\u30e1\u30a4\u30f3\u540d].ssl.conf.erb \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3059\u308b\u3068\u3001\u5bfe\u5fdc\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u540d\u3067\u306e\u30a2\u30af\u30bb\u30b9\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306fuWSGI\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 11 \u3092\u898b\u3064\u3064\u3001\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 nginx_uwsgi.ssl.conf.erb \u3092\u8868\u793a","title":"Nginx\u306e\u8a2d\u5b9a"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#docker-composeyml","text":"\u6700\u5f8c\u306b\u3001\u524d\u8ff0\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306edocker-compose\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002 docker-compose.yml \u3092\u8868\u793a","title":"docker-compose.yml\u30d5\u30a1\u30a4\u30eb"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#_5","text":"","title":"\u6700\u5f8c\u306b"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#_6","text":"(\u8a00\u53ca\u3059\u3079\u304f\u3082\u306a\u3044\u304c\u3001)git\u306a\u3069\u3067\u30bd\u30fc\u30b9\u7ba1\u7406\u3092\u3059\u308b\u3002 DB\u306e\u5b9a\u671f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u3053\u3046\u3044\u3046\u3082\u306e Django Database Backup -- django-dbbackup 3.0.2 documentation \u3082\u3042\u308b\u3002 \u30e6\u30fc\u30b6\u30fc\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u3042\u308b\u30a2\u30d7\u30ea\u306e\u5834\u5408\u306f\u3001\u305d\u308c\u3082\u5b9a\u671f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u5fc5\u8981\u3002 \u304d\u3061\u3093\u3068\u88fd\u54c1\u3068\u3057\u3066\u904b\u7528\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001 k8s \u306a\u3069\u306b\u8f09\u305b\u308b\u3002","title":"\u3053\u306e\u4ed6\u306b\u3084\u308b\u3079\u304d\u3053\u3068"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django/#_7","text":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308a\u59cb\u3081\u308b\u3068\u3053\u308d\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u307e\u3067\u3001Django\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5145\u5b9f\u3057\u3066\u304a\u308a\u3001\u3044\u305f\u305b\u308a\u5c3d\u304f\u305b\u308a\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u3057\u305f\u3002 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u65e5\u672c\u8a9e\u7ffb\u8a33\u3082\u3057\u3063\u304b\u308a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3001\u4f5c\u308a\u59cb\u3081\u308b\u6642\u306e\u624b\u8efd\u3055\u3001Python\u306e\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u304c\u6d3b\u304b\u305b\u308b\u3053\u3068\u3082\u3042\u308a\u3001\u521d\u5fc3\u8005\u306b\u3082\u30aa\u30b9\u30b9\u30e1\u3067\u304d\u308b\u3082\u306e\u3060\u3068\u601d\u3044\u307e\u3059\u3002 Docker\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u30a4\u30e1\u30fc\u30b8\u306b django \u3068\u3044\u3046\u3082\u306e\u3082\u5b58\u5728\u3059\u308b\u306e\u3067\u3059\u304c\u30012020\u5e742\u6708\u6642\u70b9\u30673\u5e74\u4ee5\u4e0a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3055\u308c\u3066\u304a\u3089\u305a\u3001Django\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3082\u53e4\u3044\u305f\u3081\u63a1\u7528\u306f\u898b\u9001\u308a\u307e\u3057\u305f\u3002 \u21a9 \u5404\u30ed\u30b4\u306f\u3053\u308c\u3089\u306eWeb\u30b5\u30a4\u30c8\u3067\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002 Docker , uWSGI , Django , NGINX , Python , PostgreSQL \u21a9 \u30c7\u30d7\u30ed\u30a4\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 Django \u306b\u304a\u3051\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u56fd\u969b\u5316\u3068\u30ed\u30fc\u30ab\u30eb\u5316 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u9759\u7684\u30d5\u30a1\u30a4\u30eb (\u753b\u50cf\u3001JavaScript\u3001CSS \u306a\u3069) \u3092\u7ba1\u7406\u3059\u308b | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 \u30ed\u30ae\u30f3\u30b0 | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 Django \u3092 uWSGI \u3068\u3068\u3082\u306b\u4f7f\u3046\u306b\u306f\uff1f | Django \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9 Setting up Django and your web server with uWSGI and nginx -- uWSGI 2.0 documentation \u21a9","title":"\u611f\u60f3"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django_datatransfer/","text":"Django\u30b3\u30f3\u30c6\u30ca\u306e\u30c7\u30fc\u30bf\u79fb\u884c Docker\u3092\u30db\u30b9\u30c8\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u3092\u79fb\u884c\u3059\u308b\u305f\u3081\u3001Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u5225\u306e\u30b5\u30fc\u30d0\u3078\u79fb\u884c\u3057\u307e\u3057\u305f\u3002 \u3068\u306f\u8a00\u3063\u3066\u3082\u3001\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306fDocker Hub\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001DB\u30c7\u30fc\u30bf\u306e\u79fb\u884c\u304c\u30e1\u30a4\u30f3\u3067\u3059\u3002 Django\u306b\u306f\u3001DB\u30c7\u30fc\u30bf\u306e\u30c0\u30f3\u30d7\u4f5c\u6210/\u30ed\u30fc\u30c9\u6a5f\u80fd\u304c\u6a19\u6e96\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b 1 \u305f\u3081\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u307e\u3059\u3002 \u30c0\u30f3\u30d7\u4f5c\u6210\u6642\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6307\u5b9a\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306eJSON\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u5834\u5408\u3001 \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u578b\u306e\u30c7\u30fc\u30bf\u304c\u5c0f\u6570\u70b9\u4ee5\u4e0b3\u6841\u3067\u5207\u308a\u6368\u3066\u3089\u308c\u3066\u3044\u305f\u305f\u3081\u3001\u4eca\u56de\u306f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306bXML\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 docker-compose\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u53d6\u5f97\u30b3\u30de\u30f3\u30c9 docker-compose exec webapp \\ sh -lc \"python manage.py dumpdata --format xml 2> /dev/null\" > data.xml bzip2 data.xml kubectl\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u53d6\u5f97\u30b3\u30de\u30f3\u30c9 container_name=\"$(kubectl get pod -l app=dhun-app,tier=frontend -o custom-columns=NAME:.metadata.name --no-headers) --container dhun-webapp\" kubectl exec $container_name -- sh -lc \"python manage.py dumpdata --format=xml 2> /dev/null\" > data.xml bzip2 data.xml \u3053\u306e\u5f8c\u3001\u65b0\u3057\u3044\u30b5\u30fc\u30d0\u3078data.xml.bz2\u3092\u8ee2\u9001\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30ea\u30b9\u30c8\u30a2 \u524d\u9805\u3067\u53d6\u5f97\u3057\u305f\u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u3092\u3001DB\u3078\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u524d\u306bDB\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3068\u30af\u30ea\u30a2\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 docker-compose\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u30b3\u30de\u30f3\u30c9 docker-compose run --rm -v $(pwd)/data.xml.bz2:/tmp/data.xml.bz2:ro webapp \\ sh -lc \"python manage.py migrate && \\ python manage.py flush && \\ python manage.py loaddata --exclude contenttypes /tmp/data.xml.bz2\" \u3053\u306e\u5f8c\u3001 docker-compose up -d \u3067\u30a2\u30d7\u30ea\u3092\u7acb\u3061\u4e0a\u3052\u3066\u3001\u30c7\u30fc\u30bf\u304c\u8aad\u307f\u8fbc\u3081\u3066\u3044\u305f\u3089\u5b8c\u4e86\u3067\u3059\u3002 kubectl\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u30b3\u30de\u30f3\u30c9 container_name=\"$(kubectl get pod -l app=dhun-app,tier=frontend -o custom-columns=NAME:.metadata.name --no-headers | head -n 1) --container dhun-webapp\" bzcat data.xml.bz2 | kubectl exec -i $container_name -- sh -lc \"python manage.py loaddata --format=xml -\" \u3053\u306e\u5f8c\u3001\u30c7\u30fc\u30bf\u304c\u8aad\u307f\u8fbc\u3081\u3066\u3044\u305f\u3089\u5b8c\u4e86\u3067\u3059\u3002 django-admin \u3068 manage.py | Django\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9","title":"Django\u30b3\u30f3\u30c6\u30ca\u306e\u30c7\u30fc\u30bf\u79fb\u884c"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django_datatransfer/#django","text":"Docker\u3092\u30db\u30b9\u30c8\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u3092\u79fb\u884c\u3059\u308b\u305f\u3081\u3001Django\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u5225\u306e\u30b5\u30fc\u30d0\u3078\u79fb\u884c\u3057\u307e\u3057\u305f\u3002 \u3068\u306f\u8a00\u3063\u3066\u3082\u3001\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306fDocker Hub\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001DB\u30c7\u30fc\u30bf\u306e\u79fb\u884c\u304c\u30e1\u30a4\u30f3\u3067\u3059\u3002 Django\u306b\u306f\u3001DB\u30c7\u30fc\u30bf\u306e\u30c0\u30f3\u30d7\u4f5c\u6210/\u30ed\u30fc\u30c9\u6a5f\u80fd\u304c\u6a19\u6e96\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b 1 \u305f\u3081\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u307e\u3059\u3002 \u30c0\u30f3\u30d7\u4f5c\u6210\u6642\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6307\u5b9a\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306eJSON\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u5834\u5408\u3001 \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u578b\u306e\u30c7\u30fc\u30bf\u304c\u5c0f\u6570\u70b9\u4ee5\u4e0b3\u6841\u3067\u5207\u308a\u6368\u3066\u3089\u308c\u3066\u3044\u305f\u305f\u3081\u3001\u4eca\u56de\u306f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306bXML\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002","title":"Django\u30b3\u30f3\u30c6\u30ca\u306e\u30c7\u30fc\u30bf\u79fb\u884c"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django_datatransfer/#_1","text":"\u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 docker-compose\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u53d6\u5f97\u30b3\u30de\u30f3\u30c9 docker-compose exec webapp \\ sh -lc \"python manage.py dumpdata --format xml 2> /dev/null\" > data.xml bzip2 data.xml kubectl\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u53d6\u5f97\u30b3\u30de\u30f3\u30c9 container_name=\"$(kubectl get pod -l app=dhun-app,tier=frontend -o custom-columns=NAME:.metadata.name --no-headers) --container dhun-webapp\" kubectl exec $container_name -- sh -lc \"python manage.py dumpdata --format=xml 2> /dev/null\" > data.xml bzip2 data.xml \u3053\u306e\u5f8c\u3001\u65b0\u3057\u3044\u30b5\u30fc\u30d0\u3078data.xml.bz2\u3092\u8ee2\u9001\u3057\u307e\u3059\u3002","title":"\u30c7\u30fc\u30bf\u30d0\u30c3\u30af\u30a2\u30c3\u30d7"},{"location":"Docker/%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%8C%96/Django_datatransfer/#_2","text":"\u524d\u9805\u3067\u53d6\u5f97\u3057\u305f\u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u3092\u3001DB\u3078\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u524d\u306bDB\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3068\u30af\u30ea\u30a2\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 docker-compose\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u30b3\u30de\u30f3\u30c9 docker-compose run --rm -v $(pwd)/data.xml.bz2:/tmp/data.xml.bz2:ro webapp \\ sh -lc \"python manage.py migrate && \\ python manage.py flush && \\ python manage.py loaddata --exclude contenttypes /tmp/data.xml.bz2\" \u3053\u306e\u5f8c\u3001 docker-compose up -d \u3067\u30a2\u30d7\u30ea\u3092\u7acb\u3061\u4e0a\u3052\u3066\u3001\u30c7\u30fc\u30bf\u304c\u8aad\u307f\u8fbc\u3081\u3066\u3044\u305f\u3089\u5b8c\u4e86\u3067\u3059\u3002 kubectl\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408 \u30c0\u30f3\u30d7\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u30b3\u30de\u30f3\u30c9 container_name=\"$(kubectl get pod -l app=dhun-app,tier=frontend -o custom-columns=NAME:.metadata.name --no-headers | head -n 1) --container dhun-webapp\" bzcat data.xml.bz2 | kubectl exec -i $container_name -- sh -lc \"python manage.py loaddata --format=xml -\" \u3053\u306e\u5f8c\u3001\u30c7\u30fc\u30bf\u304c\u8aad\u307f\u8fbc\u3081\u3066\u3044\u305f\u3089\u5b8c\u4e86\u3067\u3059\u3002 django-admin \u3068 manage.py | Django\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u21a9","title":"\u30c7\u30fc\u30bf\u30ea\u30b9\u30c8\u30a2"},{"location":"Linux/LVM/","text":"LVM(Logical Volume Manager) Linux\u3067HDD\u3084SSD\u306a\u3069\u306e\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u96a0\u853d\u3057\u3001\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3068\u3057\u3066\u6271\u3046\u4ed5\u7d44\u307f\u3067\u3059\u3002 OS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u7a3c\u50cd\u958b\u59cb\u3057\u305f\u5f8c\u304b\u3089\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u3092\u8ffd\u52a0\u3057\u305f\u308a\u3001\u8907\u6570\u306e\u30c7\u30a3\u30b9\u30af\u3092\u307e\u3068\u3081\u3066\u5229\u7528\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 LVM\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u8981\u7d20\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0 (Physical Volume, PV) LVM\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u6307\u3057\u307e\u3059\u3002 \u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7 (Volume Group, VG) \u8907\u6570\u306e\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u307e\u3068\u3081\u305f\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u3057\u307e\u3059\u3002 \u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0 (Logical Volume, LV) \u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u306e\u4e00\u90e8\u3001\u3082\u3057\u304f\u306f\u5168\u90e8\u3092\u5207\u308a\u51fa\u3057\u305f\u3082\u306e\u3092\u6307\u3057\u3001OS\u306f\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002 \u5fc5\u305a\u30011\u3064\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u4f5c\u6210\u3057\u307e\u3059\u3002 LVM\u306e\u62e1\u5f35 OS\u306e\u7a3c\u50cd\u4e2d\u306b\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u306b\u306f\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u7a7a\u304d\u304c\u3042\u308c\u3070\u3001\u8ad6\u7406\u30c7\u30a3\u30b9\u30af\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8ad6\u7406\u30c7\u30a3\u30b9\u30af\u306e\u62e1\u5f35\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 LVM\u3078\u65b0\u898f\u30c7\u30a3\u30b9\u30af\u8ffd\u52a0 # \u65b0\u305f\u306aHDD/SSD\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3001\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 sudo parted -s -a optimal /dev/sdx mklabel gpt mkpart primary 0 % 100 % set 1 lvm on # \u4f5c\u6210\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304b\u3089\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 sudo pvcreate /dev/sdx1 # \u78ba\u8a8d sudo pvdisplay \u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u300cubuntu-vg\u300d\u306b\u8ffd\u52a0 sudo vgextend ubuntu-vg /dev/sdx1 # \u78ba\u8a8d sudo vgdisplay sudo pvdisplay \u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u300cubuntu-vg\u300d\u306e\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u300cubuntu-lv\u300d\u306b\u300c5GB\u300d\u8ffd\u52a0 sudo lvextend -L +5120m /dev/ubuntu-vg/ubuntu-lv # \u78ba\u8a8d sudo lvdisplay # \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u62e1\u5f35 sudo resize2fs /dev/ubuntu-vg/ubuntu-lv # \u78ba\u8a8d df -h \u3082\u3057\u304f\u306f\u3001 \u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u300cubuntu-vg\u300d\u306e\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u300cubuntu-lv\u300d\u3092\u300c\u6700\u5927\u30b5\u30a4\u30ba\u300d\u307e\u3067\u62e1\u5f35 sudo lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv # \u78ba\u8a8d sudo lvdisplay # \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u62e1\u5f35 sudo resize2fs /dev/ubuntu-vg/ubuntu-lv # \u78ba\u8a8d df -h","title":"LVM(Logical Volume Manager)"},{"location":"Linux/LVM/#lvmlogical-volume-manager","text":"Linux\u3067HDD\u3084SSD\u306a\u3069\u306e\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u96a0\u853d\u3057\u3001\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3068\u3057\u3066\u6271\u3046\u4ed5\u7d44\u307f\u3067\u3059\u3002 OS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u7a3c\u50cd\u958b\u59cb\u3057\u305f\u5f8c\u304b\u3089\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u3092\u8ffd\u52a0\u3057\u305f\u308a\u3001\u8907\u6570\u306e\u30c7\u30a3\u30b9\u30af\u3092\u307e\u3068\u3081\u3066\u5229\u7528\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 LVM\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u8981\u7d20\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0 (Physical Volume, PV) LVM\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u6307\u3057\u307e\u3059\u3002 \u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7 (Volume Group, VG) \u8907\u6570\u306e\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u307e\u3068\u3081\u305f\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u3057\u307e\u3059\u3002 \u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0 (Logical Volume, LV) \u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u306e\u4e00\u90e8\u3001\u3082\u3057\u304f\u306f\u5168\u90e8\u3092\u5207\u308a\u51fa\u3057\u305f\u3082\u306e\u3092\u6307\u3057\u3001OS\u306f\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002 \u5fc5\u305a\u30011\u3064\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u4f5c\u6210\u3057\u307e\u3059\u3002","title":"LVM(Logical Volume Manager)"},{"location":"Linux/LVM/#lvm","text":"OS\u306e\u7a3c\u50cd\u4e2d\u306b\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u306b\u306f\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u7a7a\u304d\u304c\u3042\u308c\u3070\u3001\u8ad6\u7406\u30c7\u30a3\u30b9\u30af\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8ad6\u7406\u30c7\u30a3\u30b9\u30af\u306e\u62e1\u5f35\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 LVM\u3078\u65b0\u898f\u30c7\u30a3\u30b9\u30af\u8ffd\u52a0 # \u65b0\u305f\u306aHDD/SSD\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3001\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 sudo parted -s -a optimal /dev/sdx mklabel gpt mkpart primary 0 % 100 % set 1 lvm on # \u4f5c\u6210\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304b\u3089\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 sudo pvcreate /dev/sdx1 # \u78ba\u8a8d sudo pvdisplay \u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u300cubuntu-vg\u300d\u306b\u8ffd\u52a0 sudo vgextend ubuntu-vg /dev/sdx1 # \u78ba\u8a8d sudo vgdisplay sudo pvdisplay \u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u300cubuntu-vg\u300d\u306e\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u300cubuntu-lv\u300d\u306b\u300c5GB\u300d\u8ffd\u52a0 sudo lvextend -L +5120m /dev/ubuntu-vg/ubuntu-lv # \u78ba\u8a8d sudo lvdisplay # \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u62e1\u5f35 sudo resize2fs /dev/ubuntu-vg/ubuntu-lv # \u78ba\u8a8d df -h \u3082\u3057\u304f\u306f\u3001 \u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u300cubuntu-vg\u300d\u306e\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u300cubuntu-lv\u300d\u3092\u300c\u6700\u5927\u30b5\u30a4\u30ba\u300d\u307e\u3067\u62e1\u5f35 sudo lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv # \u78ba\u8a8d sudo lvdisplay # \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u62e1\u5f35 sudo resize2fs /dev/ubuntu-vg/ubuntu-lv # \u78ba\u8a8d df -h","title":"LVM\u306e\u62e1\u5f35"},{"location":"Linux/OSInstall/","text":"Linux\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u4f5c\u696d Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u5b9f\u65bd\u3057\u3066\u3044\u308b\u8a2d\u5b9a\u4f5c\u696d\u3092\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u3002 \u5185\u5bb9\u306f\u500b\u4eba\u306e\u898b\u89e3\u3067\u3059\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u5171\u901a \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a timedatectl set-timezone Asia/Tokyo SSH\u516c\u958b\u9375\u8a8d\u8a3c ssh <USER>@<SERVER_NAME> \"mkdir ~/.ssh && chmod 700 ~/.ssh\" scp -p .ssh/id_ed25519.pub <USER>@<SERVER_NAME>:~/.ssh/. \u30ed\u30b1\u30fc\u30eb\u8a2d\u5b9a localectl set-x11-keymap jp pc105 # JP\u30ed\u30b1\u30fc\u30eb\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408(\u3042\u307e\u308a\u3057\u306a\u3044) localectl set-locale LANG=ja_JP.UTF-8 Ubuntu \u30ab\u30fc\u30cd\u30eb\u30e9\u30a4\u30d6\u30d1\u30c3\u30c1\u306e\u6709\u52b9\u5316 sudo snap install canonical-livepatch sudo canonical-livepatch enable XXXXXXXXXXXXXXXXXXXXXX \u56fa\u5b9aIP\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a cat <<EOL >> /etc/netplan/90-static.yaml network: ethernets: eth0: addresses: - 192.168.XXX.XXX/24 gateway4: 192.168.XXX.YYY nameservers: addresses: - 192.168.XXX.YYY version: 2 EOL CentOS sudoers\u8a2d\u5b9a usermod -aG wheel <USER> Vim\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u521d\u671f\u3067\u306fvim-minimal\u3057\u304b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u304a\u3089\u305a\u4e0d\u4fbf\u306a\u305f\u3081\u3001 vim-enhanced \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb yum -y install vim-enhanced \u56fa\u5b9aIP\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a nmcli connection modify ens0 ipv4.addresses 192.168.XXX.XXX/24 nmcli connection modify ens0 ipv4.gateway 192.168.XXX.YYY nmcli connection modify ens0 ipv4.dns 192.168.XXX.YYY nmcli connection modify ens0 ipv4.method manual nmcli connection down ens0; nmcli connection up ens0","title":"Linux\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u4f5c\u696d"},{"location":"Linux/OSInstall/#linux","text":"Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u5b9f\u65bd\u3057\u3066\u3044\u308b\u8a2d\u5b9a\u4f5c\u696d\u3092\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u3002 \u5185\u5bb9\u306f\u500b\u4eba\u306e\u898b\u89e3\u3067\u3059\u3002","title":"Linux\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u4f5c\u696d"},{"location":"Linux/OSInstall/#_1","text":"","title":"\u30c7\u30a3\u30b9\u30c8\u30ea\u5171\u901a"},{"location":"Linux/OSInstall/#_2","text":"timedatectl set-timezone Asia/Tokyo","title":"\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a"},{"location":"Linux/OSInstall/#ssh","text":"ssh <USER>@<SERVER_NAME> \"mkdir ~/.ssh && chmod 700 ~/.ssh\" scp -p .ssh/id_ed25519.pub <USER>@<SERVER_NAME>:~/.ssh/.","title":"SSH\u516c\u958b\u9375\u8a8d\u8a3c"},{"location":"Linux/OSInstall/#_3","text":"localectl set-x11-keymap jp pc105 # JP\u30ed\u30b1\u30fc\u30eb\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408(\u3042\u307e\u308a\u3057\u306a\u3044) localectl set-locale LANG=ja_JP.UTF-8","title":"\u30ed\u30b1\u30fc\u30eb\u8a2d\u5b9a"},{"location":"Linux/OSInstall/#ubuntu","text":"","title":"Ubuntu"},{"location":"Linux/OSInstall/#_4","text":"sudo snap install canonical-livepatch sudo canonical-livepatch enable XXXXXXXXXXXXXXXXXXXXXX","title":"\u30ab\u30fc\u30cd\u30eb\u30e9\u30a4\u30d6\u30d1\u30c3\u30c1\u306e\u6709\u52b9\u5316"},{"location":"Linux/OSInstall/#ip","text":"cat <<EOL >> /etc/netplan/90-static.yaml network: ethernets: eth0: addresses: - 192.168.XXX.XXX/24 gateway4: 192.168.XXX.YYY nameservers: addresses: - 192.168.XXX.YYY version: 2 EOL","title":"\u56fa\u5b9aIP\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a"},{"location":"Linux/OSInstall/#centos","text":"","title":"CentOS"},{"location":"Linux/OSInstall/#sudoers","text":"usermod -aG wheel <USER>","title":"sudoers\u8a2d\u5b9a"},{"location":"Linux/OSInstall/#vim","text":"\u521d\u671f\u3067\u306fvim-minimal\u3057\u304b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u304a\u3089\u305a\u4e0d\u4fbf\u306a\u305f\u3081\u3001 vim-enhanced \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb yum -y install vim-enhanced","title":"Vim\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Linux/OSInstall/#ip_1","text":"nmcli connection modify ens0 ipv4.addresses 192.168.XXX.XXX/24 nmcli connection modify ens0 ipv4.gateway 192.168.XXX.YYY nmcli connection modify ens0 ipv4.dns 192.168.XXX.YYY nmcli connection modify ens0 ipv4.method manual nmcli connection down ens0; nmcli connection up ens0","title":"\u56fa\u5b9aIP\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a"},{"location":"Linux/vpn/","text":"VPN\u30b5\u30fc\u30d0\u306e\u4ee3\u66ff\u8a2d\u5b9a \u30d7\u30e9\u30a4\u30de\u30eaVPN\u30b5\u30fc\u30d0\u304c\u843d\u3061\u305f\u6642\u306bRaspberry Pi\u306a\u3069\u3067\u81ea\u52d5\u3067PPPoE\u63a5\u7d9a\u3057\u3001\u4ee3\u66ffVPN\u30b5\u30fc\u30d0\u304c\u7acb\u3061\u4e0a\u304c\u308b\u3088\u3046\u306b\u8a2d\u5b9a PPPoE\u63a5\u7d9a+VPN\u30b5\u30fc\u30d0\u8d77\u52d5&\u505c\u6b62\u30b9\u30af\u30ea\u30d7\u30c8 check_vpn.sh Systemd\u81ea\u52d5\u8d77\u52d5 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb check_vpn.service","title":"VPN\u30b5\u30fc\u30d0\u306e\u4ee3\u66ff\u8a2d\u5b9a"},{"location":"Linux/vpn/#vpn","text":"\u30d7\u30e9\u30a4\u30de\u30eaVPN\u30b5\u30fc\u30d0\u304c\u843d\u3061\u305f\u6642\u306bRaspberry Pi\u306a\u3069\u3067\u81ea\u52d5\u3067PPPoE\u63a5\u7d9a\u3057\u3001\u4ee3\u66ffVPN\u30b5\u30fc\u30d0\u304c\u7acb\u3061\u4e0a\u304c\u308b\u3088\u3046\u306b\u8a2d\u5b9a PPPoE\u63a5\u7d9a+VPN\u30b5\u30fc\u30d0\u8d77\u52d5&\u505c\u6b62\u30b9\u30af\u30ea\u30d7\u30c8 check_vpn.sh Systemd\u81ea\u52d5\u8d77\u52d5 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb check_vpn.service","title":"VPN\u30b5\u30fc\u30d0\u306e\u4ee3\u66ff\u8a2d\u5b9a"},{"location":"Raspberry%20Pi/","text":"Raspberry Pi \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a Raspberry Pi4\u306e\u6709\u7ddaLAN\u63a5\u7d9a\u3001USB On the Go\u7d4c\u7531\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3001\u7121\u7ddaLAN AP\u5316\u3068 \u305d\u308c\u305e\u308c\u306e\u63a5\u7d9a\u512a\u5148\u5ea6\u8a2d\u5b9a Web Console Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u306e\u9ad8\u3044\u52d5\u753b\u914d\u4fe1\u304c\u53ef\u80fd\u306a\u6280\u8853\u3067\u3042\u308bWebRTC\u3068\u3001 Raspberry Pi\u306eCSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9(\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63a5\u7d9a\u3059\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9)\u30fcHDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305f Raspberry Pi\u306eWeb Console\u5316","title":"Raspberry Pi"},{"location":"Raspberry%20Pi/#raspberry-pi","text":"","title":"Raspberry Pi"},{"location":"Raspberry%20Pi/#_1","text":"Raspberry Pi4\u306e\u6709\u7ddaLAN\u63a5\u7d9a\u3001USB On the Go\u7d4c\u7531\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3001\u7121\u7ddaLAN AP\u5316\u3068 \u305d\u308c\u305e\u308c\u306e\u63a5\u7d9a\u512a\u5148\u5ea6\u8a2d\u5b9a","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a"},{"location":"Raspberry%20Pi/#web-console","text":"Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u306e\u9ad8\u3044\u52d5\u753b\u914d\u4fe1\u304c\u53ef\u80fd\u306a\u6280\u8853\u3067\u3042\u308bWebRTC\u3068\u3001 Raspberry Pi\u306eCSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9(\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63a5\u7d9a\u3059\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9)\u30fcHDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305f Raspberry Pi\u306eWeb Console\u5316","title":"Web Console"},{"location":"Raspberry%20Pi/Network/","text":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a \u74b0\u5883 \u30e2\u30c7\u30eb Raspberry Pi4 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Raspbian 10 Buster \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 eth0, usb0(USB-OTG), wlan0 \u63a5\u7d9a\u512a\u5148\u5ea6 \u6709\u7ddaLAN \u21d2 USB-LAN \u21d2 \u3069\u3061\u3089\u3082\u63a5\u7d9a\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u306e\u307f\u7121\u7ddaLAN AP\u3092\u8d77\u52d5 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306f\u4e0b\u8a18\u3068\u3059\u308b\u3002 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a eth0 DHCP\u3067IP\u30a2\u30c9\u30ec\u30b9/\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3092\u53d6\u5f97 usb0 1\u5bfe1\u63a5\u7d9a\u306e\u305f\u3081\u3001Raspberry Pi\u3092DHCP\u30b5\u30fc\u30d0\u3068\u3057\u3066\u6a5f\u80fd\u3055\u305b\u308b\u3002 Raspberry PI: 192.168.255.254/30 \u5bfe\u5411PC: 192.168.255.253/30 wlan0 1\u5bfe\u591a\u63a5\u7d9a\u3001Raspberry Pi\u3092DHCP\u30b5\u30fc\u30d0\u3068\u3057\u3066\u6a5f\u80fd\u3055\u305b\u308b\u3002 Raspberry PI: 192.168.253.1/24 \u7121\u7ddaLAN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8: 192.168.253.2\uff5e254/24 Systemd-networkd \u30c7\u30d5\u30a9\u30eb\u30c8\u306eDHCP Client daemon\u3092\u524a\u9664\u3057\u3066\u3001systemd-networkd\u3092\u6709\u52b9\u5316\u3059\u308b\u3002 dhcpcd\u3092\u524a\u9664 sudo apt purge dhcpcd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u914d\u7f6e mv eth.network usb0.network wlan0.network /etc/systemd/network/. eth.network usb0.network wlan0.network systemd-networkd, systemd-resolved\u3092\u6709\u52b9\u5316 sudo systemctl enable systemd-networkd sudo systemctl enable systemd-resolved USB on the Go\u306eEthernet\u30a2\u30c0\u30d7\u30bf\u6709\u52b9\u5316 \u4e0b\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092 /usr/local/bin \u306b\u914d\u7f6e init_usb_otg.sh \u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046systemd service\u30d5\u30a1\u30a4\u30eb\u3092 /etc/systemd/system \u306b\u914d\u7f6e usb_init.service usb_init\u3092\u6709\u52b9\u5316 systemd daemon-reload systemd enable usb_init Raspberry Pi\u306e\u7121\u7ddaLAN AP\u5316 networkd-dispatcher, hostapd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install hostapd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e mv hostapd.conf /etc/hostapd/. hostapd\u3092\u6709\u52b9\u5316 sudo systemctl unmask hostapd \u63a5\u7d9a\u512a\u5148\u5ea6\u306b\u3088\u308b\u7121\u7ddaLAN AP \u8d77\u52d5/\u505c\u6b62\u306e\u8a2d\u5b9a networkd-dispatcher, hostapd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install networkd-dispatcher \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e \u4ed6\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a(eth0,usb0)\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b(routable)\u5834\u5408\u306f\u7121\u7ddaLAN AP\u3092\u505c\u6b62\u3001 \u4ed6\u304c\u5207\u65ad\u3055\u308c\u305f\u5834\u5408\u306f\u7121\u7ddaLAN AP\u3092\u8d77\u52d5\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3002 mv stop_ap.sh /etc/networkd-dispatcher/routable.d/. mv start_ap.sh /etc/networkd-dispatcher/off.d/. stop_ap.sh start_ap.sh USB\u63a5\u7d9a\u6642\u306ePC\u5074\u30c9\u30e9\u30a4\u30d0 USB\u63a5\u7d9a\u3055\u308c\u305fRaspberry Pi\u306e\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u30dd\u30fc\u30c8 usb0 \u306f\u3001RNDIS(Remote Network Driver Interface Specification)\u3068\u547c\u3070\u308c\u308b\u898f\u683c\u306b\u5247\u3063\u305f\u3082\u306e\u3067\u3042\u308b\u305f\u3081\u3001Windows10\u3067\u3042\u308c\u3070\u5225\u9014\u30c9\u30e9\u30a4\u30d0\u3092\u6e96\u5099\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u3002 \u3057\u304b\u3057\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u60c5\u5831\u30d5\u30a1\u30a4\u30eb(INF)\u30d5\u30a1\u30a4\u30eb\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u63a5\u7d9a\u3057\u305f\u3060\u3051\u3067\u306f\u30c9\u30e9\u30a4\u30d0\u304c\u9069\u7528\u3055\u308c\u306a\u3044\u3002 \u305d\u306e\u305f\u3081\u3001\u521d\u56de\u63a5\u7d9a\u6642\u306b\u306f\u4e0b\u8a18\u306e\u624b\u9806\u3067\u30c9\u30e9\u30a4\u30d0\u3092\u9069\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u306a\u304a\u3001\u3053\u306e\u60c5\u5831\u306f2019/10\u6642\u70b9\u306e\u3082\u306e\u3067\u3042\u308a\u3001\u5c06\u6765\u7684\u306b\u306f\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u70b9\u3092\u4e8b\u524d\u306b\u65ad\u3063\u3066\u304a\u304f\u3002 \u30c7\u30d0\u30a4\u30b9\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u958b\u304f \u300cRNDIS\u300d\u3068\u3044\u3046\u30c7\u30d0\u30a4\u30b9\u306b\u8b66\u544a\u30a2\u30a4\u30b3\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3002\u3053\u308c\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u958b\u59cb \u300c\u30c9\u30e9\u30a4\u30d0\u306e\u66f4\u65b0\u300d\u30dc\u30bf\u30f3\u304b\u3089\u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u3092\u958b\u59cb\u3059\u308b\u3002 \u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u3092\u53c2\u7167\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u30fc\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u691c\u7d22\u300d\u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u4e0a\u306e\u5229\u7528\u53ef\u80fd\u306a\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u4e00\u89a7\u304b\u3089\u9078\u629e\u3057\u307e\u3059\u300d\u3068\u9806\u306b\u9078\u629e\u3057\u3066\u3044\u304f\u3002 \u30c9\u30e9\u30a4\u30d0\u7a2e\u5225\u306e\u9078\u629e \u7d9a\u3044\u3066\u3001\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u300d\u9078\u629e\u3057\u3066\u6b21\u3078 \u30c9\u30e9\u30a4\u30d0\u306e\u9078\u629e \u88fd\u9020\u5143\u306e\u4e00\u89a7\u304b\u3089\u300cMicrosoft\u300d\u3092\u9078\u629e\u3057\u3001\u3055\u3089\u306b\u300c\u30ea\u30e2\u30fc\u30c8NDIS\u4e92\u63db\u30c7\u30d0\u30a4\u30b9\u300d\u3092\u9078\u629e\u3057\u3066\u6b21\u3078 \u300c\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u66f4\u65b0\u8b66\u544a\u300d\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u304c\u3001\u7121\u8996\u3057\u3066\u300c\u306f\u3044\u300d\u3092\u9078\u629e \u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u5b8c\u4e86 \u300c\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u6b63\u5e38\u306b\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u300d\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u66f4\u65b0\u5b8c\u4e86\u3067\u3042\u308b","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a"},{"location":"Raspberry%20Pi/Network/#_1","text":"\u74b0\u5883 \u30e2\u30c7\u30eb Raspberry Pi4 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Raspbian 10 Buster \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 eth0, usb0(USB-OTG), wlan0 \u63a5\u7d9a\u512a\u5148\u5ea6 \u6709\u7ddaLAN \u21d2 USB-LAN \u21d2 \u3069\u3061\u3089\u3082\u63a5\u7d9a\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u306e\u307f\u7121\u7ddaLAN AP\u3092\u8d77\u52d5 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306f\u4e0b\u8a18\u3068\u3059\u308b\u3002 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a eth0 DHCP\u3067IP\u30a2\u30c9\u30ec\u30b9/\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3092\u53d6\u5f97 usb0 1\u5bfe1\u63a5\u7d9a\u306e\u305f\u3081\u3001Raspberry Pi\u3092DHCP\u30b5\u30fc\u30d0\u3068\u3057\u3066\u6a5f\u80fd\u3055\u305b\u308b\u3002 Raspberry PI: 192.168.255.254/30 \u5bfe\u5411PC: 192.168.255.253/30 wlan0 1\u5bfe\u591a\u63a5\u7d9a\u3001Raspberry Pi\u3092DHCP\u30b5\u30fc\u30d0\u3068\u3057\u3066\u6a5f\u80fd\u3055\u305b\u308b\u3002 Raspberry PI: 192.168.253.1/24 \u7121\u7ddaLAN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8: 192.168.253.2\uff5e254/24","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a"},{"location":"Raspberry%20Pi/Network/#systemd-networkd","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u306eDHCP Client daemon\u3092\u524a\u9664\u3057\u3066\u3001systemd-networkd\u3092\u6709\u52b9\u5316\u3059\u308b\u3002 dhcpcd\u3092\u524a\u9664 sudo apt purge dhcpcd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u914d\u7f6e mv eth.network usb0.network wlan0.network /etc/systemd/network/. eth.network usb0.network wlan0.network systemd-networkd, systemd-resolved\u3092\u6709\u52b9\u5316 sudo systemctl enable systemd-networkd sudo systemctl enable systemd-resolved","title":"Systemd-networkd"},{"location":"Raspberry%20Pi/Network/#usb-on-the-goethernet","text":"\u4e0b\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092 /usr/local/bin \u306b\u914d\u7f6e init_usb_otg.sh \u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046systemd service\u30d5\u30a1\u30a4\u30eb\u3092 /etc/systemd/system \u306b\u914d\u7f6e usb_init.service usb_init\u3092\u6709\u52b9\u5316 systemd daemon-reload systemd enable usb_init","title":"USB on the Go\u306eEthernet\u30a2\u30c0\u30d7\u30bf\u6709\u52b9\u5316"},{"location":"Raspberry%20Pi/Network/#raspberry-pilan-ap","text":"networkd-dispatcher, hostapd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install hostapd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e mv hostapd.conf /etc/hostapd/. hostapd\u3092\u6709\u52b9\u5316 sudo systemctl unmask hostapd","title":"Raspberry Pi\u306e\u7121\u7ddaLAN AP\u5316"},{"location":"Raspberry%20Pi/Network/#lan-ap","text":"networkd-dispatcher, hostapd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install networkd-dispatcher \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e \u4ed6\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a(eth0,usb0)\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b(routable)\u5834\u5408\u306f\u7121\u7ddaLAN AP\u3092\u505c\u6b62\u3001 \u4ed6\u304c\u5207\u65ad\u3055\u308c\u305f\u5834\u5408\u306f\u7121\u7ddaLAN AP\u3092\u8d77\u52d5\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3002 mv stop_ap.sh /etc/networkd-dispatcher/routable.d/. mv start_ap.sh /etc/networkd-dispatcher/off.d/. stop_ap.sh start_ap.sh","title":"\u63a5\u7d9a\u512a\u5148\u5ea6\u306b\u3088\u308b\u7121\u7ddaLAN AP \u8d77\u52d5/\u505c\u6b62\u306e\u8a2d\u5b9a"},{"location":"Raspberry%20Pi/Network/#usbpc","text":"USB\u63a5\u7d9a\u3055\u308c\u305fRaspberry Pi\u306e\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u30dd\u30fc\u30c8 usb0 \u306f\u3001RNDIS(Remote Network Driver Interface Specification)\u3068\u547c\u3070\u308c\u308b\u898f\u683c\u306b\u5247\u3063\u305f\u3082\u306e\u3067\u3042\u308b\u305f\u3081\u3001Windows10\u3067\u3042\u308c\u3070\u5225\u9014\u30c9\u30e9\u30a4\u30d0\u3092\u6e96\u5099\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u3002 \u3057\u304b\u3057\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u60c5\u5831\u30d5\u30a1\u30a4\u30eb(INF)\u30d5\u30a1\u30a4\u30eb\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u63a5\u7d9a\u3057\u305f\u3060\u3051\u3067\u306f\u30c9\u30e9\u30a4\u30d0\u304c\u9069\u7528\u3055\u308c\u306a\u3044\u3002 \u305d\u306e\u305f\u3081\u3001\u521d\u56de\u63a5\u7d9a\u6642\u306b\u306f\u4e0b\u8a18\u306e\u624b\u9806\u3067\u30c9\u30e9\u30a4\u30d0\u3092\u9069\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u306a\u304a\u3001\u3053\u306e\u60c5\u5831\u306f2019/10\u6642\u70b9\u306e\u3082\u306e\u3067\u3042\u308a\u3001\u5c06\u6765\u7684\u306b\u306f\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u70b9\u3092\u4e8b\u524d\u306b\u65ad\u3063\u3066\u304a\u304f\u3002 \u30c7\u30d0\u30a4\u30b9\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u958b\u304f \u300cRNDIS\u300d\u3068\u3044\u3046\u30c7\u30d0\u30a4\u30b9\u306b\u8b66\u544a\u30a2\u30a4\u30b3\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3002\u3053\u308c\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u958b\u59cb \u300c\u30c9\u30e9\u30a4\u30d0\u306e\u66f4\u65b0\u300d\u30dc\u30bf\u30f3\u304b\u3089\u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u3092\u958b\u59cb\u3059\u308b\u3002 \u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u3092\u53c2\u7167\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u30fc\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u691c\u7d22\u300d\u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u4e0a\u306e\u5229\u7528\u53ef\u80fd\u306a\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u4e00\u89a7\u304b\u3089\u9078\u629e\u3057\u307e\u3059\u300d\u3068\u9806\u306b\u9078\u629e\u3057\u3066\u3044\u304f\u3002 \u30c9\u30e9\u30a4\u30d0\u7a2e\u5225\u306e\u9078\u629e \u7d9a\u3044\u3066\u3001\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u300d\u9078\u629e\u3057\u3066\u6b21\u3078 \u30c9\u30e9\u30a4\u30d0\u306e\u9078\u629e \u88fd\u9020\u5143\u306e\u4e00\u89a7\u304b\u3089\u300cMicrosoft\u300d\u3092\u9078\u629e\u3057\u3001\u3055\u3089\u306b\u300c\u30ea\u30e2\u30fc\u30c8NDIS\u4e92\u63db\u30c7\u30d0\u30a4\u30b9\u300d\u3092\u9078\u629e\u3057\u3066\u6b21\u3078 \u300c\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u66f4\u65b0\u8b66\u544a\u300d\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u304c\u3001\u7121\u8996\u3057\u3066\u300c\u306f\u3044\u300d\u3092\u9078\u629e \u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u5b8c\u4e86 \u300c\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u6b63\u5e38\u306b\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u300d\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u66f4\u65b0\u5b8c\u4e86\u3067\u3042\u308b","title":"USB\u63a5\u7d9a\u6642\u306ePC\u5074\u30c9\u30e9\u30a4\u30d0"},{"location":"Raspberry%20Pi/WebConsole/","text":"Web Console \u6982\u8981 Raspberry Pi\u3068PC\u3092\u63a5\u7d9a\u3057\u30d6\u30e9\u30a6\u30b6\u304b\u3089Raspberry Pi\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067 Web\u753b\u9762\u304b\u3089\u3001\u3042\u305f\u304b\u3082\u76f4\u63a5PC\u3092\u64cd\u4f5c\u3057\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306a\u74b0\u5883\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u74b0\u5883 \u30e2\u30c7\u30eb Raspberry Pi4 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Raspbian 10 Buster \u5b9f\u73fe\u306b\u5fc5\u8981\u306a\u6a5f\u80fd PC\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3068\u3057\u3066\u300c\u30e2\u30cb\u30bf\u30fc\u300d\u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u304c\u3001 \u52a0\u3048\u3066GUI\u3067\u64cd\u4f5c\u3059\u308b\u306b\u306f\u300c\u30de\u30a6\u30b9\u300d\u3082\u5fc5\u8981\u3067\u3059\u3002 Web Console\u3067\u306fRaspberry Pi\u3092\u7528\u3044\u3066\u3001\u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u300c\u30de\u30a6\u30b9\u300d\u300c\u30e2\u30cb\u30bf\u30fc\u300d\u306e3\u3064\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u5165\u51fa\u529b\u64cd\u4f5c\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u6a5f\u80fd \u8981\u4ef6 \u65b9\u6cd5 \u5229\u7528\u3057\u305f \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u300c\u30de\u30a6\u30b9\u300d \u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30d6\u30e9\u30a6\u30b6\u304b\u3089Raspberry Pi\u3078\u306e\u30ad\u30fc\u30fb\u30de\u30a6\u30b9\u5165\u529b Web\u30d6\u30e9\u30a6\u30b6\u3068WebSocket Node.js\u3092\u7528\u3044\u305f \u81ea\u4f5c\u30a2\u30d7\u30ea Raspberry Pi\u304b\u3089PC\u3078\u306e\u30ad\u30fc\u30fb\u30de\u30a6\u30b9\u64cd\u4f5c\u518d\u73fe USB On-the-Go\u3092\u7528\u3044\u305f USB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 Linux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb(libcomposite) \u300c\u30e2\u30cb\u30bf\u30fc\u300d \u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 PC\u304b\u3089 Raspberry Pi\u3078\u306e\u6620\u50cf\u5165\u529b CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305fHDMI\u5165\u529b Video4Linux\u30c9\u30e9\u30a4\u30d0 Raspberry Pi\u304b\u3089 \u30d6\u30e9\u30a6\u30b6\u3078\u306e\u753b\u9762\u8868\u793a Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1 WebRTC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \"Momo\" \u63a5\u7d9a\u65b9\u6cd5 figure#raspi_fig { display:table; table-layout:fixed; } figure#raspi_fig div { display:table-cell; vertical-align:middle; } figure#raspi_fig div#hdmi { text-align:right; } figure#raspi_fig div#lan { text-align:left; } figure#raspi_fig figcaption { text-align:center; } HDMI\u30b1\u30fc\u30d6\u30eb\u2192 (PC\u306b\u63a5\u7d9a) USB Type-C\u2192 Raspberry Pi\u3068CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8 \u2190LAN\u30b1\u30fc\u30d6\u30eb \u82e6\u52b4\u3057\u305f\u70b9 \u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u306e\u4f5c\u6210 \u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u30c7\u30d0\u30a4\u30b9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306bUSB HID\u30c7\u30d0\u30a4\u30b9\u306e\u6a5f\u80fd\u306b\u5fdc\u3058\u305f\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf 1 \u306e\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3059\u3002 \u7c21\u5358\u306a3\u30dc\u30bf\u30f3\u30de\u30a6\u30b9\u3067\u3042\u308c\u3070\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306b\u4f8b\u304c\u3044\u304f\u3064\u304b\u898b\u3064\u304b\u308b\u306e\u3067\u3059\u304c\u3001\u300c\u6a2a\u30b9\u30af\u30ed\u30fc\u30eb\u300d\u300c\u6307\u5b9a\u5ea7\u6a19\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u306e\u79fb\u52d5\u300d\u306a\u3069\u3092\u5b9f\u73fe\u305f\u3081\u306b\u306f\u81ea\u8eab\u3067\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002 WebRTC\u3067\u306e\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u753b\u9762\u8868\u793a WebRTC\u306f\u69d8\u3005\u306a\u7528\u9014\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u305f\u3081\u304b\u3001\u3068\u306b\u304b\u304f\u4ed5\u69d8\u304c\u8907\u96d1 2 \u3067\u3059\u3002\u307e\u305f\u3001Web\u30d6\u30e9\u30a6\u30b6\u306e\u5916\u3067\u5b9f\u88c5\u3057\u3088\u3046\u3068\u306a\u308b\u3068\u6570\u5343\u884c\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u81ea\u4f5c\u3059\u308b\u30cf\u30e1\u306b\u306a\u308a\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u904b\u826f\u304f\u6280\u8853\u66f8\u51787\u306b\u30b5\u30fc\u30af\u30eb\u53c2\u52a0\u3055\u308c\u3066\u3044\u305f \u3067\u3093\u3067\u3093\u3089\u307c \u3055\u3093\u306e\u540c\u4eba\u8a8c\u3001 WebRTC\u3092\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u5916\u3066\u3099\u4f7f\u3063\u3066\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u3066\u3099\u3066\u3099\u304d\u308b\u3053\u3068\u3092\u5897\u3084\u3057\u3066\u307f\u307e\u305b\u3093\u304b? \u3092\u62dd\u8aad\u3057\u305f\u3053\u3068\u3067\u3001\u554f\u984c\u306f\u4e00\u6c17\u306b\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002 \u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 WebSocket\u3092\u7528\u3044\u305fNode.js\u30a2\u30d7\u30ea \u30d6\u30e9\u30a6\u30b6\u3078\u306e\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u3092Raspberry Pi\u3067\u53d7\u3051\u53d6\u308b\u305f\u3081\u306eNode.js\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u81ea\u4f5c\u3057\u307e\u3057\u305f\u3002 roy-n-roy/raspi_web_console - GitHub Node.js\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308b\u3001Socket.io\u3068Express\u3092\u7528\u3044\u305f\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002 RaspberryPi + HIMI to CSI\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u3002 \u753b\u9762\u914d\u4fe1WebRTC Client Momo + Ayame https://t.co/jppnHJbOMo https://t.co/epCejhbD6l RasPi\u306eUSB OTG\u3067USB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u3066NodeJS\u30a2\u30d7\u30ea\u7d4c\u7531\u3067\u5165\u529b https://t.co/R2XYDsmCjt pic.twitter.com/cWGUsMslxM \u2014 \u2606Roy.\u2605 (@Roy_n_roy) September 25, 2019 \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092WebSocket\u3092\u901a\u3057\u3066\u53d7\u3051\u53d6\u308a\u30015\u7a2e\u985e\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u30a4\u30d9\u30f3\u30c8 \u51e6\u7406 \u51fa\u529b \u753b\u9762\u30ed\u30fc\u30c9\u6642 WebSocket\u63a5\u7d9a\u3092\u78ba\u7acb \u306a\u3057 WebRTC\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0 \u30b5\u30fc\u30d0\u3078\u306eWebSocket\u63a5\u7d9a\u6642 \u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0\u3078\u306e WebSocket\u63a5\u7d9a\u3092Proxy \u306a\u3057 keydown \u30a4\u30d9\u30f3\u30c8 , keyup \u30a4\u30d9\u30f3\u30c8 \u30d6\u30e9\u30a6\u30b6\u306e\u30ad\u30fc\u30b3\u30fc\u30c9\u304b\u3089 USB HID\u30ad\u30fc\u30b3\u30fc\u30c9 3 \u306b\u5909\u63db \u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f mousedown \u30a4\u30d9\u30f3\u30c8 , mouseup \u30a4\u30d9\u30f3\u30c8 , mousemove \u30a4\u30d9\u30f3\u30c8 \u7279\u306b\u306a\u3057 \u30de\u30a6\u30b9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f mouseenter \u30a4\u30d9\u30f3\u30c8 \u30de\u30a6\u30b9\u304c\u753b\u9762\u5185\u306b\u5165\u3063\u305f\u6642\u306e \u7d76\u5bfe\u4f4d\u7f6e\u3092\u53d6\u5f97 \u30c7\u30b8\u30bf\u30a4\u30b6\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f \u7279\u306b\u91cd\u8981\u306a\u306e\u304c5\u756a\u76ee\u306emouseenter \u30a4\u30d9\u30f3\u30c8\u3067\u306e\u51e6\u7406\u3067\u3001\u3053\u306e\u51e6\u7406\u304c\u7121\u3044\u3068 \u300c\u30d6\u30e9\u30a6\u30b6\u4e0a\u306e\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u300d\u3068\u300c\u63a5\u7d9a\u5148PC\u4e0a\u306e\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u300d\u306b\u30ba\u30ec\u304c\u751f\u3058\u3066 \u3057\u307e\u3044\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001 \u30de\u30a6\u30b9\u3068\u30c7\u30b8\u30bf\u30a4\u30b6\u3092\u5408\u4f53\u3055\u305b\u305f\u30c7\u30d0\u30a4\u30b9 \u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3001 \u30d6\u30e9\u30a6\u30b6\u306e\u5916\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u306e\u753b\u9762\u5185\u306b\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u304c\u5165\u3063\u3066\u304d\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u30e2\u30cb\u30bf\u4e0a\u306e\u7d76\u5bfe\u4f4d\u7f6e\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30d0\u30a4\u30b9\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002 \u306a\u304a\u3001\u30c7\u30b8\u30bf\u30a4\u30b6\u3068\u306f\u30da\u30f3\u30bf\u30d6\u30ec\u30c3\u30c8\u306a\u3069\u306e\u3088\u3046\u306a\u3001\u30ab\u30fc\u30bd\u30eb\u306e\u7d76\u5bfe\u4f4d\u7f6e\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u306e\u3053\u3068\u3092\u3044\u3044\u307e\u3059\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Node.js\u3068\u81ea\u4f5c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 # nodesource\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6700\u65b0\u306eNode.js\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash - sudo apt install -y nodejs # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -L -O https://github.com/roy-n-roy/raspi_web_console/archive/master.zip unzip master.zip cd raspi_web_console-master sudo bash ./setup.sh Raspberry Pi Zero\u306e\u5834\u5408 # Raspbian\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089Node.js\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install -y nodejs npm # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -L -O https://github.com/roy-n-roy/raspi_web_console/archive/master.zip unzip master.zip cd raspi_web_console-master sudo bash ./setup.sh USB On-the-Go\u6a5f\u80fd\u3092\u7528\u3044\u305fUSB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 USB On-the-Go\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u3001Raspbian(Linux)\u306e\u8d77\u52d5\u6642\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u308c\u3089\u306e\u8a2d\u5b9a\u306f\u524d\u8ff0\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u5408\u308f\u305b\u3066\u5b9f\u884c\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u8d77\u52d5\u30d1\u30e9\u30e1\u30fc\u30bf\u306bLinux Device Tree Overlay \"dwc2\" USB\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30c9\u30e9\u30a4\u30d0\u3092\u8a2d\u5b9a /boot/config.txt dtoverlay = dwc2 \u8d77\u52d5\u6642\u306bLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb \"dwc2\" \u3068 \"libcomposite\" 4 \u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u8a2d\u5b9a echo \"dwc2\" >> /etc/modules echo \"libcomposite\" >> /etc/modules reboot libcomposite \u3067USB\u30c7\u30d0\u30a4\u30b9\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a \u30c7\u30d0\u30a4\u30b9\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf/\u30b3\u30f3\u30d5\u30a3\u30b0\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf/\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3068\u547c\u3070\u308c\u308b\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a2d\u5b9a\u7528\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u81ea\u4f5c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3042\u308f\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 init_usb.sh \u5b9f\u884c\u3059\u308b\u3068\u3001 /dev/hidg0 (\u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30bf), /dev/hidg1 (\u30de\u30a6\u30b9\u30fb\u30c7\u30b8\u30bf\u30a4\u30b6\u30a8\u30df\u30e5\u30ec\u30fc\u30bf)\u3068\u3044\u3046\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u3048\u3066\u304d\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u3068\u3001\u63a5\u7d9a\u5148\u306ePC\u3067\u30ad\u30fc\u30dc\u30fc\u30c9\u3084\u30de\u30a6\u30b9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002 USB \u30c7\u30d0\u30a4\u30b9/\u30b3\u30f3\u30d5\u30a3\u30b0/\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u306e\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8 USB HID\u30c7\u30d0\u30a4\u30b9\u306e\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u3053\u306e\u8fba\u308a( USB gadget using libcomposite - Raspberry Pi Forums )\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 init_usb.sh #!/bin/bash -e USE_ETHER = false # RNDIS Ethernet Adapter USE_SERIAL = false # Serial port USE_KEYBOARD = true # HID Keyboard USE_MOUSE = true # HID Mouse & Digitizer LANG = \"0x409\" # language code: 0x409=ENGLISH_US CONFIGFS = \"/sys/kernel/config/usb_gadget/\" GADGET_NAME = \"gadget\" if [[ $EUID -ne 0 ]] ; then echo \"This script must be run as root\" exit 1 fi # libcomposite\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u30ed\u30fc\u30c9 if [ ! -d $CONFIGFS ] ; then modprobe libcomposite fi # Enter ConfigFS cd $CONFIGFS # Stopping getty GS_SERVICE_NAME = ` systemctl list-units -t service --state = running | grep -i getty@ttygs | cut -d ' ' -f1 ` || true if [ -n \" $GS_SERVICE_NAME \" ] ; then systemctl stop $GS_SERVICE_NAME if lsmod | grep g_serial ; then rmmod g_serial fi fi # \u65e2\u5b58\u8a2d\u5b9a\u3092\u30af\u30ea\u30a2 find ./ $GADGET_NAME /configs/*/* -maxdepth 0 -type l -exec rm {} \\; & > /dev/null || true find ./ $GADGET_NAME /configs/*/strings/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /os_desc/* -maxdepth 0 -type l -exec rm {} \\; & > /dev/null || true find ./ $GADGET_NAME /functions/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /strings/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /configs/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true rmdir ./ $GADGET_NAME & > /dev/null || true mkdir ./ $GADGET_NAME && cd ./ $GADGET_NAME ### Device Descriptor\u306e\u8a2d\u5b9a # VendorID echo 0x1d6b > ./idVendor # Linux Foundation # USB HID Specification Release echo 0x0200 > ./bcdUSB # USB2 # USB Class code echo 0xEF > ./bDeviceClass # Miscellaneous Device Class # USB SubClass code echo 0x02 > ./bDeviceSubClass # Common # USB Protocol code echo 0x01 > ./bDeviceProtocol # Interface Association Descriptor # ProductID (assigned by manufacturer) echo 0x0001 > ./idProduct # Device release number(assigned by manufacturer) echo 0x0100 > ./bcdDevice # v1.0.0 mkdir -p strings/ $LANG echo \"fedcba9876543210\" > ./strings/ $LANG /serialnumber # \u9069\u5f53\u306b\u8a2d\u5b9a echo \"Raspberry Pi\" > ./strings/ $LANG /manufacturer echo \"Generic USB Composite Device\" > ./strings/ $LANG /product ### Configuration Descriptor\u306e\u8a2d\u5b9a mkdir -p ./configs/c.1/strings/ $LANG echo 1500 > ./configs/c.1/MaxPower # 1500*2mA= 3.0A echo \"Config 1: ECM network\" > ./configs/c.1/strings/ $LANG /configuration ### Report Descriptor\u5b9a\u7fa9 # Keyboard Report Descriptor # (Modifier keys + 6 simultaneous Keys -> 8 Bytes) KEYBD_REPT = \"\" KEYBD_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) KEYBD_REPT += \"0906\" # USAGE (Keyboard) KEYBD_REPT += \"A101\" # COLLECTION (Application) KEYBD_REPT += \"0507\" # USAGE_PAGE (Keyboard) KEYBD_REPT += \"19E0\" # USAGE_MINIMUM (Keyboard LeftControl) KEYBD_REPT += \"29E7\" # USAGE_MAXIMUM (Keyboard Right GUI) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"2501\" # LOGICAL_MAXIMUM (1) KEYBD_REPT += \"7501\" # REPORT_SIZE (1) KEYBD_REPT += \"9508\" # REPORT_COUNT (8) KEYBD_REPT += \"8102\" # INPUT (Data,Var,Abs) KEYBD_REPT += \"7508\" # REPORT_SIZE (8) KEYBD_REPT += \"9501\" # REPORT_COUNT (1) KEYBD_REPT += \"8103\" # INPUT (Cnst,Var,Abs) KEYBD_REPT += \"1900\" # USAGE_MINIMUM (Reserved (no event indicated)) KEYBD_REPT += \"299F\" # USAGE_MAXIMUM (Keyboard Separator) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"259F\" # LOGICAL_MAXIMUM (175) KEYBD_REPT += \"7508\" # REPORT_SIZE (8) KEYBD_REPT += \"9506\" # REPORT_COUNT (6) KEYBD_REPT += \"8100\" # INPUT (Data,Ary,Abs) KEYBD_REPT += \"0508\" # USAGE_PAGE (LEDs) KEYBD_REPT += \"1901\" # USAGE_MINIMUM (Num Lock) KEYBD_REPT += \"2905\" # USAGE_MAXIMUM (Kana) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"2501\" # LOGICAL_MAXIMUM (1) KEYBD_REPT += \"7501\" # REPORT_SIZE (1) KEYBD_REPT += \"9505\" # REPORT_COUNT (5) KEYBD_REPT += \"9102\" # OUTPUT (Data,Var,Abs) KEYBD_REPT += \"7503\" # REPORT_SIZE (3) KEYBD_REPT += \"9501\" # REPORT_COUNT (1) KEYBD_REPT += \"9103\" # OUTPUT (Cnst,Var,Abs) KEYBD_REPT += \"C0\" # END_COLLECTION # Mouse and Digitizer Report Descriptor # (report_id=1, 5 Buttons, X, Y, Wheel, AC Pan -> 1byte + 1byte + 4*2 Bytes) # (report_id=2, 5 Buttons, X, Y, padding*2 -> 1byte + 1byte + 4*2 Bytes) MOUSE_REPT = \"\" # \u30de\u30a6\u30b9\u90e8\u5206 MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"0902\" # USAGE (Mouse) MOUSE_REPT += \"A101\" # COLLECTION (Application) MOUSE_REPT += \"0901\" # USAGE (Pointer) MOUSE_REPT += \"A100\" # COLLECTION (Physical) MOUSE_REPT += \"8501\" # REPORT_ID (1) MOUSE_REPT += \"0509\" # USAGE_PAGE (Button) MOUSE_REPT += \"1901\" # USAGE_MINIMUM (Button 1) MOUSE_REPT += \"2905\" # USAGE_MAXIMUM (Button 5) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"2501\" # LOGICAL_MAXIMUM (1) MOUSE_REPT += \"7501\" # REPORT_SIZE (1) MOUSE_REPT += \"9505\" # REPORT_COUNT (5) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7503\" # REPORT_SIZE (3) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"0930\" # USAGE (X) MOUSE_REPT += \"0931\" # USAGE (Y) MOUSE_REPT += \"0938\" # USAGE (Wheel) MOUSE_REPT += \"160180\" # LOGICAL_MINIMUM (-32767) MOUSE_REPT += \"26FF7F\" # LOGICAL_MAXIMUM (32767) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9503\" # REPORT_COUNT (3) MOUSE_REPT += \"8106\" # INPUT (Data,Var,Rel) MOUSE_REPT += \"050C\" # USAGE_PAGE (Consumer Devices) MOUSE_REPT += \"0A3802\" # USAGE (AC Pan) MOUSE_REPT += \"160180\" # LOGICAL_MINIMUM (-32767) MOUSE_REPT += \"26FF7F\" # LOGICAL_MAXIMUM (32767) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8106\" # INPUT (Data,Var,Rel) MOUSE_REPT += \"C0\" # END_COLLECTION MOUSE_REPT += \"C0\" # END_COLLECTION # \u30c7\u30b8\u30bf\u30a4\u30b6\u90e8\u5206 MOUSE_REPT += \"050D\" # USAGE_PAGE (Digitizers) MOUSE_REPT += \"0902\" # USAGE (Pen) MOUSE_REPT += \"A101\" # COLLECTION (Application) MOUSE_REPT += \"8502\" # REPORT_ID (2) MOUSE_REPT += \"0920\" # USAGE (Stylus) MOUSE_REPT += \"A100\" # COLLECTION (Physical) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"2501\" # LOGICAL_MAXIMUM (1) MOUSE_REPT += \"0942\" # USAGE (Tip Switch) MOUSE_REPT += \"0944\" # USAGE (Barrel Switch) MOUSE_REPT += \"093C\" # USAGE (Invert) MOUSE_REPT += \"0945\" # USAGE (Eraser Switch) MOUSE_REPT += \"0932\" # USAGE (In Range) MOUSE_REPT += \"7501\" # REPORT_SIZE (1) MOUSE_REPT += \"9505\" # REPORT_COUNT (5) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7503\" # REPORT_SIZE (3) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"5500\" # UNIT_EXPONENT (0) MOUSE_REPT += \"6513\" # UNIT (Inch,EngLinear) MOUSE_REPT += \"3500\" # PHYSICAL_MINIMUM (0) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"0930\" # USAGE (X) MOUSE_REPT += \"460005\" # PHYSICAL_MAXIMUM (1280) MOUSE_REPT += \"260005\" # LOGICAL_MAXIMUM (1280) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"0931\" # USAGE (Y) MOUSE_REPT += \"46D002\" # PHYSICAL_MAXIMUM (720) MOUSE_REPT += \"26D002\" # LOGICAL_MAXIMUM (720) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7520\" # REPORT_SIZE (32) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"C0\" # END_COLLECTION MOUSE_REPT += \"C0\" # END_COLLECTION if [ -n \"\" $( cat ./UDC ) \"\" ] ; then echo > ./UDC ; fi N = 0 ### Report Descriptor\u306e\u8a2d\u5b9a # RNDIS Ethernet Adapter if \" $USE_ETHER \" ; then # OS descriptors # https://msdn.microsoft.com/en-us/library/hh881271.aspx # WIndows extensions to force config echo 1 > ./os_desc/use echo 0xcd > ./os_desc/b_vendor_code echo MSFT100 > ./os_desc/qw_sign mkdir -p functions/rndis.usb $N SERIAL = \" $( grep Serial /proc/cpuinfo | sed 's/Serial\\s*: 0000\\(\\w*\\)/\\1/' ) \" MAC = \" $( echo ${ SERIAL } | sed 's/\\(\\w\\w\\)/:\\1/g' | cut -b 2 - ) \" MAC_HOST = \"12 $( echo ${ MAC } | cut -b 3 - ) \" MAC_DEV = \"02 $( echo ${ MAC } | cut -b 3 - ) \" # https://msdn.microsoft.com/en-us/windows/hardware/gg463179.aspx echo RNDIS > ./functions/rndis.usb $N /os_desc/interface.rndis/compatible_id echo 5162001 > ./functions/rndis.usb $N /os_desc/interface.rndis/sub_compatible_id echo $MAC_HOST > ./functions/rndis.usb $N /host_addr echo $MAC_DEV > ./functions/rndis.usb $N /dev_addr ln -s ./functions/rndis.usb $(( N++ )) configs/c.1 ln -s ./configs/c.1 os_desc fi # Serial port if \" $USE_SERIAL \" ; then mkdir -p functions/acm.usb $N ln -s functions/acm.usb $(( N++ )) configs/c.1/ fi # Keyboard if \" $USE_KEYBOARD \" ; then mkdir -p ./functions/hid.usb $N echo 1 > ./functions/hid.usb $N /subclass # Boot Device echo 1 > ./functions/hid.usb $N /protocol # Keyboard echo 8 > ./functions/hid.usb $N /report_length # Report length: 8bytes echo $KEYBD_REPT | xxd -r -ps > ./functions/hid.usb $N /report_desc ln -s functions/hid.usb $(( N++ )) configs/c.1/ fi # Mouse if \" $USE_MOUSE \" ; then mkdir -p ./functions/hid.usb $N echo 0 > ./functions/hid.usb $N /subclass # No Subclass echo 0 > ./functions/hid.usb $N /protocol # None echo 10 > ./functions/hid.usb $N /report_length # Report length: 10bytes echo $MOUSE_REPT | xxd -r -ps > ./functions/hid.usb $N /report_desc ln -s ./functions/hid.usb $(( N++ )) configs/c.1/ fi ls /sys/class/udc > ./UDC # Starting getty if [ -n \" $GS_SERVICE_NAME \" ] ; then systemctl start $GS_SERVICE_NAME fi USB\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30d0\u30a4\u30b9\u306e\u5165\u529b\u30c7\u30fc\u30bf\u69cb\u9020 \u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30ad\u30fc\u30dc\u30fc\u30c9\u30c7\u30d0\u30a4\u30b9 /dev/hidg0 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee \u53f3Win \u53f3Alt \u53f3Shift \u53f3Ctrl \u5de6Win \u5de6Alt \u5de6Shift \u5de6Ctrl 1\u30d0\u30a4\u30c8\u76ee (Zero Padding) 2\u30d0\u30a4\u30c8\u76ee 1\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 3\u30d0\u30a4\u30c8\u76ee 2\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 4\u30d0\u30a4\u30c8\u76ee 3\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 5\u30d0\u30a4\u30c8\u76ee 4\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 6\u30d0\u30a4\u30c8\u76ee 5\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 7\u30d0\u30a4\u30c8\u76ee 6\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 \u30de\u30a6\u30b9\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30de\u30a6\u30b9/\u30c7\u30b8\u30bf\u30a4\u30b6\u30c7\u30d0\u30a4\u30b9 /dev/hidg1 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30de\u30a6\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u30010\u30d0\u30a4\u30c8\u76ee\u306b\u30ec\u30dd\u30fc\u30c8ID = 0x01 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u5404\u6570\u5024\u306f\u7bc4\u56f2 -32,767 \uff5e 32,767 \u306e2\u30d0\u30a4\u30c8\u6570\u5024(signed int16)\u3067\u5165\u529b\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee Report ID = 0x01 1\u30d0\u30a4\u30c8\u76ee (5 bits Zero Padding) Button3 Button2 Button1 2\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 3\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 4\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 5\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 6\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 7\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 8\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 9\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) \u30c7\u30b8\u30bf\u30a4\u30b6\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30de\u30a6\u30b9/\u30c7\u30b8\u30bf\u30a4\u30b6\u30c7\u30d0\u30a4\u30b9 /dev/hidg1 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30c7\u30b8\u30bf\u30a4\u30b6\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u30010\u30d0\u30a4\u30c8\u76ee\u306b\u30ec\u30dd\u30fc\u30c8ID = 0x02 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee Report ID = 0x02 1\u30d0\u30a4\u30c8\u76ee (3 bits Zero Padding) InRange EraserSw Invert BarrelSw TipSw 2\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 3\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 4\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 5\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 6\u30d0\u30a4\u30c8\u76ee (Zero Padding) 7\u30d0\u30a4\u30c8\u76ee (Zero Padding) 8\u30d0\u30a4\u30c8\u76ee (Zero Padding) 9\u30d0\u30a4\u30c8\u76ee (Zero Padding) \u307e\u305f\u30011\u30d0\u30a4\u30c8\u76ee\u306f(\u4eca\u56de\u306e\u7528\u9014\u3067\u306f)\u5e38\u306b\u4e0b\u8a18\u306e\u69d8\u306b\u5165\u529b\u3057\u307e\u3059\u3002 bit \u5024 \u7528\u9014 (Padding) 0 (Padding) 0 (Padding) 0 InRange 1 \u30ab\u30fc\u30bd\u30eb\u304c\u30c7\u30b8\u30bf\u30a4\u30b6\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u793a\u3059 Eraser Switch 0 \u6d88\u3057\u30b4\u30e0\u30b9\u30a4\u30c3\u30c1\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 Invert 0 \u30da\u30f3\u306e\u53cd\u5bfe\u5074\u306e\u7aef(\u30b7\u30e3\u30fc\u30da\u30f3\u306e\u6d88\u3057\u30b4\u30e0\u306e\u65b9)\u304c \u30c7\u30b8\u30bf\u30a4\u30b6\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u793a\u3059 Barrel Switch 0 \u30d0\u30ec\u30eb\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 Tip Switch 0 \u30da\u30f3\u304c\u30c7\u30b8\u30bf\u30a4\u30b6\u306e\u8868\u9762\u306b\u89e6\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 \u7d76\u5bfe\u4f4d\u7f6e\u306f\u3001\u753b\u9762\u5de6\u4e0a\u306e\u5ea7\u6a19\u3092 X=0, Y=0 \u3068\u3057\u3001\u753b\u9762\u53f3\u4e0b\u306e\u5ea7\u6a19\u3092 X=1280, Y=720 \u3068\u3057\u3066\u5165\u529b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306e\u6700\u5927\u5ea7\u6a19\u306f\u3001\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u5185\u306e USAGE (X) , USAGE (Y) \u306e\u76f4\u5f8c\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b LOGICAL_MAXIMUM (1280) , LOGICAL_MAXIMUM (720) \u3067\u3059\u3002 \u30e2\u30cb\u30bf\u30fc\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305fHDMI\u5165\u529b CSI-2(Camera Serial Interface 2)\u3068\u306fMIPI(Mobile Industry Processor Interface)\u30a2\u30e9\u30a4\u30a2\u30f3\u30b9\u306b\u3088\u3063\u3066\u7b56\u5b9a\u3055\u308c\u305f\u3001 \u30e2\u30d0\u30a4\u30eb\u6a5f\u5668\u306e\u30d7\u30ed\u30bb\u30c3\u30b5\u306b\u30ab\u30e1\u30e9\u3092\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u898f\u683c Raspberry Pi\u306f\u30e2\u30d0\u30a4\u30eb\u5411\u3051\u306eCPU\u3092\u642d\u8f09\u3057\u3066\u304a\u308a\u3001CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7528\u3044\u3066\u30ab\u30e1\u30e9\u304b\u3089\u306e\u9759\u6b62\u753b/\u52d5\u753b\u5165\u529b\u304c\u5229\u7528\u3067\u304d\u308b\u3002 PC\u7b49\u304b\u3089\u306eHDMI\u51fa\u529b\u3092CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u5909\u63db\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3001HDMI-CSI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 \u4eca\u56de\u306f \u30c9\u30a4\u30c4 Auvidea\u793e\u306e B101 HDMI to CSI-2 Bridge (15 pin FPC) \u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002 \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63a5\u7d9a\u3057\u305f\u72b6\u614b\u306e\u56f3\u304c \u3053\u3061\u3089 \u3002 Raspberry Pi\u3067CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001 raspi-config \u3067\u306e\u6709\u52b9\u5316\u304c\u5fc5\u8981\u3067\u3059\u3002 sudo raspi-config raspi-config \u3092\u5b9f\u884c\u3059\u308b\u3068\u5bfe\u8a71\u5f62\u5f0f\u3067\u306e\u5165\u529b\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001 \"5 Interfacing Options\" -> \"P1 Camera\" \"Enable/Disable connection to the Raspberry Pi Camera\" \u3068\u9806\u306b\u9078\u629e\u3057\u3066CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002 Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1 2019/10 \u73fe\u5728\u3001Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u306b\u306f\u3001HLS\u3068WebRTC\u3092\u7528\u3044\u305f\u65b9\u6cd5\u306e2\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002 \u7d50\u679c\u7684\u306b\u3001\u4eca\u56de\u306f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u3092\u91cd\u8996\u3057\u3066\u3001WebRTC\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u307e\u305f\u3001WebRTC\u306b\u306f\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0/ICE\u30b5\u30fc\u30d0\u3068\u547c\u3070\u308c\u308b\u30b5\u30fc\u30d0\u304c\u5fc5\u8981\u3067\u3042\u308b\u305f\u3081\u3001\u305d\u308c\u3089\u306b\u3064\u3044\u3066\u3082Raspberry Pi\u4e0a\u306b\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002 WebRTC \u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1 \u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u306b\u306f\u3001\u6642\u96e8\u5802\u793e\u306e WebRTC Native Client Momo \u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002 Momo\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306a\u3057\u3067\u69d8\u3005\u306a\u74b0\u5883\u3067\u52d5\u4f5c\u3059\u308b\"WebRTC \u30cd\u30a4\u30c6\u30a3\u30d6\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\"\u3067\u3042\u308a\u3001\u6642\u96e8\u5802\u793e\u306b\u3088\u308a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3055\u308c\u3001Raspbian Buster, Ubuntu(NVIDIA Jetson\u5411\u3051), MacOS\u7528\u30d0\u30a4\u30ca\u30ea\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001 Github\u306eRelease\u30da\u30fc\u30b8 \u3088\u308aRaspbian ARMv7\u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u8a73\u3057\u3044\u5229\u7528\u65b9\u6cd5\u306f Raspberry Pi \u3067 Momo \u3092\u4f7f\u3063\u3066\u307f\u308b \u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 curl -L -O https://github.com/shiguredo/momo/releases/download/19.09.2/momo-19.09.2_raspbian-buster_armv7.tar.gz tar xf momo-19.09.2_raspbian-buster_armv7.tar.gz sudo cp momo-19.09.2_raspbian-buster_armv7/momo /usr/local/bin/. sudo chmod +x /usr/local/bin/momo sudo apt-get install libnspr4 libnss3 Raspberry Pi Zero\u306e\u5834\u5408 curl -L -O https://github.com/shiguredo/momo/releases/download/19.09.2/momo-19.09.2_raspbian-buster_armv6.tar.gz tar xf momo-19.09.2_raspbian-buster_armv6.tar.gz sudo cp momo-19.09.2_raspbian-buster_armv6/momo /usr/local/bin/. sudo chmod +x /usr/local/bin/momo sudo apt-get install libnspr4 libnss3 \u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0 \u3053\u3061\u3089\u3082\u3001\u6642\u96e8\u5802\u793e\u306e WebRTC\u5411\u3051\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0 Ayame \u3068\u3001 Ayame Web SDK \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002 Ayame\u306b\u3064\u3044\u3066\u306fArm\u7528\u30d0\u30a4\u30ca\u30ea\u304c\u914d\u5e03\u3055\u308c\u3066\u306a\u3044\u305f\u3081\u3001 Github\u306eRelease\u30da\u30fc\u30b8 \u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u81ea\u8eab\u3067\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u305f\u3002 Go\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u7c21\u5358\u306b\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30f3\u30d1\u30a4\u30eb\u306fGo\u8a00\u8a9e\u74b0\u5883\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fPC\u4e0a\u306eLinux\u3084Windoes\u306a\u3069\u3067\u884c\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 curl -L -O https://github.com/OpenAyame/ayame/archive/19.08.0.tar.gz tar xf 19 .08.0.tar.gz cd ayame-19.08.0 GO111MODULE = on GOOS = linux GOARCH = arm GOARM = 7 go build -ldflags '-s -w -X main.AyameVersion=${VERSION}' -o ayame Raspberry Pi Zero\u306e\u5834\u5408 curl -L -O https://github.com/OpenAyame/ayame/archive/19.08.0.tar.gz tar xf 19 .08.0.tar.gz cd ayame-19.08.0 GO111MODULE = on GOOS = linux GOARCH = arm GOARM = 6 go build -ldflags '-s -w -X main.AyameVersion=${VERSION}' -o ayame \u751f\u6210\u3055\u308c\u305f ayame \u30d0\u30a4\u30ca\u30ea\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092RaspberryPi\u3078\u8ee2\u9001\u3057\u3001momo\u3068\u540c\u69d8\u306b /usr/local/bin \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 scp -p ayame config.yaml pi@raspberrypi.local:~/. ssh pi@raspberrypi.local \"sudo cp ~pi/ayame /usr/local/bin/.\" ssh pi@raspberrypi.local \"sudo mkdir -p /usr/local/etc/ayame && sudo cp ~pi/config.yaml /usr/local/etc/ayame/.\" ICE\u30b5\u30fc\u30d0 ICE\u30b5\u30fc\u30d0\u3068\u306fWebRTC\u306b\u304a\u3044\u3066\u3001Peer-to-peer\u901a\u4fe1\u3092\u78ba\u7acb\u3059\u308b\u305f\u3081\u306b\u3001NAT\u8d8a\u3048\u306a\u3069\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d0\u3067\u3059\u3002 \u4eca\u56de\u306f\u30ed\u30fc\u30ab\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u901a\u4fe1\u3059\u308b\u305f\u3081\u3001ICE\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u8a66\u3057\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002 ICE\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u306fcoTurn\u3068\u3044\u3046OSS\u3092\u5229\u7528\u3057\u307e\u3059\u3002Raspbian\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 sudo apt install coturn Systemd\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a Momo\u3001Ayame\u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 sudo mkdir -p /usr/local/etc/default/ sudo vi /etc/systemd/system/momo.service sudo vi /usr/local/etc/default/momo sudo vi /etc/systemd/system/ayame.service momo.service [Unit] Description=WebRTC Native Client Momo [Service] Type=simple WorkingDirectory=/var/log EnvironmentFile=/usr/local/etc/default/momo ExecStart=/usr/local/bin/momo --no-audio --video-device $VIDEO_DEVICE $OPTIONS ayame $AYAME_URL $ROOM_ID Restart=always [Install] WantedBy=multi-user.target /usr/local/etc/default/momo VIDEO_DEVICE=/dev/video0 AYAME_URL=ws://localhost:3000/signaling ROOM_ID=web_console OPTIONS=--force-i420 --use-native --resolution HD --fixed-resolution ayame.service [Unit] Description=WebRTC Signaling Server Ayame [Service] Type=simple WorkingDirectory=/usr/local/etc/ayame ExecStart=/usr/local/bin/ayame Restart=always [Install] WantedBy=multi-user.target sudo systemctl daemon-reload sudo systemctl enable momo sudo systemctl enable ayame sudo reboot \u30e1\u30e2\u66f8\u304d \u4ee5\u964d\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u914d\u4fe1\u3092\u5b9f\u73fe\u3059\u308bWebRTC\u3068HLS\u306b\u3064\u3044\u3066\u3001\u8abf\u3079\u305f\u3053\u3068\u3092\u4e0b\u8a18\u306b\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\u6b8b\u3057\u3066\u304a\u304f\u3002 Web Real-Time Communication(WebRTC) Google\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3084\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30b7\u30f3\u30d7\u30eb\u306aAPI\u7d4c\u7531\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u3092\u63d0\u4f9b\u3059\u308b\u81ea\u7531\u304b\u3064\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002 \u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u5185\u3067\u76f4\u63a5\u306e\u30d4\u30a2\u30fb\u30c4\u30fc\u30fb\u30d4\u30a2\u901a\u4fe1\u306b\u3088\u3063\u3066\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3084\u30cd\u30a4\u30c6\u30a3\u30d6\u30a2\u30d7\u30ea\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u305b\u305a\u306b\u3001 \u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u9593\u306e\u30dc\u30a4\u30b9\u30c1\u30e3\u30c3\u30c8\u3001\u30d3\u30c7\u30aa\u30c1\u30e3\u30c3\u30c8\u3001\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u304c\u53ef\u80fd\u3002 - Wikipedia\u300cWebRTC\u300d\u3088\u308a\u5f15\u7528 Peer-to-peer\u901a\u4fe1\u3067\u3042\u308b\u70b9\u304c\u7279\u5fb4\u3002 \u52d5\u753b\u914d\u4fe1\u306e\u305f\u3081\u306e\u30d7\u30c8\u30ed\u30b3\u30eb\u3067\u306f\u306a\u304f \u30d6\u30e9\u30a6\u30b6\u3092\u7528\u3044\u305f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u306e\u305f\u3081\u306e\u6280\u8853\u3067\u3059\u3002 \u914d\u4fe1\u65b9\u6cd5 Web\u30d6\u30e9\u30a6\u30b6\u4e0a\u304b\u3089Web\u30ab\u30e1\u30e9\u3084\u30e2\u30cb\u30bf\u30fc\u5171\u6709\u306e\u52d5\u753b\u306a\u3069\u3092\u914d\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u30d9\u30fc\u30b9\u304cPeer-to-Peer\u901a\u4fe1\u306e\u305f\u3081\u3001\u63a5\u7d9a\u5148\u60c5\u5831\u306e\u4ea4\u63db\u3084NAT\u8d85\u3048\u306a\u3069\u306e\u4ed5\u7d44\u307f\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002 javascript\u3067HTML5\u306evideo\u30bf\u30b0\u306e\u30bd\u30fc\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u52d5\u753b\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u4e0a\u306b\u8868\u793a\u3057\u307e\u3059\u3002 HLS\u3068\u6bd4\u8f03\u3059\u308b\u3068\u9045\u5ef6\u306e\u5c11\u306a\u3044\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u914d\u4fe1\u304c\u53ef\u80fd\u3002 Note \u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 WebRTC \u30b9\u30bf\u30c3\u30af\u30b3\u30c8\u30cf\u30b8\u30e1 \u8a73\u89e3 WebRTC WebRTC\u306b\u3066(S)RTCP\u304c\u5fc5\u8981\u306a\u7406\u7531 - iwashi.co HTTP Live Streaming(HLS) Apple\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u52d5\u753b\u3092\u914d\u4fe1\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3002 MP4(H.264, AAC)\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u305f\u3082\u306e\u3068\u3001\u30de\u30b9\u30bf\u30fc\u30d5\u30a1\u30a4\u30eb\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3068\u547c\u3070\u308c\u308b\u30d5\u30a1\u30a4\u30eb(\u62e1\u5f35\u5b50: .m3u8)\u3092\u7528\u3044\u307e\u3059\u3002 \u914d\u4fe1\u65b9\u6cd5 \u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092Web\u30b5\u30fc\u30d0\u306b\u914d\u7f6e\u3057\u3001HTML5\u306evideo\u30bf\u30b0\u3092\u7528\u3044\u3066\u914d\u4fe1\u304c\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u89e3\u8aac Note HLS\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u304b\u3063\u305f\u3002 \u52d5\u753b\u914d\u4fe1\u6280\u8853 \u305d\u306e1 - HTTP Live Streaming(HLS) - Akamai Japan Blog \u52d5\u753b\u306e\u5206\u5272\u3068\u914d\u7f6e\u304c\u5fc5\u8981\u306a\u305f\u3081\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u914d\u4fe1\u3067\u306f\u3042\u308b\u7a0b\u5ea6\u306e\u9045\u5ef6\u304c\u767a\u751f\u3057\u307e\u3059\u3002 ffmpeg\u7b49\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5206\u5272\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u53ef\u80fd\u3067\u3059\u3002 Example input.mp4\u304b\u3089output.m3u8\u3068\u3044\u3046\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3068 output001.ts, output002.ts\u3068\u3044\u3063\u305f\u5206\u5272\u3055\u308c\u305fmpeg2-ts\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\u3057\u307e\u3059\u3002 $ ffmpeg -i input.mp4 -c:v libx264 -c:a libfdk_aac -f hls -hls_time 5 -movflags faststart -hls_playlist_type vod -hls_segment_filename \"output%3d.ts\" output.m3u8 HID\u30c7\u30d0\u30a4\u30b9\u3067\u306f\"\u30ec\u30dd\u30fc\u30c8\"\u3068\u547c\u3070\u308c\u308b\u5358\u4f4d\u3067\u30c7\u30fc\u30bf\u3092\u3084\u308a\u3068\u308a\u3057\u307e\u3059\u3002\u30ec\u30dd\u30fc\u30c8\u306e\u5f62\u5f0f\u3092\u5b9a\u3081\u305f\u3082\u306e\u304c\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3067\u3059\u3002 \u21a9 WebRTC 1.0: Real-time Communication Between Browsers \u306712000\u884c\u307b\u3069\u3001[Media Capture and Streams]\u30675000\u884c\u307b\u3069\u306e\u82f1\u6587\u306e\u4ed5\u69d8\u66f8\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u21a9 USB HID\u306e\u30ad\u30fc\u30b3\u30fc\u30c9\u306b\u3064\u3044\u3066\u306f Human Interface Devices (HID) Information \u5185\u306e\"HID Usage Tables\"\u30da\u30fc\u30b8\u5185\u306ePDF\u8cc7\u6599\u306b\u8a18\u8f09\u306e\u3001\"10. Keyboard/Keypad Page (0x07) \"\u3092\u53c2\u7167\u3002 \u21a9 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306b\u306f\"g_hid\"\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u3066\u3044\u308b\u8a18\u8ff0\u3082\u898b\u3064\u304b\u308a\u307e\u3059\u304c\u3001Raspbian Buster\u3067\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002 \u21a9","title":"Web Console"},{"location":"Raspberry%20Pi/WebConsole/#web-console","text":"","title":"Web Console"},{"location":"Raspberry%20Pi/WebConsole/#_1","text":"Raspberry Pi\u3068PC\u3092\u63a5\u7d9a\u3057\u30d6\u30e9\u30a6\u30b6\u304b\u3089Raspberry Pi\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067 Web\u753b\u9762\u304b\u3089\u3001\u3042\u305f\u304b\u3082\u76f4\u63a5PC\u3092\u64cd\u4f5c\u3057\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306a\u74b0\u5883\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u74b0\u5883 \u30e2\u30c7\u30eb Raspberry Pi4 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Raspbian 10 Buster","title":"\u6982\u8981"},{"location":"Raspberry%20Pi/WebConsole/#_2","text":"PC\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3068\u3057\u3066\u300c\u30e2\u30cb\u30bf\u30fc\u300d\u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u304c\u3001 \u52a0\u3048\u3066GUI\u3067\u64cd\u4f5c\u3059\u308b\u306b\u306f\u300c\u30de\u30a6\u30b9\u300d\u3082\u5fc5\u8981\u3067\u3059\u3002 Web Console\u3067\u306fRaspberry Pi\u3092\u7528\u3044\u3066\u3001\u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u300c\u30de\u30a6\u30b9\u300d\u300c\u30e2\u30cb\u30bf\u30fc\u300d\u306e3\u3064\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u5165\u51fa\u529b\u64cd\u4f5c\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u6a5f\u80fd \u8981\u4ef6 \u65b9\u6cd5 \u5229\u7528\u3057\u305f \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u300c\u30de\u30a6\u30b9\u300d \u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30d6\u30e9\u30a6\u30b6\u304b\u3089Raspberry Pi\u3078\u306e\u30ad\u30fc\u30fb\u30de\u30a6\u30b9\u5165\u529b Web\u30d6\u30e9\u30a6\u30b6\u3068WebSocket Node.js\u3092\u7528\u3044\u305f \u81ea\u4f5c\u30a2\u30d7\u30ea Raspberry Pi\u304b\u3089PC\u3078\u306e\u30ad\u30fc\u30fb\u30de\u30a6\u30b9\u64cd\u4f5c\u518d\u73fe USB On-the-Go\u3092\u7528\u3044\u305f USB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 Linux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb(libcomposite) \u300c\u30e2\u30cb\u30bf\u30fc\u300d \u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 PC\u304b\u3089 Raspberry Pi\u3078\u306e\u6620\u50cf\u5165\u529b CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305fHDMI\u5165\u529b Video4Linux\u30c9\u30e9\u30a4\u30d0 Raspberry Pi\u304b\u3089 \u30d6\u30e9\u30a6\u30b6\u3078\u306e\u753b\u9762\u8868\u793a Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1 WebRTC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \"Momo\"","title":"\u5b9f\u73fe\u306b\u5fc5\u8981\u306a\u6a5f\u80fd"},{"location":"Raspberry%20Pi/WebConsole/#_3","text":"figure#raspi_fig { display:table; table-layout:fixed; } figure#raspi_fig div { display:table-cell; vertical-align:middle; } figure#raspi_fig div#hdmi { text-align:right; } figure#raspi_fig div#lan { text-align:left; } figure#raspi_fig figcaption { text-align:center; } HDMI\u30b1\u30fc\u30d6\u30eb\u2192 (PC\u306b\u63a5\u7d9a) USB Type-C\u2192 Raspberry Pi\u3068CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8 \u2190LAN\u30b1\u30fc\u30d6\u30eb","title":"\u63a5\u7d9a\u65b9\u6cd5"},{"location":"Raspberry%20Pi/WebConsole/#_4","text":"\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u306e\u4f5c\u6210 \u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u30c7\u30d0\u30a4\u30b9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306bUSB HID\u30c7\u30d0\u30a4\u30b9\u306e\u6a5f\u80fd\u306b\u5fdc\u3058\u305f\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf 1 \u306e\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3059\u3002 \u7c21\u5358\u306a3\u30dc\u30bf\u30f3\u30de\u30a6\u30b9\u3067\u3042\u308c\u3070\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306b\u4f8b\u304c\u3044\u304f\u3064\u304b\u898b\u3064\u304b\u308b\u306e\u3067\u3059\u304c\u3001\u300c\u6a2a\u30b9\u30af\u30ed\u30fc\u30eb\u300d\u300c\u6307\u5b9a\u5ea7\u6a19\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u306e\u79fb\u52d5\u300d\u306a\u3069\u3092\u5b9f\u73fe\u305f\u3081\u306b\u306f\u81ea\u8eab\u3067\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002 WebRTC\u3067\u306e\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u753b\u9762\u8868\u793a WebRTC\u306f\u69d8\u3005\u306a\u7528\u9014\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u305f\u3081\u304b\u3001\u3068\u306b\u304b\u304f\u4ed5\u69d8\u304c\u8907\u96d1 2 \u3067\u3059\u3002\u307e\u305f\u3001Web\u30d6\u30e9\u30a6\u30b6\u306e\u5916\u3067\u5b9f\u88c5\u3057\u3088\u3046\u3068\u306a\u308b\u3068\u6570\u5343\u884c\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u81ea\u4f5c\u3059\u308b\u30cf\u30e1\u306b\u306a\u308a\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u904b\u826f\u304f\u6280\u8853\u66f8\u51787\u306b\u30b5\u30fc\u30af\u30eb\u53c2\u52a0\u3055\u308c\u3066\u3044\u305f \u3067\u3093\u3067\u3093\u3089\u307c \u3055\u3093\u306e\u540c\u4eba\u8a8c\u3001 WebRTC\u3092\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u5916\u3066\u3099\u4f7f\u3063\u3066\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u3066\u3099\u3066\u3099\u304d\u308b\u3053\u3068\u3092\u5897\u3084\u3057\u3066\u307f\u307e\u305b\u3093\u304b? \u3092\u62dd\u8aad\u3057\u305f\u3053\u3068\u3067\u3001\u554f\u984c\u306f\u4e00\u6c17\u306b\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002","title":"\u82e6\u52b4\u3057\u305f\u70b9"},{"location":"Raspberry%20Pi/WebConsole/#_5","text":"","title":"\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3"},{"location":"Raspberry%20Pi/WebConsole/#websocketnodejs","text":"\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u3092Raspberry Pi\u3067\u53d7\u3051\u53d6\u308b\u305f\u3081\u306eNode.js\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u81ea\u4f5c\u3057\u307e\u3057\u305f\u3002 roy-n-roy/raspi_web_console - GitHub Node.js\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308b\u3001Socket.io\u3068Express\u3092\u7528\u3044\u305f\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002 RaspberryPi + HIMI to CSI\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u3002 \u753b\u9762\u914d\u4fe1WebRTC Client Momo + Ayame https://t.co/jppnHJbOMo https://t.co/epCejhbD6l RasPi\u306eUSB OTG\u3067USB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u3066NodeJS\u30a2\u30d7\u30ea\u7d4c\u7531\u3067\u5165\u529b https://t.co/R2XYDsmCjt pic.twitter.com/cWGUsMslxM \u2014 \u2606Roy.\u2605 (@Roy_n_roy) September 25, 2019 \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092WebSocket\u3092\u901a\u3057\u3066\u53d7\u3051\u53d6\u308a\u30015\u7a2e\u985e\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u30a4\u30d9\u30f3\u30c8 \u51e6\u7406 \u51fa\u529b \u753b\u9762\u30ed\u30fc\u30c9\u6642 WebSocket\u63a5\u7d9a\u3092\u78ba\u7acb \u306a\u3057 WebRTC\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0 \u30b5\u30fc\u30d0\u3078\u306eWebSocket\u63a5\u7d9a\u6642 \u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0\u3078\u306e WebSocket\u63a5\u7d9a\u3092Proxy \u306a\u3057 keydown \u30a4\u30d9\u30f3\u30c8 , keyup \u30a4\u30d9\u30f3\u30c8 \u30d6\u30e9\u30a6\u30b6\u306e\u30ad\u30fc\u30b3\u30fc\u30c9\u304b\u3089 USB HID\u30ad\u30fc\u30b3\u30fc\u30c9 3 \u306b\u5909\u63db \u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f mousedown \u30a4\u30d9\u30f3\u30c8 , mouseup \u30a4\u30d9\u30f3\u30c8 , mousemove \u30a4\u30d9\u30f3\u30c8 \u7279\u306b\u306a\u3057 \u30de\u30a6\u30b9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f mouseenter \u30a4\u30d9\u30f3\u30c8 \u30de\u30a6\u30b9\u304c\u753b\u9762\u5185\u306b\u5165\u3063\u305f\u6642\u306e \u7d76\u5bfe\u4f4d\u7f6e\u3092\u53d6\u5f97 \u30c7\u30b8\u30bf\u30a4\u30b6\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f \u7279\u306b\u91cd\u8981\u306a\u306e\u304c5\u756a\u76ee\u306emouseenter \u30a4\u30d9\u30f3\u30c8\u3067\u306e\u51e6\u7406\u3067\u3001\u3053\u306e\u51e6\u7406\u304c\u7121\u3044\u3068 \u300c\u30d6\u30e9\u30a6\u30b6\u4e0a\u306e\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u300d\u3068\u300c\u63a5\u7d9a\u5148PC\u4e0a\u306e\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u300d\u306b\u30ba\u30ec\u304c\u751f\u3058\u3066 \u3057\u307e\u3044\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001 \u30de\u30a6\u30b9\u3068\u30c7\u30b8\u30bf\u30a4\u30b6\u3092\u5408\u4f53\u3055\u305b\u305f\u30c7\u30d0\u30a4\u30b9 \u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3001 \u30d6\u30e9\u30a6\u30b6\u306e\u5916\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u306e\u753b\u9762\u5185\u306b\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u304c\u5165\u3063\u3066\u304d\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u30e2\u30cb\u30bf\u4e0a\u306e\u7d76\u5bfe\u4f4d\u7f6e\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30d0\u30a4\u30b9\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002 \u306a\u304a\u3001\u30c7\u30b8\u30bf\u30a4\u30b6\u3068\u306f\u30da\u30f3\u30bf\u30d6\u30ec\u30c3\u30c8\u306a\u3069\u306e\u3088\u3046\u306a\u3001\u30ab\u30fc\u30bd\u30eb\u306e\u7d76\u5bfe\u4f4d\u7f6e\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u306e\u3053\u3068\u3092\u3044\u3044\u307e\u3059\u3002","title":"WebSocket\u3092\u7528\u3044\u305fNode.js\u30a2\u30d7\u30ea"},{"location":"Raspberry%20Pi/WebConsole/#_6","text":"Node.js\u3068\u81ea\u4f5c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 # nodesource\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6700\u65b0\u306eNode.js\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash - sudo apt install -y nodejs # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -L -O https://github.com/roy-n-roy/raspi_web_console/archive/master.zip unzip master.zip cd raspi_web_console-master sudo bash ./setup.sh Raspberry Pi Zero\u306e\u5834\u5408 # Raspbian\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089Node.js\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install -y nodejs npm # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -L -O https://github.com/roy-n-roy/raspi_web_console/archive/master.zip unzip master.zip cd raspi_web_console-master sudo bash ./setup.sh","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Raspberry%20Pi/WebConsole/#usb-on-the-gousb","text":"USB On-the-Go\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u3001Raspbian(Linux)\u306e\u8d77\u52d5\u6642\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u308c\u3089\u306e\u8a2d\u5b9a\u306f\u524d\u8ff0\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u5408\u308f\u305b\u3066\u5b9f\u884c\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u8d77\u52d5\u30d1\u30e9\u30e1\u30fc\u30bf\u306bLinux Device Tree Overlay \"dwc2\" USB\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30c9\u30e9\u30a4\u30d0\u3092\u8a2d\u5b9a /boot/config.txt dtoverlay = dwc2 \u8d77\u52d5\u6642\u306bLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb \"dwc2\" \u3068 \"libcomposite\" 4 \u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u8a2d\u5b9a echo \"dwc2\" >> /etc/modules echo \"libcomposite\" >> /etc/modules reboot libcomposite \u3067USB\u30c7\u30d0\u30a4\u30b9\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a \u30c7\u30d0\u30a4\u30b9\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf/\u30b3\u30f3\u30d5\u30a3\u30b0\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf/\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3068\u547c\u3070\u308c\u308b\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a2d\u5b9a\u7528\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u81ea\u4f5c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3042\u308f\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 init_usb.sh \u5b9f\u884c\u3059\u308b\u3068\u3001 /dev/hidg0 (\u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30bf), /dev/hidg1 (\u30de\u30a6\u30b9\u30fb\u30c7\u30b8\u30bf\u30a4\u30b6\u30a8\u30df\u30e5\u30ec\u30fc\u30bf)\u3068\u3044\u3046\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u3048\u3066\u304d\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u3068\u3001\u63a5\u7d9a\u5148\u306ePC\u3067\u30ad\u30fc\u30dc\u30fc\u30c9\u3084\u30de\u30a6\u30b9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002","title":"USB On-the-Go\u6a5f\u80fd\u3092\u7528\u3044\u305fUSB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3"},{"location":"Raspberry%20Pi/WebConsole/#usb","text":"USB HID\u30c7\u30d0\u30a4\u30b9\u306e\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u3053\u306e\u8fba\u308a( USB gadget using libcomposite - Raspberry Pi Forums )\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 init_usb.sh #!/bin/bash -e USE_ETHER = false # RNDIS Ethernet Adapter USE_SERIAL = false # Serial port USE_KEYBOARD = true # HID Keyboard USE_MOUSE = true # HID Mouse & Digitizer LANG = \"0x409\" # language code: 0x409=ENGLISH_US CONFIGFS = \"/sys/kernel/config/usb_gadget/\" GADGET_NAME = \"gadget\" if [[ $EUID -ne 0 ]] ; then echo \"This script must be run as root\" exit 1 fi # libcomposite\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u30ed\u30fc\u30c9 if [ ! -d $CONFIGFS ] ; then modprobe libcomposite fi # Enter ConfigFS cd $CONFIGFS # Stopping getty GS_SERVICE_NAME = ` systemctl list-units -t service --state = running | grep -i getty@ttygs | cut -d ' ' -f1 ` || true if [ -n \" $GS_SERVICE_NAME \" ] ; then systemctl stop $GS_SERVICE_NAME if lsmod | grep g_serial ; then rmmod g_serial fi fi # \u65e2\u5b58\u8a2d\u5b9a\u3092\u30af\u30ea\u30a2 find ./ $GADGET_NAME /configs/*/* -maxdepth 0 -type l -exec rm {} \\; & > /dev/null || true find ./ $GADGET_NAME /configs/*/strings/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /os_desc/* -maxdepth 0 -type l -exec rm {} \\; & > /dev/null || true find ./ $GADGET_NAME /functions/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /strings/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /configs/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true rmdir ./ $GADGET_NAME & > /dev/null || true mkdir ./ $GADGET_NAME && cd ./ $GADGET_NAME ### Device Descriptor\u306e\u8a2d\u5b9a # VendorID echo 0x1d6b > ./idVendor # Linux Foundation # USB HID Specification Release echo 0x0200 > ./bcdUSB # USB2 # USB Class code echo 0xEF > ./bDeviceClass # Miscellaneous Device Class # USB SubClass code echo 0x02 > ./bDeviceSubClass # Common # USB Protocol code echo 0x01 > ./bDeviceProtocol # Interface Association Descriptor # ProductID (assigned by manufacturer) echo 0x0001 > ./idProduct # Device release number(assigned by manufacturer) echo 0x0100 > ./bcdDevice # v1.0.0 mkdir -p strings/ $LANG echo \"fedcba9876543210\" > ./strings/ $LANG /serialnumber # \u9069\u5f53\u306b\u8a2d\u5b9a echo \"Raspberry Pi\" > ./strings/ $LANG /manufacturer echo \"Generic USB Composite Device\" > ./strings/ $LANG /product ### Configuration Descriptor\u306e\u8a2d\u5b9a mkdir -p ./configs/c.1/strings/ $LANG echo 1500 > ./configs/c.1/MaxPower # 1500*2mA= 3.0A echo \"Config 1: ECM network\" > ./configs/c.1/strings/ $LANG /configuration ### Report Descriptor\u5b9a\u7fa9 # Keyboard Report Descriptor # (Modifier keys + 6 simultaneous Keys -> 8 Bytes) KEYBD_REPT = \"\" KEYBD_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) KEYBD_REPT += \"0906\" # USAGE (Keyboard) KEYBD_REPT += \"A101\" # COLLECTION (Application) KEYBD_REPT += \"0507\" # USAGE_PAGE (Keyboard) KEYBD_REPT += \"19E0\" # USAGE_MINIMUM (Keyboard LeftControl) KEYBD_REPT += \"29E7\" # USAGE_MAXIMUM (Keyboard Right GUI) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"2501\" # LOGICAL_MAXIMUM (1) KEYBD_REPT += \"7501\" # REPORT_SIZE (1) KEYBD_REPT += \"9508\" # REPORT_COUNT (8) KEYBD_REPT += \"8102\" # INPUT (Data,Var,Abs) KEYBD_REPT += \"7508\" # REPORT_SIZE (8) KEYBD_REPT += \"9501\" # REPORT_COUNT (1) KEYBD_REPT += \"8103\" # INPUT (Cnst,Var,Abs) KEYBD_REPT += \"1900\" # USAGE_MINIMUM (Reserved (no event indicated)) KEYBD_REPT += \"299F\" # USAGE_MAXIMUM (Keyboard Separator) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"259F\" # LOGICAL_MAXIMUM (175) KEYBD_REPT += \"7508\" # REPORT_SIZE (8) KEYBD_REPT += \"9506\" # REPORT_COUNT (6) KEYBD_REPT += \"8100\" # INPUT (Data,Ary,Abs) KEYBD_REPT += \"0508\" # USAGE_PAGE (LEDs) KEYBD_REPT += \"1901\" # USAGE_MINIMUM (Num Lock) KEYBD_REPT += \"2905\" # USAGE_MAXIMUM (Kana) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"2501\" # LOGICAL_MAXIMUM (1) KEYBD_REPT += \"7501\" # REPORT_SIZE (1) KEYBD_REPT += \"9505\" # REPORT_COUNT (5) KEYBD_REPT += \"9102\" # OUTPUT (Data,Var,Abs) KEYBD_REPT += \"7503\" # REPORT_SIZE (3) KEYBD_REPT += \"9501\" # REPORT_COUNT (1) KEYBD_REPT += \"9103\" # OUTPUT (Cnst,Var,Abs) KEYBD_REPT += \"C0\" # END_COLLECTION # Mouse and Digitizer Report Descriptor # (report_id=1, 5 Buttons, X, Y, Wheel, AC Pan -> 1byte + 1byte + 4*2 Bytes) # (report_id=2, 5 Buttons, X, Y, padding*2 -> 1byte + 1byte + 4*2 Bytes) MOUSE_REPT = \"\" # \u30de\u30a6\u30b9\u90e8\u5206 MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"0902\" # USAGE (Mouse) MOUSE_REPT += \"A101\" # COLLECTION (Application) MOUSE_REPT += \"0901\" # USAGE (Pointer) MOUSE_REPT += \"A100\" # COLLECTION (Physical) MOUSE_REPT += \"8501\" # REPORT_ID (1) MOUSE_REPT += \"0509\" # USAGE_PAGE (Button) MOUSE_REPT += \"1901\" # USAGE_MINIMUM (Button 1) MOUSE_REPT += \"2905\" # USAGE_MAXIMUM (Button 5) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"2501\" # LOGICAL_MAXIMUM (1) MOUSE_REPT += \"7501\" # REPORT_SIZE (1) MOUSE_REPT += \"9505\" # REPORT_COUNT (5) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7503\" # REPORT_SIZE (3) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"0930\" # USAGE (X) MOUSE_REPT += \"0931\" # USAGE (Y) MOUSE_REPT += \"0938\" # USAGE (Wheel) MOUSE_REPT += \"160180\" # LOGICAL_MINIMUM (-32767) MOUSE_REPT += \"26FF7F\" # LOGICAL_MAXIMUM (32767) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9503\" # REPORT_COUNT (3) MOUSE_REPT += \"8106\" # INPUT (Data,Var,Rel) MOUSE_REPT += \"050C\" # USAGE_PAGE (Consumer Devices) MOUSE_REPT += \"0A3802\" # USAGE (AC Pan) MOUSE_REPT += \"160180\" # LOGICAL_MINIMUM (-32767) MOUSE_REPT += \"26FF7F\" # LOGICAL_MAXIMUM (32767) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8106\" # INPUT (Data,Var,Rel) MOUSE_REPT += \"C0\" # END_COLLECTION MOUSE_REPT += \"C0\" # END_COLLECTION # \u30c7\u30b8\u30bf\u30a4\u30b6\u90e8\u5206 MOUSE_REPT += \"050D\" # USAGE_PAGE (Digitizers) MOUSE_REPT += \"0902\" # USAGE (Pen) MOUSE_REPT += \"A101\" # COLLECTION (Application) MOUSE_REPT += \"8502\" # REPORT_ID (2) MOUSE_REPT += \"0920\" # USAGE (Stylus) MOUSE_REPT += \"A100\" # COLLECTION (Physical) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"2501\" # LOGICAL_MAXIMUM (1) MOUSE_REPT += \"0942\" # USAGE (Tip Switch) MOUSE_REPT += \"0944\" # USAGE (Barrel Switch) MOUSE_REPT += \"093C\" # USAGE (Invert) MOUSE_REPT += \"0945\" # USAGE (Eraser Switch) MOUSE_REPT += \"0932\" # USAGE (In Range) MOUSE_REPT += \"7501\" # REPORT_SIZE (1) MOUSE_REPT += \"9505\" # REPORT_COUNT (5) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7503\" # REPORT_SIZE (3) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"5500\" # UNIT_EXPONENT (0) MOUSE_REPT += \"6513\" # UNIT (Inch,EngLinear) MOUSE_REPT += \"3500\" # PHYSICAL_MINIMUM (0) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"0930\" # USAGE (X) MOUSE_REPT += \"460005\" # PHYSICAL_MAXIMUM (1280) MOUSE_REPT += \"260005\" # LOGICAL_MAXIMUM (1280) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"0931\" # USAGE (Y) MOUSE_REPT += \"46D002\" # PHYSICAL_MAXIMUM (720) MOUSE_REPT += \"26D002\" # LOGICAL_MAXIMUM (720) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7520\" # REPORT_SIZE (32) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"C0\" # END_COLLECTION MOUSE_REPT += \"C0\" # END_COLLECTION if [ -n \"\" $( cat ./UDC ) \"\" ] ; then echo > ./UDC ; fi N = 0 ### Report Descriptor\u306e\u8a2d\u5b9a # RNDIS Ethernet Adapter if \" $USE_ETHER \" ; then # OS descriptors # https://msdn.microsoft.com/en-us/library/hh881271.aspx # WIndows extensions to force config echo 1 > ./os_desc/use echo 0xcd > ./os_desc/b_vendor_code echo MSFT100 > ./os_desc/qw_sign mkdir -p functions/rndis.usb $N SERIAL = \" $( grep Serial /proc/cpuinfo | sed 's/Serial\\s*: 0000\\(\\w*\\)/\\1/' ) \" MAC = \" $( echo ${ SERIAL } | sed 's/\\(\\w\\w\\)/:\\1/g' | cut -b 2 - ) \" MAC_HOST = \"12 $( echo ${ MAC } | cut -b 3 - ) \" MAC_DEV = \"02 $( echo ${ MAC } | cut -b 3 - ) \" # https://msdn.microsoft.com/en-us/windows/hardware/gg463179.aspx echo RNDIS > ./functions/rndis.usb $N /os_desc/interface.rndis/compatible_id echo 5162001 > ./functions/rndis.usb $N /os_desc/interface.rndis/sub_compatible_id echo $MAC_HOST > ./functions/rndis.usb $N /host_addr echo $MAC_DEV > ./functions/rndis.usb $N /dev_addr ln -s ./functions/rndis.usb $(( N++ )) configs/c.1 ln -s ./configs/c.1 os_desc fi # Serial port if \" $USE_SERIAL \" ; then mkdir -p functions/acm.usb $N ln -s functions/acm.usb $(( N++ )) configs/c.1/ fi # Keyboard if \" $USE_KEYBOARD \" ; then mkdir -p ./functions/hid.usb $N echo 1 > ./functions/hid.usb $N /subclass # Boot Device echo 1 > ./functions/hid.usb $N /protocol # Keyboard echo 8 > ./functions/hid.usb $N /report_length # Report length: 8bytes echo $KEYBD_REPT | xxd -r -ps > ./functions/hid.usb $N /report_desc ln -s functions/hid.usb $(( N++ )) configs/c.1/ fi # Mouse if \" $USE_MOUSE \" ; then mkdir -p ./functions/hid.usb $N echo 0 > ./functions/hid.usb $N /subclass # No Subclass echo 0 > ./functions/hid.usb $N /protocol # None echo 10 > ./functions/hid.usb $N /report_length # Report length: 10bytes echo $MOUSE_REPT | xxd -r -ps > ./functions/hid.usb $N /report_desc ln -s ./functions/hid.usb $(( N++ )) configs/c.1/ fi ls /sys/class/udc > ./UDC # Starting getty if [ -n \" $GS_SERVICE_NAME \" ] ; then systemctl start $GS_SERVICE_NAME fi","title":"USB \u30c7\u30d0\u30a4\u30b9/\u30b3\u30f3\u30d5\u30a3\u30b0/\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u306e\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8"},{"location":"Raspberry%20Pi/WebConsole/#usb_1","text":"\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30ad\u30fc\u30dc\u30fc\u30c9\u30c7\u30d0\u30a4\u30b9 /dev/hidg0 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee \u53f3Win \u53f3Alt \u53f3Shift \u53f3Ctrl \u5de6Win \u5de6Alt \u5de6Shift \u5de6Ctrl 1\u30d0\u30a4\u30c8\u76ee (Zero Padding) 2\u30d0\u30a4\u30c8\u76ee 1\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 3\u30d0\u30a4\u30c8\u76ee 2\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 4\u30d0\u30a4\u30c8\u76ee 3\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 5\u30d0\u30a4\u30c8\u76ee 4\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 6\u30d0\u30a4\u30c8\u76ee 5\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 7\u30d0\u30a4\u30c8\u76ee 6\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 \u30de\u30a6\u30b9\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30de\u30a6\u30b9/\u30c7\u30b8\u30bf\u30a4\u30b6\u30c7\u30d0\u30a4\u30b9 /dev/hidg1 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30de\u30a6\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u30010\u30d0\u30a4\u30c8\u76ee\u306b\u30ec\u30dd\u30fc\u30c8ID = 0x01 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u5404\u6570\u5024\u306f\u7bc4\u56f2 -32,767 \uff5e 32,767 \u306e2\u30d0\u30a4\u30c8\u6570\u5024(signed int16)\u3067\u5165\u529b\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee Report ID = 0x01 1\u30d0\u30a4\u30c8\u76ee (5 bits Zero Padding) Button3 Button2 Button1 2\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 3\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 4\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 5\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 6\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 7\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 8\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 9\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) \u30c7\u30b8\u30bf\u30a4\u30b6\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30de\u30a6\u30b9/\u30c7\u30b8\u30bf\u30a4\u30b6\u30c7\u30d0\u30a4\u30b9 /dev/hidg1 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30c7\u30b8\u30bf\u30a4\u30b6\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u30010\u30d0\u30a4\u30c8\u76ee\u306b\u30ec\u30dd\u30fc\u30c8ID = 0x02 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee Report ID = 0x02 1\u30d0\u30a4\u30c8\u76ee (3 bits Zero Padding) InRange EraserSw Invert BarrelSw TipSw 2\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 3\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 4\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 5\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 6\u30d0\u30a4\u30c8\u76ee (Zero Padding) 7\u30d0\u30a4\u30c8\u76ee (Zero Padding) 8\u30d0\u30a4\u30c8\u76ee (Zero Padding) 9\u30d0\u30a4\u30c8\u76ee (Zero Padding) \u307e\u305f\u30011\u30d0\u30a4\u30c8\u76ee\u306f(\u4eca\u56de\u306e\u7528\u9014\u3067\u306f)\u5e38\u306b\u4e0b\u8a18\u306e\u69d8\u306b\u5165\u529b\u3057\u307e\u3059\u3002 bit \u5024 \u7528\u9014 (Padding) 0 (Padding) 0 (Padding) 0 InRange 1 \u30ab\u30fc\u30bd\u30eb\u304c\u30c7\u30b8\u30bf\u30a4\u30b6\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u793a\u3059 Eraser Switch 0 \u6d88\u3057\u30b4\u30e0\u30b9\u30a4\u30c3\u30c1\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 Invert 0 \u30da\u30f3\u306e\u53cd\u5bfe\u5074\u306e\u7aef(\u30b7\u30e3\u30fc\u30da\u30f3\u306e\u6d88\u3057\u30b4\u30e0\u306e\u65b9)\u304c \u30c7\u30b8\u30bf\u30a4\u30b6\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u793a\u3059 Barrel Switch 0 \u30d0\u30ec\u30eb\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 Tip Switch 0 \u30da\u30f3\u304c\u30c7\u30b8\u30bf\u30a4\u30b6\u306e\u8868\u9762\u306b\u89e6\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 \u7d76\u5bfe\u4f4d\u7f6e\u306f\u3001\u753b\u9762\u5de6\u4e0a\u306e\u5ea7\u6a19\u3092 X=0, Y=0 \u3068\u3057\u3001\u753b\u9762\u53f3\u4e0b\u306e\u5ea7\u6a19\u3092 X=1280, Y=720 \u3068\u3057\u3066\u5165\u529b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306e\u6700\u5927\u5ea7\u6a19\u306f\u3001\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u5185\u306e USAGE (X) , USAGE (Y) \u306e\u76f4\u5f8c\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b LOGICAL_MAXIMUM (1280) , LOGICAL_MAXIMUM (720) \u3067\u3059\u3002","title":"USB\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30d0\u30a4\u30b9\u306e\u5165\u529b\u30c7\u30fc\u30bf\u69cb\u9020"},{"location":"Raspberry%20Pi/WebConsole/#_7","text":"","title":"\u30e2\u30cb\u30bf\u30fc\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3"},{"location":"Raspberry%20Pi/WebConsole/#csi-2-to-hdmihdmi","text":"CSI-2(Camera Serial Interface 2)\u3068\u306fMIPI(Mobile Industry Processor Interface)\u30a2\u30e9\u30a4\u30a2\u30f3\u30b9\u306b\u3088\u3063\u3066\u7b56\u5b9a\u3055\u308c\u305f\u3001 \u30e2\u30d0\u30a4\u30eb\u6a5f\u5668\u306e\u30d7\u30ed\u30bb\u30c3\u30b5\u306b\u30ab\u30e1\u30e9\u3092\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u898f\u683c Raspberry Pi\u306f\u30e2\u30d0\u30a4\u30eb\u5411\u3051\u306eCPU\u3092\u642d\u8f09\u3057\u3066\u304a\u308a\u3001CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7528\u3044\u3066\u30ab\u30e1\u30e9\u304b\u3089\u306e\u9759\u6b62\u753b/\u52d5\u753b\u5165\u529b\u304c\u5229\u7528\u3067\u304d\u308b\u3002 PC\u7b49\u304b\u3089\u306eHDMI\u51fa\u529b\u3092CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u5909\u63db\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3001HDMI-CSI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 \u4eca\u56de\u306f \u30c9\u30a4\u30c4 Auvidea\u793e\u306e B101 HDMI to CSI-2 Bridge (15 pin FPC) \u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002 \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63a5\u7d9a\u3057\u305f\u72b6\u614b\u306e\u56f3\u304c \u3053\u3061\u3089 \u3002 Raspberry Pi\u3067CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001 raspi-config \u3067\u306e\u6709\u52b9\u5316\u304c\u5fc5\u8981\u3067\u3059\u3002 sudo raspi-config raspi-config \u3092\u5b9f\u884c\u3059\u308b\u3068\u5bfe\u8a71\u5f62\u5f0f\u3067\u306e\u5165\u529b\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001 \"5 Interfacing Options\" -> \"P1 Camera\" \"Enable/Disable connection to the Raspberry Pi Camera\" \u3068\u9806\u306b\u9078\u629e\u3057\u3066CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002","title":"CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305fHDMI\u5165\u529b"},{"location":"Raspberry%20Pi/WebConsole/#web","text":"2019/10 \u73fe\u5728\u3001Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u306b\u306f\u3001HLS\u3068WebRTC\u3092\u7528\u3044\u305f\u65b9\u6cd5\u306e2\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002 \u7d50\u679c\u7684\u306b\u3001\u4eca\u56de\u306f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u3092\u91cd\u8996\u3057\u3066\u3001WebRTC\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u307e\u305f\u3001WebRTC\u306b\u306f\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0/ICE\u30b5\u30fc\u30d0\u3068\u547c\u3070\u308c\u308b\u30b5\u30fc\u30d0\u304c\u5fc5\u8981\u3067\u3042\u308b\u305f\u3081\u3001\u305d\u308c\u3089\u306b\u3064\u3044\u3066\u3082Raspberry Pi\u4e0a\u306b\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002","title":"Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1"},{"location":"Raspberry%20Pi/WebConsole/#webrtc","text":"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u306b\u306f\u3001\u6642\u96e8\u5802\u793e\u306e WebRTC Native Client Momo \u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002 Momo\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306a\u3057\u3067\u69d8\u3005\u306a\u74b0\u5883\u3067\u52d5\u4f5c\u3059\u308b\"WebRTC \u30cd\u30a4\u30c6\u30a3\u30d6\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\"\u3067\u3042\u308a\u3001\u6642\u96e8\u5802\u793e\u306b\u3088\u308a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3055\u308c\u3001Raspbian Buster, Ubuntu(NVIDIA Jetson\u5411\u3051), MacOS\u7528\u30d0\u30a4\u30ca\u30ea\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001 Github\u306eRelease\u30da\u30fc\u30b8 \u3088\u308aRaspbian ARMv7\u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u8a73\u3057\u3044\u5229\u7528\u65b9\u6cd5\u306f Raspberry Pi \u3067 Momo \u3092\u4f7f\u3063\u3066\u307f\u308b \u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 curl -L -O https://github.com/shiguredo/momo/releases/download/19.09.2/momo-19.09.2_raspbian-buster_armv7.tar.gz tar xf momo-19.09.2_raspbian-buster_armv7.tar.gz sudo cp momo-19.09.2_raspbian-buster_armv7/momo /usr/local/bin/. sudo chmod +x /usr/local/bin/momo sudo apt-get install libnspr4 libnss3 Raspberry Pi Zero\u306e\u5834\u5408 curl -L -O https://github.com/shiguredo/momo/releases/download/19.09.2/momo-19.09.2_raspbian-buster_armv6.tar.gz tar xf momo-19.09.2_raspbian-buster_armv6.tar.gz sudo cp momo-19.09.2_raspbian-buster_armv6/momo /usr/local/bin/. sudo chmod +x /usr/local/bin/momo sudo apt-get install libnspr4 libnss3","title":"WebRTC \u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1"},{"location":"Raspberry%20Pi/WebConsole/#_8","text":"\u3053\u3061\u3089\u3082\u3001\u6642\u96e8\u5802\u793e\u306e WebRTC\u5411\u3051\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0 Ayame \u3068\u3001 Ayame Web SDK \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002 Ayame\u306b\u3064\u3044\u3066\u306fArm\u7528\u30d0\u30a4\u30ca\u30ea\u304c\u914d\u5e03\u3055\u308c\u3066\u306a\u3044\u305f\u3081\u3001 Github\u306eRelease\u30da\u30fc\u30b8 \u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u81ea\u8eab\u3067\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u305f\u3002 Go\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u7c21\u5358\u306b\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30f3\u30d1\u30a4\u30eb\u306fGo\u8a00\u8a9e\u74b0\u5883\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fPC\u4e0a\u306eLinux\u3084Windoes\u306a\u3069\u3067\u884c\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 curl -L -O https://github.com/OpenAyame/ayame/archive/19.08.0.tar.gz tar xf 19 .08.0.tar.gz cd ayame-19.08.0 GO111MODULE = on GOOS = linux GOARCH = arm GOARM = 7 go build -ldflags '-s -w -X main.AyameVersion=${VERSION}' -o ayame Raspberry Pi Zero\u306e\u5834\u5408 curl -L -O https://github.com/OpenAyame/ayame/archive/19.08.0.tar.gz tar xf 19 .08.0.tar.gz cd ayame-19.08.0 GO111MODULE = on GOOS = linux GOARCH = arm GOARM = 6 go build -ldflags '-s -w -X main.AyameVersion=${VERSION}' -o ayame \u751f\u6210\u3055\u308c\u305f ayame \u30d0\u30a4\u30ca\u30ea\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092RaspberryPi\u3078\u8ee2\u9001\u3057\u3001momo\u3068\u540c\u69d8\u306b /usr/local/bin \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 scp -p ayame config.yaml pi@raspberrypi.local:~/. ssh pi@raspberrypi.local \"sudo cp ~pi/ayame /usr/local/bin/.\" ssh pi@raspberrypi.local \"sudo mkdir -p /usr/local/etc/ayame && sudo cp ~pi/config.yaml /usr/local/etc/ayame/.\"","title":"\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0"},{"location":"Raspberry%20Pi/WebConsole/#ice","text":"ICE\u30b5\u30fc\u30d0\u3068\u306fWebRTC\u306b\u304a\u3044\u3066\u3001Peer-to-peer\u901a\u4fe1\u3092\u78ba\u7acb\u3059\u308b\u305f\u3081\u306b\u3001NAT\u8d8a\u3048\u306a\u3069\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d0\u3067\u3059\u3002 \u4eca\u56de\u306f\u30ed\u30fc\u30ab\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u901a\u4fe1\u3059\u308b\u305f\u3081\u3001ICE\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u8a66\u3057\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002 ICE\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u306fcoTurn\u3068\u3044\u3046OSS\u3092\u5229\u7528\u3057\u307e\u3059\u3002Raspbian\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 sudo apt install coturn","title":"ICE\u30b5\u30fc\u30d0"},{"location":"Raspberry%20Pi/WebConsole/#systemd","text":"Momo\u3001Ayame\u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 sudo mkdir -p /usr/local/etc/default/ sudo vi /etc/systemd/system/momo.service sudo vi /usr/local/etc/default/momo sudo vi /etc/systemd/system/ayame.service momo.service [Unit] Description=WebRTC Native Client Momo [Service] Type=simple WorkingDirectory=/var/log EnvironmentFile=/usr/local/etc/default/momo ExecStart=/usr/local/bin/momo --no-audio --video-device $VIDEO_DEVICE $OPTIONS ayame $AYAME_URL $ROOM_ID Restart=always [Install] WantedBy=multi-user.target /usr/local/etc/default/momo VIDEO_DEVICE=/dev/video0 AYAME_URL=ws://localhost:3000/signaling ROOM_ID=web_console OPTIONS=--force-i420 --use-native --resolution HD --fixed-resolution ayame.service [Unit] Description=WebRTC Signaling Server Ayame [Service] Type=simple WorkingDirectory=/usr/local/etc/ayame ExecStart=/usr/local/bin/ayame Restart=always [Install] WantedBy=multi-user.target sudo systemctl daemon-reload sudo systemctl enable momo sudo systemctl enable ayame sudo reboot","title":"Systemd\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a"},{"location":"Raspberry%20Pi/WebConsole/#_9","text":"\u4ee5\u964d\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u914d\u4fe1\u3092\u5b9f\u73fe\u3059\u308bWebRTC\u3068HLS\u306b\u3064\u3044\u3066\u3001\u8abf\u3079\u305f\u3053\u3068\u3092\u4e0b\u8a18\u306b\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\u6b8b\u3057\u3066\u304a\u304f\u3002","title":"\u30e1\u30e2\u66f8\u304d"},{"location":"Raspberry%20Pi/WebConsole/#web-real-time-communicationwebrtc","text":"Google\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3084\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30b7\u30f3\u30d7\u30eb\u306aAPI\u7d4c\u7531\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u3092\u63d0\u4f9b\u3059\u308b\u81ea\u7531\u304b\u3064\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002 \u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u5185\u3067\u76f4\u63a5\u306e\u30d4\u30a2\u30fb\u30c4\u30fc\u30fb\u30d4\u30a2\u901a\u4fe1\u306b\u3088\u3063\u3066\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3084\u30cd\u30a4\u30c6\u30a3\u30d6\u30a2\u30d7\u30ea\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u305b\u305a\u306b\u3001 \u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u9593\u306e\u30dc\u30a4\u30b9\u30c1\u30e3\u30c3\u30c8\u3001\u30d3\u30c7\u30aa\u30c1\u30e3\u30c3\u30c8\u3001\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u304c\u53ef\u80fd\u3002 - Wikipedia\u300cWebRTC\u300d\u3088\u308a\u5f15\u7528 Peer-to-peer\u901a\u4fe1\u3067\u3042\u308b\u70b9\u304c\u7279\u5fb4\u3002 \u52d5\u753b\u914d\u4fe1\u306e\u305f\u3081\u306e\u30d7\u30c8\u30ed\u30b3\u30eb\u3067\u306f\u306a\u304f \u30d6\u30e9\u30a6\u30b6\u3092\u7528\u3044\u305f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u306e\u305f\u3081\u306e\u6280\u8853\u3067\u3059\u3002","title":"Web Real-Time Communication(WebRTC)"},{"location":"Raspberry%20Pi/WebConsole/#_10","text":"Web\u30d6\u30e9\u30a6\u30b6\u4e0a\u304b\u3089Web\u30ab\u30e1\u30e9\u3084\u30e2\u30cb\u30bf\u30fc\u5171\u6709\u306e\u52d5\u753b\u306a\u3069\u3092\u914d\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u30d9\u30fc\u30b9\u304cPeer-to-Peer\u901a\u4fe1\u306e\u305f\u3081\u3001\u63a5\u7d9a\u5148\u60c5\u5831\u306e\u4ea4\u63db\u3084NAT\u8d85\u3048\u306a\u3069\u306e\u4ed5\u7d44\u307f\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002 javascript\u3067HTML5\u306evideo\u30bf\u30b0\u306e\u30bd\u30fc\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u52d5\u753b\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u4e0a\u306b\u8868\u793a\u3057\u307e\u3059\u3002 HLS\u3068\u6bd4\u8f03\u3059\u308b\u3068\u9045\u5ef6\u306e\u5c11\u306a\u3044\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u914d\u4fe1\u304c\u53ef\u80fd\u3002 Note \u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 WebRTC \u30b9\u30bf\u30c3\u30af\u30b3\u30c8\u30cf\u30b8\u30e1 \u8a73\u89e3 WebRTC WebRTC\u306b\u3066(S)RTCP\u304c\u5fc5\u8981\u306a\u7406\u7531 - iwashi.co","title":"\u914d\u4fe1\u65b9\u6cd5"},{"location":"Raspberry%20Pi/WebConsole/#http-live-streaminghls","text":"Apple\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u52d5\u753b\u3092\u914d\u4fe1\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3002 MP4(H.264, AAC)\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u305f\u3082\u306e\u3068\u3001\u30de\u30b9\u30bf\u30fc\u30d5\u30a1\u30a4\u30eb\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3068\u547c\u3070\u308c\u308b\u30d5\u30a1\u30a4\u30eb(\u62e1\u5f35\u5b50: .m3u8)\u3092\u7528\u3044\u307e\u3059\u3002","title":"HTTP Live Streaming(HLS)"},{"location":"Raspberry%20Pi/WebConsole/#_11","text":"\u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092Web\u30b5\u30fc\u30d0\u306b\u914d\u7f6e\u3057\u3001HTML5\u306evideo\u30bf\u30b0\u3092\u7528\u3044\u3066\u914d\u4fe1\u304c\u3067\u304d\u307e\u3059\u3002","title":"\u914d\u4fe1\u65b9\u6cd5"},{"location":"Raspberry%20Pi/WebConsole/#_12","text":"Note HLS\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u304b\u3063\u305f\u3002 \u52d5\u753b\u914d\u4fe1\u6280\u8853 \u305d\u306e1 - HTTP Live Streaming(HLS) - Akamai Japan Blog \u52d5\u753b\u306e\u5206\u5272\u3068\u914d\u7f6e\u304c\u5fc5\u8981\u306a\u305f\u3081\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u914d\u4fe1\u3067\u306f\u3042\u308b\u7a0b\u5ea6\u306e\u9045\u5ef6\u304c\u767a\u751f\u3057\u307e\u3059\u3002 ffmpeg\u7b49\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5206\u5272\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u53ef\u80fd\u3067\u3059\u3002 Example input.mp4\u304b\u3089output.m3u8\u3068\u3044\u3046\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3068 output001.ts, output002.ts\u3068\u3044\u3063\u305f\u5206\u5272\u3055\u308c\u305fmpeg2-ts\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\u3057\u307e\u3059\u3002 $ ffmpeg -i input.mp4 -c:v libx264 -c:a libfdk_aac -f hls -hls_time 5 -movflags faststart -hls_playlist_type vod -hls_segment_filename \"output%3d.ts\" output.m3u8 HID\u30c7\u30d0\u30a4\u30b9\u3067\u306f\"\u30ec\u30dd\u30fc\u30c8\"\u3068\u547c\u3070\u308c\u308b\u5358\u4f4d\u3067\u30c7\u30fc\u30bf\u3092\u3084\u308a\u3068\u308a\u3057\u307e\u3059\u3002\u30ec\u30dd\u30fc\u30c8\u306e\u5f62\u5f0f\u3092\u5b9a\u3081\u305f\u3082\u306e\u304c\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3067\u3059\u3002 \u21a9 WebRTC 1.0: Real-time Communication Between Browsers \u306712000\u884c\u307b\u3069\u3001[Media Capture and Streams]\u30675000\u884c\u307b\u3069\u306e\u82f1\u6587\u306e\u4ed5\u69d8\u66f8\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u21a9 USB HID\u306e\u30ad\u30fc\u30b3\u30fc\u30c9\u306b\u3064\u3044\u3066\u306f Human Interface Devices (HID) Information \u5185\u306e\"HID Usage Tables\"\u30da\u30fc\u30b8\u5185\u306ePDF\u8cc7\u6599\u306b\u8a18\u8f09\u306e\u3001\"10. Keyboard/Keypad Page (0x07) \"\u3092\u53c2\u7167\u3002 \u21a9 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306b\u306f\"g_hid\"\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u3066\u3044\u308b\u8a18\u8ff0\u3082\u898b\u3064\u304b\u308a\u307e\u3059\u304c\u3001Raspbian Buster\u3067\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002 \u21a9","title":"\u8a73\u7d30\u89e3\u8aac"},{"location":"RouterOS/","text":"RouterOS RouterOS \u3068\u306f MikroTik\u793e \u306e\u958b\u767a\u3059\u308b\u4f4e\u30b3\u30b9\u30c8\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u88fd\u54c1\u300cRouterBoard\u300d\u5411\u3051\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3002 Linux\u30d9\u30fc\u30b9 \u307e\u305f\u3001PC\u3084\u4eee\u60f3\u30de\u30b7\u30f3\u3078\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308a\u3001\u5404\u7a2e\u4eee\u60f3\u74b0\u5883\u5411\u3051\u306e\u30a4\u30e1\u30fc\u30b8\u3082\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u3002 MikroTik Routers and Wireless - Software Download \u6a5f\u80fd \u304b\u306a\u308a\u306e\u9ad8\u6a5f\u80fd\u3067\u3059\u3002 \u7ba1\u7406 Web Browser/SSH/telnet/Serial console/REST API/ Winbox(Windows\u30a2\u30d7\u30ea)/MikroTik\u30a2\u30d7\u30ea(Android/iOS) IPv4\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 Static/BFD/BGP/RIPv1/RIPv2/OSPF/MME IPv6\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 Static/BGP/RIPng/OSPF Layer2 VPN VPLS Layer3 VPN L2TP/IPSec/PPTP Firewall port based/tag based/address list/L7 Firewall(Regexp) \u305d\u306e\u4ed6\u6a5f\u80fd Bonding/VLAN(802.1Q)/Authentication(802.1X, RADIUS)/NAT/IP Masquerade/ DHCP Server/DHCP Client/DHCP Relay/SMB Server/ SSH Client/Scheduler/Scripting/SNMP/rsyslog... \u30e9\u30a4\u30bb\u30f3\u30b9 2019/10\u73fe\u5728\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u306f \u8cb7\u3044\u5207\u308a\u5236 \u3001\u3057\u304b\u3082\u304b\u306a\u308a\u306e\u89aa\u5207\u4fa1\u683c\u3002 \u4eee\u60f3\u74b0\u5883\u5411\u3051\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306fCHR(Cloud Hosted Router)\u30e9\u30a4\u30bb\u30f3\u30b9\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u304c\u9069\u7528\u3055\u308c\u308b\u3002 CHR\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u306f\u3001\u4e0b\u8a18\u306e5\u7a2e\u985e\u304c\u5b58\u5728\u3059\u308b\u3002 \u7a2e\u985e \u901a\u4fe1\u901f\u5ea6\u5236\u9650 \u4fa1\u683c Free 1Mbit/s \u7121\u511f P1 (perpetual-1) 1Gbit/s $45 P10 (perpetual-10) 10Gbit/s $95 P-Unlimited (perpetual-unlimited) \u306a\u3057 $250 60-day trial \u306a\u3057 \u7121\u511f \u305f\u3060\u3057\u3001\u300c60-day trial\u300d\u306f\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u6709\u52b9\u5316\u5f8c60\u65e5\u9593\u306e\u307f\u5229\u7528\u53ef\u80fd\u306a\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u3042\u308b\u3002 \u5bfe\u5fdc\u74b0\u5883/\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5 2019/10\u73fe\u5728\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3002 VMWare Fusion / Workstation and ESXi 6.5 VirtualBox Hyper-V Amazon Web Services (AWS) Hetzner Cloud Linode Google Compute Engine ProxMox \u6700\u65b0\u60c5\u5831\u306f Manual:CHR - MikroTik Wiki \u3092\u53c2\u7167\u3055\u308c\u305f\u3044\u3002 \u305d\u306e\u4ed6\u60c5\u5831 RouterBoard User Group \u975e\u516c\u5f0f\u306a\u304c\u3089\u3082\u3001\u6700\u65b0\u60c5\u5831\u3092\u3053\u3068\u7d30\u304b\u306b\u516c\u958b\u3055\u308c\u3066\u304a\u308a\u3001 RouterOS\u95a2\u9023\u60c5\u5831\u306e\u30ad\u30e3\u30c3\u30c1\u30a2\u30c3\u30d7\u306b\u975e\u5e38\u306b\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002 Tweets by RBUG_JP","title":"RouterOS"},{"location":"RouterOS/#routeros","text":"","title":"RouterOS"},{"location":"RouterOS/#routeros_1","text":"MikroTik\u793e \u306e\u958b\u767a\u3059\u308b\u4f4e\u30b3\u30b9\u30c8\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u88fd\u54c1\u300cRouterBoard\u300d\u5411\u3051\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3002 Linux\u30d9\u30fc\u30b9 \u307e\u305f\u3001PC\u3084\u4eee\u60f3\u30de\u30b7\u30f3\u3078\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308a\u3001\u5404\u7a2e\u4eee\u60f3\u74b0\u5883\u5411\u3051\u306e\u30a4\u30e1\u30fc\u30b8\u3082\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u3002 MikroTik Routers and Wireless - Software Download","title":"RouterOS \u3068\u306f"},{"location":"RouterOS/#_1","text":"\u304b\u306a\u308a\u306e\u9ad8\u6a5f\u80fd\u3067\u3059\u3002 \u7ba1\u7406 Web Browser/SSH/telnet/Serial console/REST API/ Winbox(Windows\u30a2\u30d7\u30ea)/MikroTik\u30a2\u30d7\u30ea(Android/iOS) IPv4\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 Static/BFD/BGP/RIPv1/RIPv2/OSPF/MME IPv6\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 Static/BGP/RIPng/OSPF Layer2 VPN VPLS Layer3 VPN L2TP/IPSec/PPTP Firewall port based/tag based/address list/L7 Firewall(Regexp) \u305d\u306e\u4ed6\u6a5f\u80fd Bonding/VLAN(802.1Q)/Authentication(802.1X, RADIUS)/NAT/IP Masquerade/ DHCP Server/DHCP Client/DHCP Relay/SMB Server/ SSH Client/Scheduler/Scripting/SNMP/rsyslog...","title":"\u6a5f\u80fd"},{"location":"RouterOS/#_2","text":"2019/10\u73fe\u5728\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u306f \u8cb7\u3044\u5207\u308a\u5236 \u3001\u3057\u304b\u3082\u304b\u306a\u308a\u306e\u89aa\u5207\u4fa1\u683c\u3002 \u4eee\u60f3\u74b0\u5883\u5411\u3051\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306fCHR(Cloud Hosted Router)\u30e9\u30a4\u30bb\u30f3\u30b9\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u304c\u9069\u7528\u3055\u308c\u308b\u3002 CHR\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u306f\u3001\u4e0b\u8a18\u306e5\u7a2e\u985e\u304c\u5b58\u5728\u3059\u308b\u3002 \u7a2e\u985e \u901a\u4fe1\u901f\u5ea6\u5236\u9650 \u4fa1\u683c Free 1Mbit/s \u7121\u511f P1 (perpetual-1) 1Gbit/s $45 P10 (perpetual-10) 10Gbit/s $95 P-Unlimited (perpetual-unlimited) \u306a\u3057 $250 60-day trial \u306a\u3057 \u7121\u511f \u305f\u3060\u3057\u3001\u300c60-day trial\u300d\u306f\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u6709\u52b9\u5316\u5f8c60\u65e5\u9593\u306e\u307f\u5229\u7528\u53ef\u80fd\u306a\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u3042\u308b\u3002","title":"\u30e9\u30a4\u30bb\u30f3\u30b9"},{"location":"RouterOS/#_3","text":"2019/10\u73fe\u5728\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3002 VMWare Fusion / Workstation and ESXi 6.5 VirtualBox Hyper-V Amazon Web Services (AWS) Hetzner Cloud Linode Google Compute Engine ProxMox \u6700\u65b0\u60c5\u5831\u306f Manual:CHR - MikroTik Wiki \u3092\u53c2\u7167\u3055\u308c\u305f\u3044\u3002","title":"\u5bfe\u5fdc\u74b0\u5883/\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5"},{"location":"RouterOS/#_4","text":"RouterBoard User Group \u975e\u516c\u5f0f\u306a\u304c\u3089\u3082\u3001\u6700\u65b0\u60c5\u5831\u3092\u3053\u3068\u7d30\u304b\u306b\u516c\u958b\u3055\u308c\u3066\u304a\u308a\u3001 RouterOS\u95a2\u9023\u60c5\u5831\u306e\u30ad\u30e3\u30c3\u30c1\u30a2\u30c3\u30d7\u306b\u975e\u5e38\u306b\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002 Tweets by RBUG_JP","title":"\u305d\u306e\u4ed6\u60c5\u5831"},{"location":"RouterOS/Backup/","text":"\u30db\u30b9\u30c8\u304b\u3089\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u30eb\u30fc\u30bf\u30fc\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092PC\u4e0a\u306b\u4fdd\u5b58\u3059\u308b\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u30e6\u30fc\u30b6\u306e\u4f5c\u6210 admin\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001 backup \u30b0\u30eb\u30fc\u30d7/\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3001\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u63a5\u7d9a\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002 SSH\u516c\u958b\u9375\u4f5c\u6210 on Host PC \u516c\u958b\u9375/\u79d8\u5bc6\u9375\u3092\u4f5c\u6210 \u3088\u3057\u306a\u306b\u5165\u529b\u3059\u308b\u3002 \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001ssh-agent\u3078\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u767b\u9332\u3092\u884c\u3046\u3002 > ssh-keygen -t rsa -b 4096 Generating public/private rsa key pair. Enter file in which to save the key (C:\\Users\\ryo/.ssh/id_rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in C:\\Users\\ryo/.ssh/id_rsa. Your public key has been saved in C:\\Users\\ryo/.ssh/id_rsa.pub. The key fingerprint is: ... \u516c\u958b\u9375\u3092\u30eb\u30fc\u30bf\u3078\u8ee2\u9001 > scp ~/.ssh/id_rsa.pub admin@192.168.XXX.XXX:. admin@192.168.XXX.XXX's password: id_rsa.pub 100% 605 0.6KB/s 00:00 ~/.ssh/config \u30d5\u30a1\u30a4\u30eb\u3078\u3001\u30eb\u30fc\u30bf\u306eIP\u30a2\u30c9\u30ec\u30b9/\u30e6\u30fc\u30b6\u3092\u8ffd\u8a18\u3059\u308b \u4e0b\u8a18\u3092\u8ffd\u8a18\u3059\u308b\u3002 ~/.ssh/config Host Router Hostname 192.168.XXX.XXX User backup \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u30e6\u30fc\u30b6\u4f5c\u6210 on RouterOS \u30b0\u30eb\u30fc\u30d7\u4f5c\u6210 /user group add name=backup policy=ssh,ftp,read,policy,test,sensitive \u30e6\u30fc\u30b6\u4f5c\u6210 /user add name=backup group=backup password=************ \u516c\u958b\u9375\u306e\u7d10\u4ed8\u3051 /user ssh-keys import user=backup public-key-file=id_rsa.pub \u63a5\u7d9a\u78ba\u8a8d on Host PC \u63a5\u7d9a\u306e\u78ba\u8a8d \u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u306a\u3057\u306b\u8868\u793a\u3055\u308c\u308b\u3002 > ssh Router \"/system resource print\" Result uptime: 1w1d22h17m27s version: 6.45.6 (stable) build-time: Sep/10/2019 09:06:31 free-memory: 428.1MiB total-memory: 480.0MiB cpu: Intel(R) cpu-count: 2 cpu-frequency: 3695MHz cpu-load: 1% free-hdd-space: 29.3MiB total-hdd-space: 63.5MiB write-sect-since-reboot: 130136 write-sect-total: 130137 architecture-name: x86_64 board-name: CHR platform: MikroTik \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5b9f\u884c \u30b9\u30af\u30ea\u30d7\u30c8\u4f5c\u6210 \u4e0b\u8a18\u306e\u69d8\u306a\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b backup_routeros.ps1 \u5b9f\u884c Result PS C:\\tools> .\\backup_router.ps1 Connected to Router. Fetching /Backup-20191008-164812.backup to C:/Users/Public/RouterOS_backup/Backup-20191008-164812.backup /Backup-20191008-164812.backup 100% 354KB 338.2MB/s 00:00 2019/10/08 16:48:12 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306b\u6210\u529f\u3057\u307e\u3057\u305f","title":"Backup"},{"location":"RouterOS/Backup/#_1","text":"\u30eb\u30fc\u30bf\u30fc\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092PC\u4e0a\u306b\u4fdd\u5b58\u3059\u308b\u3002","title":"\u30db\u30b9\u30c8\u304b\u3089\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7"},{"location":"RouterOS/Backup/#_2","text":"admin\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001 backup \u30b0\u30eb\u30fc\u30d7/\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3001\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u63a5\u7d9a\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u30e6\u30fc\u30b6\u306e\u4f5c\u6210"},{"location":"RouterOS/Backup/#ssh-on-host-pc","text":"\u516c\u958b\u9375/\u79d8\u5bc6\u9375\u3092\u4f5c\u6210 \u3088\u3057\u306a\u306b\u5165\u529b\u3059\u308b\u3002 \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001ssh-agent\u3078\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u767b\u9332\u3092\u884c\u3046\u3002 > ssh-keygen -t rsa -b 4096 Generating public/private rsa key pair. Enter file in which to save the key (C:\\Users\\ryo/.ssh/id_rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in C:\\Users\\ryo/.ssh/id_rsa. Your public key has been saved in C:\\Users\\ryo/.ssh/id_rsa.pub. The key fingerprint is: ... \u516c\u958b\u9375\u3092\u30eb\u30fc\u30bf\u3078\u8ee2\u9001 > scp ~/.ssh/id_rsa.pub admin@192.168.XXX.XXX:. admin@192.168.XXX.XXX's password: id_rsa.pub 100% 605 0.6KB/s 00:00 ~/.ssh/config \u30d5\u30a1\u30a4\u30eb\u3078\u3001\u30eb\u30fc\u30bf\u306eIP\u30a2\u30c9\u30ec\u30b9/\u30e6\u30fc\u30b6\u3092\u8ffd\u8a18\u3059\u308b \u4e0b\u8a18\u3092\u8ffd\u8a18\u3059\u308b\u3002 ~/.ssh/config Host Router Hostname 192.168.XXX.XXX User backup","title":"SSH\u516c\u958b\u9375\u4f5c\u6210 on Host PC"},{"location":"RouterOS/Backup/#on-routeros","text":"\u30b0\u30eb\u30fc\u30d7\u4f5c\u6210 /user group add name=backup policy=ssh,ftp,read,policy,test,sensitive \u30e6\u30fc\u30b6\u4f5c\u6210 /user add name=backup group=backup password=************ \u516c\u958b\u9375\u306e\u7d10\u4ed8\u3051 /user ssh-keys import user=backup public-key-file=id_rsa.pub","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u30e6\u30fc\u30b6\u4f5c\u6210 on RouterOS"},{"location":"RouterOS/Backup/#on-host-pc","text":"\u63a5\u7d9a\u306e\u78ba\u8a8d \u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u306a\u3057\u306b\u8868\u793a\u3055\u308c\u308b\u3002 > ssh Router \"/system resource print\" Result uptime: 1w1d22h17m27s version: 6.45.6 (stable) build-time: Sep/10/2019 09:06:31 free-memory: 428.1MiB total-memory: 480.0MiB cpu: Intel(R) cpu-count: 2 cpu-frequency: 3695MHz cpu-load: 1% free-hdd-space: 29.3MiB total-hdd-space: 63.5MiB write-sect-since-reboot: 130136 write-sect-total: 130137 architecture-name: x86_64 board-name: CHR platform: MikroTik","title":"\u63a5\u7d9a\u78ba\u8a8d on Host PC"},{"location":"RouterOS/Backup/#_3","text":"","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5b9f\u884c"},{"location":"RouterOS/Backup/#_4","text":"\u4e0b\u8a18\u306e\u69d8\u306a\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b backup_routeros.ps1","title":"\u30b9\u30af\u30ea\u30d7\u30c8\u4f5c\u6210"},{"location":"RouterOS/Backup/#_5","text":"Result PS C:\\tools> .\\backup_router.ps1 Connected to Router. Fetching /Backup-20191008-164812.backup to C:/Users/Public/RouterOS_backup/Backup-20191008-164812.backup /Backup-20191008-164812.backup 100% 354KB 338.2MB/s 00:00 2019/10/08 16:48:12 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306b\u6210\u529f\u3057\u307e\u3057\u305f","title":"\u5b9f\u884c"},{"location":"RouterOS/Firewall/","text":"Firewall\u306e\u8a2d\u5b9a \u65e5\u672c\u56fd\u5916\u304b\u3089\u306e\u901a\u4fe1\u306e\u906e\u65ad \u65e5\u672c\u56fd\u5185\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308bIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u901a\u4fe1\u306e\u307f\u3092\u8a31\u53ef\u3059\u308b\u3088\u3046\u8a2d\u5b9a\u3059\u308b\u3002 \u307e\u305f\u3001\u5272\u5f53\u3066IP\u30a2\u30c9\u30ec\u30b9\u306e\u66f4\u65b0\u306b\u5bfe\u5fdc\u3059\u308b\u3002 JP\u30a2\u30c9\u30ec\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210 \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092Github Gists\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 setup_and_exec.sh curl -L -O https://gist.githubusercontent.com/roy-n-roy/cc49d45e0d8f35d905cbbbd3f685d4ee/raw/setup_and_exec.sh \u4e0b\u8a18\u306e2\u884c\u3092\u30eb\u30fc\u30bf\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3001admin\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306b\u66f8\u304d\u63db\u3048\u308b setup_and_exec.sh ipAddress=\"192.168.XXX.XXX\" password=\"Passw0rd\" \u5b9f\u884c chmod +x setup_and_exec.sh ./setup_and_exec.sh Result % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 27 100 27 0 0 519 0 --:--:-- --:--:-- --:--:-- 519 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 1210 100 1210 0 0 35588 0 --:--:-- --:--:-- --:--:-- 36666 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 131 100 131 0 0 3742 0 --:--:-- --:--:-- --:--:-- 3638 New Vault password: <- \u30eb\u30fc\u30bf\u30fc\u306e\u30ed\u30b0\u30a4\u30f3\u30d1\u30b9\u30ef\u30fc\u30c9\u4fdd\u7ba1\u7528\u9375\u3068\u306a\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b Confirm New Vault password: <- \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\uff08\u4fdd\u7ba1\u6642\u306e\u78ba\u8a8d\uff09 Encryption successful Vault password: <- \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\uff08\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\uff09 PLAY [localhost] ***************************************************************************************************** TASK [Gathering Facts] *********************************************************************************************** ok: [localhost] TASK [Download IP Address List] ************************************************************************************** (...\u4e2d\u7565...) skipping: [192.168.XXX.XXX] => (item=apnic|BD|asn|139622|1|20190829|allocated|A91E773E) skipping: [192.168.XXX.XXX] => (item=apnic|AU|asn|139623|1|20190830|allocated|A919337F) skipping: [192.168.XXX.XXX] => (item=apnic|IN|asn|139624|1|20190830|allocated|A9114899) skipping: [192.168.XXX.XXX] => (item=apnic||asn|139625|2001||available|) PLAY RECAP *********************************************************************************************************** 192.168.XXX.XXX : ok=3 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 localhost : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 2\u56de\u76ee\u4ee5\u964d\u306e\u5b9f\u884c ansible-playbook -i hosts set_firewalls.yml setup_and_exec.sh\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb set_firewalls.yml group_vars_routeros_login.yml hosts","title":"Firewall"},{"location":"RouterOS/Firewall/#firewall","text":"","title":"Firewall\u306e\u8a2d\u5b9a"},{"location":"RouterOS/Firewall/#_1","text":"\u65e5\u672c\u56fd\u5185\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308bIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u901a\u4fe1\u306e\u307f\u3092\u8a31\u53ef\u3059\u308b\u3088\u3046\u8a2d\u5b9a\u3059\u308b\u3002 \u307e\u305f\u3001\u5272\u5f53\u3066IP\u30a2\u30c9\u30ec\u30b9\u306e\u66f4\u65b0\u306b\u5bfe\u5fdc\u3059\u308b\u3002","title":"\u65e5\u672c\u56fd\u5916\u304b\u3089\u306e\u901a\u4fe1\u306e\u906e\u65ad"},{"location":"RouterOS/Firewall/#jp","text":"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092Github Gists\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 setup_and_exec.sh curl -L -O https://gist.githubusercontent.com/roy-n-roy/cc49d45e0d8f35d905cbbbd3f685d4ee/raw/setup_and_exec.sh \u4e0b\u8a18\u306e2\u884c\u3092\u30eb\u30fc\u30bf\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3001admin\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306b\u66f8\u304d\u63db\u3048\u308b setup_and_exec.sh ipAddress=\"192.168.XXX.XXX\" password=\"Passw0rd\" \u5b9f\u884c chmod +x setup_and_exec.sh ./setup_and_exec.sh Result % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 27 100 27 0 0 519 0 --:--:-- --:--:-- --:--:-- 519 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 1210 100 1210 0 0 35588 0 --:--:-- --:--:-- --:--:-- 36666 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 131 100 131 0 0 3742 0 --:--:-- --:--:-- --:--:-- 3638 New Vault password: <- \u30eb\u30fc\u30bf\u30fc\u306e\u30ed\u30b0\u30a4\u30f3\u30d1\u30b9\u30ef\u30fc\u30c9\u4fdd\u7ba1\u7528\u9375\u3068\u306a\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b Confirm New Vault password: <- \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\uff08\u4fdd\u7ba1\u6642\u306e\u78ba\u8a8d\uff09 Encryption successful Vault password: <- \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\uff08\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\uff09 PLAY [localhost] ***************************************************************************************************** TASK [Gathering Facts] *********************************************************************************************** ok: [localhost] TASK [Download IP Address List] ************************************************************************************** (...\u4e2d\u7565...) skipping: [192.168.XXX.XXX] => (item=apnic|BD|asn|139622|1|20190829|allocated|A91E773E) skipping: [192.168.XXX.XXX] => (item=apnic|AU|asn|139623|1|20190830|allocated|A919337F) skipping: [192.168.XXX.XXX] => (item=apnic|IN|asn|139624|1|20190830|allocated|A9114899) skipping: [192.168.XXX.XXX] => (item=apnic||asn|139625|2001||available|) PLAY RECAP *********************************************************************************************************** 192.168.XXX.XXX : ok=3 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 localhost : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0","title":"JP\u30a2\u30c9\u30ec\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210"},{"location":"RouterOS/Firewall/#2","text":"ansible-playbook -i hosts set_firewalls.yml","title":"2\u56de\u76ee\u4ee5\u964d\u306e\u5b9f\u884c"},{"location":"RouterOS/Firewall/#setup_and_execsh","text":"set_firewalls.yml group_vars_routeros_login.yml hosts","title":"setup_and_exec.sh\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb"},{"location":"RouterOS/VPN%20Server/","text":"\u76ee\u7684 \u51fa\u5148\u3067\u7de8\u96c6\u3057\u3088\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u30c7\u30fc\u30bf\u3092\u30e2\u30d0\u30a4\u30ebPC\u306b\u540c\u671f\u3057\u5fd8\u308c\u3066\u3044\u305f \u81ea\u5b85PC\u3067\u30b3\u30df\u30c3\u30c8\u3057\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092GitHub\u306b\u30d7\u30c3\u30b7\u30e5\u3057\u5fd8\u308c\u3066\u3044\u305f \u305d\u3093\u306a\u6642\u3001\u51fa\u5148\u304b\u3089\u81ea\u5b85\u306b\u3069\u3053\u304b\u3089\u3067\u3082\u63a5\u7d9a\u3067\u304d\u308c\u3070\u3001\u5b85\u5185\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u306b\u306f\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u3057\u3001Wake-on-Lan\u3067\u81ea\u5b85PC\u3092\u8d77\u52d5\u3057\u3066\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u306a\u306e\u3067\u3001\u81ea\u5b85\u3078\u63a5\u7d9a\u3067\u304d\u308bVPN\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u8981\u4ef6 \u4eca\u56de\u306eVPN\u306e\u8981\u4ef6\u306f\u3001\u4e0b\u8a18\u306e3\u70b9\u3067\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u304b\u3089\u81ea\u5b85\u5185\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u63a5\u7d9a\u3067\u304d\u308b \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7aef\u672b\u306fWindows10 PC\u304a\u3088\u3073iOS12\uff5e13\u306eiPhone\u304a\u3088\u3073iPad \u3067\u304d\u308c\u3070OS\u306e\u6a5f\u80fd\u306e\u307f\u3067\u63a5\u7d9a\u3057\u305f\u3044 \u5916\u90e8\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u74b0\u5883 \u4e00\u65b9\u3001\u6628\u4eca\u306e\u56fd\u5185\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u74b0\u5883\u306fNTT\u6771\u897f\u306eNGN\u5149\u30d5\u30a1\u30a4\u30d0\u7db2\u3001au\u3072\u304b\u308a\u306e\u5149\u30d5\u30a1\u30a4\u30d0\u7db2\u3001\u30b1\u30fc\u30d6\u30eb\u30c6\u30ec\u30d3\u7db2\u30014G LTE\u7121\u7dda\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7db2\u306a\u3069\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u79c1\u306e\u5bb6\u3067\u306f\u30d5\u30ec\u30c3\u30c4\u5149\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u30d5\u30ec\u30c3\u30c4\u5149\u306eIPv4 PPPoE\u63a5\u7d9a\u306f\u5915\u65b9\uff5e\u591c\u9593\u306b\u304b\u3051\u3066\u306e\u3001\u3044\u308f\u3086\u308b\u30b4\u30fc\u30eb\u30c7\u30f3\u30bf\u30a4\u30e0\u5e2f\u306b\u30d7\u30ed\u30d0\u30a4\u30c0\u5074\u306e\u7db2\u7d42\u7aef\u88c5\u7f6e\u3067\u8f3b\u8f33\u304c\u767a\u751f\u3057\u3066\u3001\u5341\u5206\u306b\u901f\u5ea6\u304c\u51fa\u306a\u3044\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u8d77\u304d\u3066\u3044\u307e\u3059\u3002 \u305d\u308c\u3089\u306e\u56de\u907f\u306e\u305f\u3081\u3001\u6700\u8fd1\u306eISP\u5951\u7d04\u3067\u306fJPNE\u306e\u63d0\u4f9b\u3059\u308b\u300cv6\u30d7\u30e9\u30b9\u300d\u306a\u3069\u3001MAP-E\u3084DS-Lite\u3068\u3044\u3063\u305f\u6280\u8853\u3092\u5229\u7528\u3057\u305fIPv4 over IPv6\u63a5\u7d9a(\u7db2\u7d42\u7aef\u88c5\u7f6e\u3092\u7d4c\u7531\u3057\u306a\u3044IPv4\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a)\u30b5\u30fc\u30d3\u30b9\u304c\u5897\u3048\u3066\u304d\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u306a\u304c\u3089\u3001\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d3\u30b9\u306fIPv4\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8907\u6570\u306e\u30e6\u30fc\u30b6\u3067\u5171\u6709\u3057\u3066\u304a\u308a\u3001\u4efb\u610f\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30dd\u30fc\u30c8\u306e\u958b\u653e\u304c\u96e3\u3057\u3044\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059 1 2 \u3002 \u3088\u3063\u3066\u3001\u4eca\u56de\u306f\u5b85\u5185\u304b\u3089\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3068\u306f\u5225\u306eISP\u5951\u7d04\u3092\u7528\u610f\u3057\u3066PPPoE\u63a5\u7d9a\u3057\u3001\u30b5\u30fc\u30d0\u516c\u958b\u7528\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u74b0\u5883\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 VPN\u63a5\u7d9a\u65b9\u5f0f\u306e\u9078\u5b9a \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8VPN\u306e\u65b9\u5f0f\u3068\u3057\u3066\u3001\u4e0b\u8a18\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u3002 \u4ee5\u524d\u306bL2TP/IPsec\u3092\u5229\u7528\u3057\u305f\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306fIKEv2\u3092\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u30d7\u30ed\u30c8\u30b3\u30eb Windows\u5bfe\u5fdc iOS\u5bfe\u5fdc PPTP \u3007 \u203biOS10\u4ee5\u964d\u306f\u4f7f\u7528\u4e0d\u53ef L2TP/IPsec \u3007 \u3007 MS-SSTP \u3007 \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 IKEv2 \u3007 \u3007 OpenVPN \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 SoftEtherVPN \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 \u203b\u30b5\u30fc\u30d0\u81ea\u4f53\u3078\u306fL2TP/IPsec, MS-SSTP\u306a\u3069\u3067\u63a5\u7d9a\u53ef \u203b\u30b5\u30fc\u30d0\u81ea\u4f53\u3078\u306f L2TP/IPsec\u306a\u3069\u3067\u63a5\u7d9a\u53ef VPN\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u9078\u5b9a VPN\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u5916\u90e8\u304b\u3089\u306e\u5165\u308a\u53e3\u3092\u4f5c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304b\u3089\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u6c17\u3092\u9063\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u6c4e\u7528OS\u306e\u4e0a\u3067VPN\u30b5\u30fc\u30d0\u3092\u52d5\u304b\u3059\u3053\u3068\u3082\u8003\u3048\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u5834\u5408\u306b\u306fOS\u3068VPN\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u60c5\u5831\u306e\u4e21\u65b9\u3092\u8ffd\u3063\u3066\u3044\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001\u904b\u7528\u304c\u9762\u5012\u3060\u3068\u8003\u3048\u307e\u3057\u305f\u3002 \u307e\u305f\u3001VPN\u30b5\u30fc\u30d0\u306b\u306f\u305d\u308c\u4ee5\u5916\u306e\u4ed5\u4e8b\u3092\u3055\u305b\u305f\u304f\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306fMikroTik\u793e\u306eRouterOS\u3092\u5229\u7528\u3057\u3066\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u8a08 \u4e0b\u8a18\u306e\u3088\u3046\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210\u3068\u3057\u307e\u3057\u305f\u3002 \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af: ether1 (192.168.3.0/24) VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8: (192.168.4.0/24) DMZ\u30cd\u30c3\u30c8\u30ef\u30fc\u30af: ether2 (192.168.5.0/24) \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a: pppoe-out1(0.0.0.0/0) DMZ\u5074\u306eFirewall\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002 \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089DMZ\u3078\u306e\u63a5\u7d9a\u304a\u3088\u3073\u3001\u305d\u306e\u6298\u308a\u8fd4\u3057\u3092\u8a31\u53ef\u3059\u308b \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b DMZ\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u63a5\u7d9a\u304a\u3088\u3073\u3001\u305d\u306e\u6298\u308a\u8fd4\u3057\u3092\u8a31\u53ef\u3057\u3001NAT\u5909\u63db\u3059\u308b DMZ\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306eDNS\u554f\u3044\u5408\u308f\u305b\u3092\u8a31\u53ef\u3059\u308b VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u63a5\u7d9a\u3092\u4e00\u90e8\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3059\u308b \u5916\u90e8\u304b\u3089\u306eVPN\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3059\u308b \u5916\u90e8\u304b\u3089Web\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u30fb\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3057\u3001NAT\u5909\u63db\u3059\u308b \u305d\u306e\u4ed6\u306e\u63a5\u7d9a\u3092\u62d2\u5426\u3059\u308b VPN\u8a8d\u8a3c\u65b9\u5f0f \u8a8d\u8a3c\u65b9\u5f0f\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3067\u306e\u8a8d\u8a3c\u3068\u3057\u307e\u3057\u305f\u3002 VPN\u30b5\u30fc\u30d0\u69cb\u7bc9 \u5b9f\u969b\u306bRouterOS\u3078\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u4f5c\u696d\u3092\u59cb\u3081\u308b\u524d\u306b\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 /system backup save name=YYYYMMDD-HHMM-before-vpn-setting.backup password=******** \u306a\u304a\u3001\u4eca\u56de\u306fRouterOS 6.45.6\u3067\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\u5c06\u6765\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u8a2d\u5b9a\u65b9\u6cd5\u304c\u5909\u66f4\u306b\u306a\u308b\u53ef\u80fd\u6027\u3082\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u3054\u7559\u610f\u304f\u3060\u3055\u3044\u3002 \u8a73\u7d30\u3001\u307e\u305f\u6700\u65b0\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f Manual:IP/IPsec - MikroTik Wiki \u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3092\u5f37\u304f\u63a8\u5968\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u3053\u3067\u306fVPN\u30eb\u30fc\u30bf\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30c9\u30e1\u30a4\u30f3\u540d vpn.yourdomain.com \u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u3066\u9032\u3081\u307e\u3059\u3002 \u72ec\u81ea\u8a8d\u8a3c\u5c40\u3068\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 VPN\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u6b63\u771f\u6027\u691c\u8a3c\u3084\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u8a3c\u660e\u66f8\u3092\u7528\u610f\u3057\u307e\u3059\u3002 \u6b63\u898f\u306e\u8a8d\u8a3c\u5c40\u304b\u3089\u8cfc\u5165\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304c\u3001\u4eca\u56de\u306fRouterOS\u4e0a\u3067\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u3001\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u30fb\u7f72\u540d\u3057\u307e\u3059\u3002 \u72ec\u81eaCA\u306e\u69cb\u7bc9 \u307e\u305a\u3001VPN\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u9375\u306b\u7f72\u540d\u3059\u308b\u305f\u3081\u306eCA\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 /certificate add common-name=\"VPN Root CA\" name=ca key-size=2048 days-valid=3650 country=JP key-usage=key-cert-sign,crl-sign trusted=yes /certificate sign ca ca-crl-host=vpn.yourdomain.com VPN\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 \u6b21\u306b\u3001VPN\u30b5\u30fc\u30d0\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001CA\u3067\u7f72\u540d\u3057\u307e\u3059\u3002 /certificate add common-name=vpn.yourdomain.com name=server key-size=2048 days-valid=3650 country=JP subject-alt-name=DNS:vpn.yourdomain.com key-usage=digital-signature,key-encipherment,data-encipherment,ipsec-tunnel,ipsec-end-system,tls-server /certificate sign server ca=ca /certificate set server trusted=yes \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8a8d\u8a3c\u3059\u308b\u305f\u3081\u306e\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001CA\u3067\u7f72\u540d\u3057\u307e\u3059\u3002 /certificate add common-name=user1@vpn.yourdomain.com name=client_user1 key-size=2048 days-valid=3650 country=JP subject-alt-name=email:user1@vpn.yourdomain.com key-usage=digital-signature,key-encipherment,data-encipherment,ipsec-user,ipsec-tunnel,ipsec-end-system,tls-client /certificate sign client_user1 ca=ca /certificate set client_user1 trusted=yes \u3082\u3057\u3001\u8a3c\u660e\u66f8\u304c\u6d41\u51fa\u3059\u308b\u306a\u3069\u3057\u3066\u3001\u5931\u52b9\u3055\u305b\u308b\u5834\u5408 \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8a3c\u660e\u66f8\u3092\u5931\u52b9\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 /certificate set client_user1 trusted=no /certificate issued-revoke client_user1 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u306b\u8a3c\u660e\u66f8\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 Windows/iOS\u7528\u3067\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u305b\u308b\u305f\u3081\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u3053\u306e\u3068\u304d\u3001\u5fc5\u305a\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u6b63\u3057\u3044\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002 Windows\u5411\u3051\u306b\u306fPKCS12\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001CA\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u304c\u7d10\u4ed8\u3044\u305f\u72b6\u614b\u3067Windows\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002 iOS\u5411\u3051\u306b\u306fCA\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4e21\u65b9\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002iOS\u306fPKCS12\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3060\u3068CA\u304c\u7d10\u4ed8\u3044\u305f\u72b6\u614b\u3067\u4e0a\u624b\u304f\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u306a\u3044\u305d\u3046\u3067\u3059\u3002 # Windows\u5411\u3051 /certificate export-certificate client_user1 export-passphrase=1234567890 type=pkcs12 # iOS\u5411\u3051 /certificate export-certificate ca type=pem /certificate export-certificate client_user1 export-passphrase=1234567890 type=pkcs12 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001scp,sftp\u3067\u306e\u8ee2\u9001\u3059\u308b\u306a\u308a\u3057\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8OS\u3078\u8ee2\u9001\u3057\u3066\u304f\u3060\u3055\u3044\u3002 IPsec/IKEv2\u8a2d\u5b9a RouterOS\u4e0a\u3067VPN\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 # IPsec Phase1\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3001Phase2\u30d7\u30ed\u30dd\u30fc\u30b6\u30eb\u3092\u4f5c\u6210 # \u3053\u3053\u3067\u306e\u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u7d44\u307f\u5408\u308f\u305b\u306fWindows\u3068iOS\u306e\u4e21\u65b9\u3067\u4f7f\u7528\u3067\u304d\u308b\u7d44\u307f\u5408\u308f\u305b\u3092\u8a2d\u5b9a\u3059\u308b /ip ipsec profile add dh-group=ecp256,modp2048,modp1536,modp1024 \\ enc-algorithm=aes-256,aes-128 hash-algorithm=sha256 name=ike2 /ip ipsec proposal add auth-algorithms=sha256,sha1 \\ enc-algorithms=aes-256-cbc,aes-128-cbc name=ike2 pfs-group=none # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5272\u308a\u5f53\u3066\u308bIP\u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 /ip pool add name=ike2-pool ranges=192.168.4.2-192.168.4.254 # \u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u3092IKEv2\u63a5\u7d9a\u3067\u4f7f\u7528\u3059\u308b\u3088\u3046\u8a2d\u5b9a # \u307e\u305f\u30011\u5bfe1\u63a5\u7d9a\u306b\u306a\u308b\u3088\u3046\u8a2d\u5b9a /ip ipsec mode-config add address-pool=ike2-pool \\ address-prefix-length=32 name=ike2-conf split-include=0.0.0.0/0 # \u30dd\u30ea\u30b7\u30fc\u30b0\u30eb\u30fc\u30d7\u3068\u30dd\u30ea\u30b7\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210 /ip ipsec policy group add name=ike2-policies /ip ipsec policy add dst-address=0.0.0.0/0 group=ike2-policies \\ proposal=ike2 src-address=0.0.0.0/0 template=yes # \u30d4\u30a2\u8a2d\u5b9a\u3092\u4f5c\u6210\u3057\u3001\u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u7d10\u4ed8\u3051 /ip ipsec peer add exchange-mode=ike2 name=ike2 passive=yes profile=ike2 # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u8a2d\u5b9a\u3092\u4f5c\u6210 # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u65b9\u6cd5\u3092\u8a3c\u660e\u66f8\u306b\u8a2d\u5b9a\u3057\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u30fb\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u7d10\u4ed8\u3051 # \u30d4\u30a2\u8a2d\u5b9a\u30fb\u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u30fb\u30dd\u30ea\u30b7\u30fc\u30b0\u30eb\u30fc\u30d7\u3092\u7d10\u4ed8\u3051 /ip ipsec identity add auth-method=digital-signature certificate=server \\ match-by=certificate remote-certificate=client_user1 remote-id=ignore \\ generate-policy=port-strict mode-config=ike2-conf notrack-chain=prerouting \\ peer=ike2 policy-template-group=ike2-policies \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8a2d\u5b9a \u7d9a\u3044\u3066\u3001RouterOS\u4e0a\u3067\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 # mangle\u8a2d\u5b9a /ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=IN_ETH1 passthrough=yes in-interface=ether1 log=no log-prefix=\"\" comment=\"LAN\u304b\u3089\u306e\u63a5\u7d9a\u3092IN_ETH1\u3068\u3057\u3066\u30de\u30fc\u30af\" /ip firewall mangle add chain=postrouting action=mark-connection new-connection-mark=OUT_INTERNET passthrough=yes connection-state=new out-interface=all-ppp log=no log-prefix=\"\" comment=\"\u5916\u90e8\u3078\u306e\u63a5\u7d9a\u3092OUT_INTERNET\u3068\u3057\u3066\u30de\u30fc\u30af\" # NAT\u8a2d\u5b9a /ip firewall nat add chain=srcnat action=masquerade in-interface=ether2 out-interface=all-ppp log=no log-prefix=\"\" comment=\"DMZ\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306eNAT\u5909\u63db\" /ip firewall nat add chain=dstnat action=dst-nat to-addresses=192.168.5.XXX protocol=tcp in-interface=all-ppp dst-port=80,443 log=yes log-prefix=\"[FORWARD] \" comment=\"\u5916\u90e8\u304b\u3089Web\u30b5\u30fc\u30d0\u3078\u306eNAT\u5909\u63db\" # filter\u8a2d\u5b9a /ip firewall filter add chain=input action=accept connection-state=established,related connection-mark=OUT_INTERNET in-interface=all-ppp log=no log-prefix=\"\" comment=\"OUT_INTERNET\u3067\u30de\u30fc\u30af\u3055\u308c\u305f\u5916\u90e8\u304b\u3089\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\" /ip firewall filter add chain=output action=accept out-interface=all-ppp log=no log-prefix=\"\" comment=\"\u5916\u90e8\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\" /ip firewall filter add chain=forward action=accept protocol=tcp src-address=192.168.4.0/24 dst-address=192.168.3.0/24 dst-port=22,80,3389 log=no log-prefix=\"\" comment=\"VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u63a5\u7d9a\u3092\u4e00\u90e8\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\" /ip firewall filter add chain=forward action=accept protocol=udp src-address=192.168.4.0/24 dst-address=192.168.3.0/24 dst-port=3389 log=no log-prefix=\"\" /ip firewall filter add chain=input action=accept protocol=tcp in-interface=ether2 dst-port=53 log=no log-prefix=\"\" comment=\"DMZ\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306eDNS\u554f\u3044\u5408\u308f\u305b\u3092\u8a31\u53ef\" /ip firewall filter add chain=input action=accept protocol=udp in-interface=ether2 dst-port=53 log=no log-prefix=\"\" /ip firewall filter add chain=input action=accept protocol=udp in-interface=all-ppp dst-port=500,4500 log=no log-prefix=\"\" comment=\"\u5916\u90e8\u304b\u3089\u306eVPN\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\" /ip firewall filter add chain=forward action=accept protocol=tcp dst-address=192.168.5.XXX dst-port=80,443 log=no log-prefix=\"\" comment=\"\u5916\u90e8\u304b\u3089Web\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u30fb\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\" /ip firewall filter add chain=forward action=reject reject-with=icmp-network-unreachable connection-state=!established,related connection-mark=!IN_ETH1 out-interface=ether1 log=yes log-prefix=\"[REJECT] \" comment=\"Deny to LAN from DMZ,Internet\" /ip firewall filter add chain=input action=drop in-interface=all-ppp log=yes log-prefix=\"[DROP] \" comment=\"\u305d\u306e\u4ed6\u306e\u63a5\u7d9a\u3092\u62d2\u5426\" \u4ee5\u4e0a\u3067RouterOS\u3067\u306e\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3067\u3059\u3002\u5b8c\u4e86\u5f8c\u306b\u3082\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 /system backup save name=YYYYMMDD-HHMM-after-vpn-setting.backup password=******** \u63a5\u7d9a\u78ba\u8a8d Windows10\u3001iOS\u3082\u3057\u304f\u306f\u305d\u306e\u4e21\u65b9\u3067VPN\u63a5\u7d9a\u3067\u304d\u308b\u304b\u3001\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002 Windows10\u306e\u5834\u5408 \u307e\u305a\u3001\u5148\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb client_user1.p12 \u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3001\u8a3c\u660e\u66f8\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002 \u3053\u306e\u3068\u304d\u3001\u4fdd\u5b58\u5834\u6240\u306f\u300c\u30ed\u30fc\u30ab\u30eb \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u300d\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002 \u307e\u305f\u3001\u9014\u4e2d\u3067\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u3068\u304d\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u306e\u8a2d\u5b9a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u300c\u8a3c\u660e\u66f8\u306e\u7a2e\u985e\u306b\u57fa\u3065\u3044\u3066\u3001\u81ea\u52d5\u7684\u306b\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u3092\u9078\u629e\u3059\u308b\u3002\u300d\u3067\u5927\u4e08\u592b\u3067\u3059\u3002 \u6b21\u306b\u3001VPN\u63a5\u7d9a\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3\u3001\u3082\u3057\u304f\u306fWin\u30ad\u30fc+I\u3067\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002 \u305d\u3053\u304b\u3089\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u300d\u2192\u300cVPN\u300d\u3068\u305f\u3069\u3063\u3066\u3044\u304d\u3001\u300cVPN\u63a5\u7d9a\u3092\u8ffd\u52a0\u3059\u308b\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 VPN\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc Windows(\u30d3\u30eb\u30c9\u30a4\u30f3) \u63a5\u7d9a\u540d (\u304a\u597d\u307f\u306e\u540d\u524d\u3092\u8a2d\u5b9a) \u30b5\u30fc\u30d0\u30fc\u540d\u307e\u305f\u306f\u30a2\u30c9\u30ec\u30b9 vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) VPN\u306e\u7a2e\u985e IKEv2 \u30b5\u30a4\u30f3\u30a4\u30f3\u60c5\u5831\u306e\u7a2e\u985e \u8a3c\u660e\u66f8 \u30e6\u30fc\u30b6\u30fc\u540d(\u30aa\u30d7\u30b7\u30e7\u30f3) (\u7a7a\u6b04) \u30d1\u30b9\u30ef\u30fc\u30c9(\u30aa\u30d7\u30b7\u30e7\u30f3) (\u7a7a\u6b04) \u8a2d\u5b9a\u5b8c\u4e86\u5f8c\u3001VPN\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u307e\u305f\u3001\u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af(192.168.3.0/24)\u3078\u306e\u63a5\u7d9a\u3067VPN\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u4f5c\u696d\u306fPowerShell\u3067\u884c\u3044\u307e\u3059\u3002 # 192.168.3.0/24\u3078\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092VPN\u63a5\u7d9a\u3078\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3059\u308b Add-VpnConnectionRoute \"[VPN\u63a5\u7d9a\u540d]\" -DestinationPrefix \"192.168.3.0/24\" # \u8a2d\u5b9a\u5185\u5bb9\u78ba\u8a8d (Get-VpnConnection).Routes DestinationPrefix : 192.168.3.0/24 InterfaceIndex : InterfaceAlias : [VPN\u63a5\u7d9a\u540d] AddressFamily : IPv4 NextHop : 0.0.0.0 Publish : 0 RouteMetric : 1 PolicyStore : iOS13\u306e\u5834\u5408 \u307e\u305a\u3001\u5148\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305fCA\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 cert_export_ca.crt \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u3001\"\u8a2d\u5b9a\" App\u3067\u78ba\u8a8d\u3059\u308b\u3088\u3046\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u8a2d\u5b9aApp\u3092\u958b\u3044\u3066\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u300c \u691c\u8a3c\u6e08\u307f \u2611 \u300d\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6b21\u306b cert_export_client_user1.p12 \u3092\u958b\u304d\u3001\u540c\u69d8\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u3053\u3061\u3089\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u3001\u300c\u4e00\u822c\u300d\u2192\u300c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u300d\u304b\u3089\u78ba\u8a8d\u3059\u308b\u3068\u300c \u691c\u8a3c\u6e08\u307f \u2611 \u300d\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6700\u5f8c\u306b\u8a2d\u5b9aApp\u306e\u300c\u4e00\u822c\u300d\u2192\u300cVPN\u300d\u3068\u958b\u304d\u3001\u300cVPN\u69cb\u6210\u306e\u8ffd\u52a0\u300d\u3092\u30bf\u30c3\u30d7\u3057\u3066VPN\u69cb\u6210\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a2d\u5b9a\u306f\u4e0b\u8a18\u306e\u69d8\u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30bf\u30a4\u30d7 IKEv2 \u8aac\u660e (\u304a\u597d\u307f\u306e\u540d\u524d\u3092\u8a2d\u5b9a) \u30b5\u30fc\u30d0 vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) \u30ea\u30e2\u30fc\u30c8ID vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) \u30ed\u30fc\u30ab\u30ebID user1@vpn.mydomain.com (\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u540d\u524d) \u30e6\u30fc\u30b6\u8a8d\u8a3c \u306a\u3057 \u8a3c\u660e\u66f8\u3092\u4f7f\u7528 ON \u8a3c\u660e\u66f8 user1@vpn.mydomain.com (\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u540d\u524d) \u8a2d\u5b9a\u5b8c\u4e86\u5f8c\u3001VPN\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 DS-Lite\u3067\u306fISP\u304b\u3089\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8IPv4\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001ISP\u5074\u3067NAT\u5909\u63db\u3092\u3057\u3066\u3044\u307e\u3059\u3002 \u21a9 MAP-E\u3067\u306fISP\u5074\u304b\u3089\u5229\u7528\u53ef\u80fd\u306a\u5916\u90e8\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001\u305d\u306e\u7bc4\u56f2\u306e\u307f\u3067\u3057\u304b\u5916\u90e8\u516c\u958b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002 \u21a9","title":"VPN Server"},{"location":"RouterOS/VPN%20Server/#_1","text":"\u51fa\u5148\u3067\u7de8\u96c6\u3057\u3088\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u30c7\u30fc\u30bf\u3092\u30e2\u30d0\u30a4\u30ebPC\u306b\u540c\u671f\u3057\u5fd8\u308c\u3066\u3044\u305f \u81ea\u5b85PC\u3067\u30b3\u30df\u30c3\u30c8\u3057\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092GitHub\u306b\u30d7\u30c3\u30b7\u30e5\u3057\u5fd8\u308c\u3066\u3044\u305f \u305d\u3093\u306a\u6642\u3001\u51fa\u5148\u304b\u3089\u81ea\u5b85\u306b\u3069\u3053\u304b\u3089\u3067\u3082\u63a5\u7d9a\u3067\u304d\u308c\u3070\u3001\u5b85\u5185\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u306b\u306f\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u3057\u3001Wake-on-Lan\u3067\u81ea\u5b85PC\u3092\u8d77\u52d5\u3057\u3066\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u306a\u306e\u3067\u3001\u81ea\u5b85\u3078\u63a5\u7d9a\u3067\u304d\u308bVPN\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002","title":"\u76ee\u7684"},{"location":"RouterOS/VPN%20Server/#_2","text":"\u4eca\u56de\u306eVPN\u306e\u8981\u4ef6\u306f\u3001\u4e0b\u8a18\u306e3\u70b9\u3067\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u304b\u3089\u81ea\u5b85\u5185\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u63a5\u7d9a\u3067\u304d\u308b \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7aef\u672b\u306fWindows10 PC\u304a\u3088\u3073iOS12\uff5e13\u306eiPhone\u304a\u3088\u3073iPad \u3067\u304d\u308c\u3070OS\u306e\u6a5f\u80fd\u306e\u307f\u3067\u63a5\u7d9a\u3057\u305f\u3044","title":"\u8981\u4ef6"},{"location":"RouterOS/VPN%20Server/#_3","text":"\u4e00\u65b9\u3001\u6628\u4eca\u306e\u56fd\u5185\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u74b0\u5883\u306fNTT\u6771\u897f\u306eNGN\u5149\u30d5\u30a1\u30a4\u30d0\u7db2\u3001au\u3072\u304b\u308a\u306e\u5149\u30d5\u30a1\u30a4\u30d0\u7db2\u3001\u30b1\u30fc\u30d6\u30eb\u30c6\u30ec\u30d3\u7db2\u30014G LTE\u7121\u7dda\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7db2\u306a\u3069\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u79c1\u306e\u5bb6\u3067\u306f\u30d5\u30ec\u30c3\u30c4\u5149\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u30d5\u30ec\u30c3\u30c4\u5149\u306eIPv4 PPPoE\u63a5\u7d9a\u306f\u5915\u65b9\uff5e\u591c\u9593\u306b\u304b\u3051\u3066\u306e\u3001\u3044\u308f\u3086\u308b\u30b4\u30fc\u30eb\u30c7\u30f3\u30bf\u30a4\u30e0\u5e2f\u306b\u30d7\u30ed\u30d0\u30a4\u30c0\u5074\u306e\u7db2\u7d42\u7aef\u88c5\u7f6e\u3067\u8f3b\u8f33\u304c\u767a\u751f\u3057\u3066\u3001\u5341\u5206\u306b\u901f\u5ea6\u304c\u51fa\u306a\u3044\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u8d77\u304d\u3066\u3044\u307e\u3059\u3002 \u305d\u308c\u3089\u306e\u56de\u907f\u306e\u305f\u3081\u3001\u6700\u8fd1\u306eISP\u5951\u7d04\u3067\u306fJPNE\u306e\u63d0\u4f9b\u3059\u308b\u300cv6\u30d7\u30e9\u30b9\u300d\u306a\u3069\u3001MAP-E\u3084DS-Lite\u3068\u3044\u3063\u305f\u6280\u8853\u3092\u5229\u7528\u3057\u305fIPv4 over IPv6\u63a5\u7d9a(\u7db2\u7d42\u7aef\u88c5\u7f6e\u3092\u7d4c\u7531\u3057\u306a\u3044IPv4\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a)\u30b5\u30fc\u30d3\u30b9\u304c\u5897\u3048\u3066\u304d\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u306a\u304c\u3089\u3001\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d3\u30b9\u306fIPv4\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8907\u6570\u306e\u30e6\u30fc\u30b6\u3067\u5171\u6709\u3057\u3066\u304a\u308a\u3001\u4efb\u610f\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30dd\u30fc\u30c8\u306e\u958b\u653e\u304c\u96e3\u3057\u3044\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059 1 2 \u3002 \u3088\u3063\u3066\u3001\u4eca\u56de\u306f\u5b85\u5185\u304b\u3089\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3068\u306f\u5225\u306eISP\u5951\u7d04\u3092\u7528\u610f\u3057\u3066PPPoE\u63a5\u7d9a\u3057\u3001\u30b5\u30fc\u30d0\u516c\u958b\u7528\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u74b0\u5883\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002","title":"\u5916\u90e8\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u74b0\u5883"},{"location":"RouterOS/VPN%20Server/#vpn","text":"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8VPN\u306e\u65b9\u5f0f\u3068\u3057\u3066\u3001\u4e0b\u8a18\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u3002 \u4ee5\u524d\u306bL2TP/IPsec\u3092\u5229\u7528\u3057\u305f\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306fIKEv2\u3092\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u30d7\u30ed\u30c8\u30b3\u30eb Windows\u5bfe\u5fdc iOS\u5bfe\u5fdc PPTP \u3007 \u203biOS10\u4ee5\u964d\u306f\u4f7f\u7528\u4e0d\u53ef L2TP/IPsec \u3007 \u3007 MS-SSTP \u3007 \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 IKEv2 \u3007 \u3007 OpenVPN \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 SoftEtherVPN \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 \u203b\u30b5\u30fc\u30d0\u81ea\u4f53\u3078\u306fL2TP/IPsec, MS-SSTP\u306a\u3069\u3067\u63a5\u7d9a\u53ef \u203b\u30b5\u30fc\u30d0\u81ea\u4f53\u3078\u306f L2TP/IPsec\u306a\u3069\u3067\u63a5\u7d9a\u53ef","title":"VPN\u63a5\u7d9a\u65b9\u5f0f\u306e\u9078\u5b9a"},{"location":"RouterOS/VPN%20Server/#vpn_1","text":"VPN\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u5916\u90e8\u304b\u3089\u306e\u5165\u308a\u53e3\u3092\u4f5c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304b\u3089\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u6c17\u3092\u9063\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u6c4e\u7528OS\u306e\u4e0a\u3067VPN\u30b5\u30fc\u30d0\u3092\u52d5\u304b\u3059\u3053\u3068\u3082\u8003\u3048\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u5834\u5408\u306b\u306fOS\u3068VPN\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u60c5\u5831\u306e\u4e21\u65b9\u3092\u8ffd\u3063\u3066\u3044\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001\u904b\u7528\u304c\u9762\u5012\u3060\u3068\u8003\u3048\u307e\u3057\u305f\u3002 \u307e\u305f\u3001VPN\u30b5\u30fc\u30d0\u306b\u306f\u305d\u308c\u4ee5\u5916\u306e\u4ed5\u4e8b\u3092\u3055\u305b\u305f\u304f\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306fMikroTik\u793e\u306eRouterOS\u3092\u5229\u7528\u3057\u3066\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002","title":"VPN\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u9078\u5b9a"},{"location":"RouterOS/VPN%20Server/#_4","text":"\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210\u3068\u3057\u307e\u3057\u305f\u3002 \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af: ether1 (192.168.3.0/24) VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8: (192.168.4.0/24) DMZ\u30cd\u30c3\u30c8\u30ef\u30fc\u30af: ether2 (192.168.5.0/24) \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a: pppoe-out1(0.0.0.0/0) DMZ\u5074\u306eFirewall\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002 \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089DMZ\u3078\u306e\u63a5\u7d9a\u304a\u3088\u3073\u3001\u305d\u306e\u6298\u308a\u8fd4\u3057\u3092\u8a31\u53ef\u3059\u308b \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b DMZ\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u63a5\u7d9a\u304a\u3088\u3073\u3001\u305d\u306e\u6298\u308a\u8fd4\u3057\u3092\u8a31\u53ef\u3057\u3001NAT\u5909\u63db\u3059\u308b DMZ\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306eDNS\u554f\u3044\u5408\u308f\u305b\u3092\u8a31\u53ef\u3059\u308b VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u63a5\u7d9a\u3092\u4e00\u90e8\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3059\u308b \u5916\u90e8\u304b\u3089\u306eVPN\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3059\u308b \u5916\u90e8\u304b\u3089Web\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u30fb\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3057\u3001NAT\u5909\u63db\u3059\u308b \u305d\u306e\u4ed6\u306e\u63a5\u7d9a\u3092\u62d2\u5426\u3059\u308b","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u8a08"},{"location":"RouterOS/VPN%20Server/#vpn_2","text":"\u8a8d\u8a3c\u65b9\u5f0f\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3067\u306e\u8a8d\u8a3c\u3068\u3057\u307e\u3057\u305f\u3002","title":"VPN\u8a8d\u8a3c\u65b9\u5f0f"},{"location":"RouterOS/VPN%20Server/#vpn_3","text":"\u5b9f\u969b\u306bRouterOS\u3078\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u4f5c\u696d\u3092\u59cb\u3081\u308b\u524d\u306b\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 /system backup save name=YYYYMMDD-HHMM-before-vpn-setting.backup password=******** \u306a\u304a\u3001\u4eca\u56de\u306fRouterOS 6.45.6\u3067\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\u5c06\u6765\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u8a2d\u5b9a\u65b9\u6cd5\u304c\u5909\u66f4\u306b\u306a\u308b\u53ef\u80fd\u6027\u3082\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u3054\u7559\u610f\u304f\u3060\u3055\u3044\u3002 \u8a73\u7d30\u3001\u307e\u305f\u6700\u65b0\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f Manual:IP/IPsec - MikroTik Wiki \u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3092\u5f37\u304f\u63a8\u5968\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u3053\u3067\u306fVPN\u30eb\u30fc\u30bf\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30c9\u30e1\u30a4\u30f3\u540d vpn.yourdomain.com \u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u3066\u9032\u3081\u307e\u3059\u3002","title":"VPN\u30b5\u30fc\u30d0\u69cb\u7bc9"},{"location":"RouterOS/VPN%20Server/#_5","text":"VPN\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u6b63\u771f\u6027\u691c\u8a3c\u3084\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u8a3c\u660e\u66f8\u3092\u7528\u610f\u3057\u307e\u3059\u3002 \u6b63\u898f\u306e\u8a8d\u8a3c\u5c40\u304b\u3089\u8cfc\u5165\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304c\u3001\u4eca\u56de\u306fRouterOS\u4e0a\u3067\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u3001\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u30fb\u7f72\u540d\u3057\u307e\u3059\u3002 \u72ec\u81eaCA\u306e\u69cb\u7bc9 \u307e\u305a\u3001VPN\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u9375\u306b\u7f72\u540d\u3059\u308b\u305f\u3081\u306eCA\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 /certificate add common-name=\"VPN Root CA\" name=ca key-size=2048 days-valid=3650 country=JP key-usage=key-cert-sign,crl-sign trusted=yes /certificate sign ca ca-crl-host=vpn.yourdomain.com VPN\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 \u6b21\u306b\u3001VPN\u30b5\u30fc\u30d0\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001CA\u3067\u7f72\u540d\u3057\u307e\u3059\u3002 /certificate add common-name=vpn.yourdomain.com name=server key-size=2048 days-valid=3650 country=JP subject-alt-name=DNS:vpn.yourdomain.com key-usage=digital-signature,key-encipherment,data-encipherment,ipsec-tunnel,ipsec-end-system,tls-server /certificate sign server ca=ca /certificate set server trusted=yes \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8a8d\u8a3c\u3059\u308b\u305f\u3081\u306e\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001CA\u3067\u7f72\u540d\u3057\u307e\u3059\u3002 /certificate add common-name=user1@vpn.yourdomain.com name=client_user1 key-size=2048 days-valid=3650 country=JP subject-alt-name=email:user1@vpn.yourdomain.com key-usage=digital-signature,key-encipherment,data-encipherment,ipsec-user,ipsec-tunnel,ipsec-end-system,tls-client /certificate sign client_user1 ca=ca /certificate set client_user1 trusted=yes \u3082\u3057\u3001\u8a3c\u660e\u66f8\u304c\u6d41\u51fa\u3059\u308b\u306a\u3069\u3057\u3066\u3001\u5931\u52b9\u3055\u305b\u308b\u5834\u5408 \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8a3c\u660e\u66f8\u3092\u5931\u52b9\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 /certificate set client_user1 trusted=no /certificate issued-revoke client_user1 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u306b\u8a3c\u660e\u66f8\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 Windows/iOS\u7528\u3067\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u305b\u308b\u305f\u3081\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u3053\u306e\u3068\u304d\u3001\u5fc5\u305a\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u6b63\u3057\u3044\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002 Windows\u5411\u3051\u306b\u306fPKCS12\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001CA\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u304c\u7d10\u4ed8\u3044\u305f\u72b6\u614b\u3067Windows\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002 iOS\u5411\u3051\u306b\u306fCA\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4e21\u65b9\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002iOS\u306fPKCS12\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3060\u3068CA\u304c\u7d10\u4ed8\u3044\u305f\u72b6\u614b\u3067\u4e0a\u624b\u304f\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u306a\u3044\u305d\u3046\u3067\u3059\u3002 # Windows\u5411\u3051 /certificate export-certificate client_user1 export-passphrase=1234567890 type=pkcs12 # iOS\u5411\u3051 /certificate export-certificate ca type=pem /certificate export-certificate client_user1 export-passphrase=1234567890 type=pkcs12 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001scp,sftp\u3067\u306e\u8ee2\u9001\u3059\u308b\u306a\u308a\u3057\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8OS\u3078\u8ee2\u9001\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u72ec\u81ea\u8a8d\u8a3c\u5c40\u3068\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210"},{"location":"RouterOS/VPN%20Server/#ipsecikev2","text":"RouterOS\u4e0a\u3067VPN\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 # IPsec Phase1\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3001Phase2\u30d7\u30ed\u30dd\u30fc\u30b6\u30eb\u3092\u4f5c\u6210 # \u3053\u3053\u3067\u306e\u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u7d44\u307f\u5408\u308f\u305b\u306fWindows\u3068iOS\u306e\u4e21\u65b9\u3067\u4f7f\u7528\u3067\u304d\u308b\u7d44\u307f\u5408\u308f\u305b\u3092\u8a2d\u5b9a\u3059\u308b /ip ipsec profile add dh-group=ecp256,modp2048,modp1536,modp1024 \\ enc-algorithm=aes-256,aes-128 hash-algorithm=sha256 name=ike2 /ip ipsec proposal add auth-algorithms=sha256,sha1 \\ enc-algorithms=aes-256-cbc,aes-128-cbc name=ike2 pfs-group=none # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5272\u308a\u5f53\u3066\u308bIP\u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 /ip pool add name=ike2-pool ranges=192.168.4.2-192.168.4.254 # \u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u3092IKEv2\u63a5\u7d9a\u3067\u4f7f\u7528\u3059\u308b\u3088\u3046\u8a2d\u5b9a # \u307e\u305f\u30011\u5bfe1\u63a5\u7d9a\u306b\u306a\u308b\u3088\u3046\u8a2d\u5b9a /ip ipsec mode-config add address-pool=ike2-pool \\ address-prefix-length=32 name=ike2-conf split-include=0.0.0.0/0 # \u30dd\u30ea\u30b7\u30fc\u30b0\u30eb\u30fc\u30d7\u3068\u30dd\u30ea\u30b7\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210 /ip ipsec policy group add name=ike2-policies /ip ipsec policy add dst-address=0.0.0.0/0 group=ike2-policies \\ proposal=ike2 src-address=0.0.0.0/0 template=yes # \u30d4\u30a2\u8a2d\u5b9a\u3092\u4f5c\u6210\u3057\u3001\u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u7d10\u4ed8\u3051 /ip ipsec peer add exchange-mode=ike2 name=ike2 passive=yes profile=ike2 # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u8a2d\u5b9a\u3092\u4f5c\u6210 # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u65b9\u6cd5\u3092\u8a3c\u660e\u66f8\u306b\u8a2d\u5b9a\u3057\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u30fb\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u7d10\u4ed8\u3051 # \u30d4\u30a2\u8a2d\u5b9a\u30fb\u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u30fb\u30dd\u30ea\u30b7\u30fc\u30b0\u30eb\u30fc\u30d7\u3092\u7d10\u4ed8\u3051 /ip ipsec identity add auth-method=digital-signature certificate=server \\ match-by=certificate remote-certificate=client_user1 remote-id=ignore \\ generate-policy=port-strict mode-config=ike2-conf notrack-chain=prerouting \\ peer=ike2 policy-template-group=ike2-policies","title":"IPsec/IKEv2\u8a2d\u5b9a"},{"location":"RouterOS/VPN%20Server/#_6","text":"\u7d9a\u3044\u3066\u3001RouterOS\u4e0a\u3067\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 # mangle\u8a2d\u5b9a /ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=IN_ETH1 passthrough=yes in-interface=ether1 log=no log-prefix=\"\" comment=\"LAN\u304b\u3089\u306e\u63a5\u7d9a\u3092IN_ETH1\u3068\u3057\u3066\u30de\u30fc\u30af\" /ip firewall mangle add chain=postrouting action=mark-connection new-connection-mark=OUT_INTERNET passthrough=yes connection-state=new out-interface=all-ppp log=no log-prefix=\"\" comment=\"\u5916\u90e8\u3078\u306e\u63a5\u7d9a\u3092OUT_INTERNET\u3068\u3057\u3066\u30de\u30fc\u30af\" # NAT\u8a2d\u5b9a /ip firewall nat add chain=srcnat action=masquerade in-interface=ether2 out-interface=all-ppp log=no log-prefix=\"\" comment=\"DMZ\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306eNAT\u5909\u63db\" /ip firewall nat add chain=dstnat action=dst-nat to-addresses=192.168.5.XXX protocol=tcp in-interface=all-ppp dst-port=80,443 log=yes log-prefix=\"[FORWARD] \" comment=\"\u5916\u90e8\u304b\u3089Web\u30b5\u30fc\u30d0\u3078\u306eNAT\u5909\u63db\" # filter\u8a2d\u5b9a /ip firewall filter add chain=input action=accept connection-state=established,related connection-mark=OUT_INTERNET in-interface=all-ppp log=no log-prefix=\"\" comment=\"OUT_INTERNET\u3067\u30de\u30fc\u30af\u3055\u308c\u305f\u5916\u90e8\u304b\u3089\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\" /ip firewall filter add chain=output action=accept out-interface=all-ppp log=no log-prefix=\"\" comment=\"\u5916\u90e8\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\" /ip firewall filter add chain=forward action=accept protocol=tcp src-address=192.168.4.0/24 dst-address=192.168.3.0/24 dst-port=22,80,3389 log=no log-prefix=\"\" comment=\"VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u63a5\u7d9a\u3092\u4e00\u90e8\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\" /ip firewall filter add chain=forward action=accept protocol=udp src-address=192.168.4.0/24 dst-address=192.168.3.0/24 dst-port=3389 log=no log-prefix=\"\" /ip firewall filter add chain=input action=accept protocol=tcp in-interface=ether2 dst-port=53 log=no log-prefix=\"\" comment=\"DMZ\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306eDNS\u554f\u3044\u5408\u308f\u305b\u3092\u8a31\u53ef\" /ip firewall filter add chain=input action=accept protocol=udp in-interface=ether2 dst-port=53 log=no log-prefix=\"\" /ip firewall filter add chain=input action=accept protocol=udp in-interface=all-ppp dst-port=500,4500 log=no log-prefix=\"\" comment=\"\u5916\u90e8\u304b\u3089\u306eVPN\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\" /ip firewall filter add chain=forward action=accept protocol=tcp dst-address=192.168.5.XXX dst-port=80,443 log=no log-prefix=\"\" comment=\"\u5916\u90e8\u304b\u3089Web\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u30fb\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\" /ip firewall filter add chain=forward action=reject reject-with=icmp-network-unreachable connection-state=!established,related connection-mark=!IN_ETH1 out-interface=ether1 log=yes log-prefix=\"[REJECT] \" comment=\"Deny to LAN from DMZ,Internet\" /ip firewall filter add chain=input action=drop in-interface=all-ppp log=yes log-prefix=\"[DROP] \" comment=\"\u305d\u306e\u4ed6\u306e\u63a5\u7d9a\u3092\u62d2\u5426\" \u4ee5\u4e0a\u3067RouterOS\u3067\u306e\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3067\u3059\u3002\u5b8c\u4e86\u5f8c\u306b\u3082\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 /system backup save name=YYYYMMDD-HHMM-after-vpn-setting.backup password=********","title":"\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8a2d\u5b9a"},{"location":"RouterOS/VPN%20Server/#_7","text":"Windows10\u3001iOS\u3082\u3057\u304f\u306f\u305d\u306e\u4e21\u65b9\u3067VPN\u63a5\u7d9a\u3067\u304d\u308b\u304b\u3001\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002","title":"\u63a5\u7d9a\u78ba\u8a8d"},{"location":"RouterOS/VPN%20Server/#windows10","text":"\u307e\u305a\u3001\u5148\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb client_user1.p12 \u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3001\u8a3c\u660e\u66f8\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002 \u3053\u306e\u3068\u304d\u3001\u4fdd\u5b58\u5834\u6240\u306f\u300c\u30ed\u30fc\u30ab\u30eb \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u300d\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002 \u307e\u305f\u3001\u9014\u4e2d\u3067\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u3068\u304d\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u306e\u8a2d\u5b9a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u300c\u8a3c\u660e\u66f8\u306e\u7a2e\u985e\u306b\u57fa\u3065\u3044\u3066\u3001\u81ea\u52d5\u7684\u306b\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u3092\u9078\u629e\u3059\u308b\u3002\u300d\u3067\u5927\u4e08\u592b\u3067\u3059\u3002 \u6b21\u306b\u3001VPN\u63a5\u7d9a\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3\u3001\u3082\u3057\u304f\u306fWin\u30ad\u30fc+I\u3067\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002 \u305d\u3053\u304b\u3089\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u300d\u2192\u300cVPN\u300d\u3068\u305f\u3069\u3063\u3066\u3044\u304d\u3001\u300cVPN\u63a5\u7d9a\u3092\u8ffd\u52a0\u3059\u308b\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 VPN\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc Windows(\u30d3\u30eb\u30c9\u30a4\u30f3) \u63a5\u7d9a\u540d (\u304a\u597d\u307f\u306e\u540d\u524d\u3092\u8a2d\u5b9a) \u30b5\u30fc\u30d0\u30fc\u540d\u307e\u305f\u306f\u30a2\u30c9\u30ec\u30b9 vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) VPN\u306e\u7a2e\u985e IKEv2 \u30b5\u30a4\u30f3\u30a4\u30f3\u60c5\u5831\u306e\u7a2e\u985e \u8a3c\u660e\u66f8 \u30e6\u30fc\u30b6\u30fc\u540d(\u30aa\u30d7\u30b7\u30e7\u30f3) (\u7a7a\u6b04) \u30d1\u30b9\u30ef\u30fc\u30c9(\u30aa\u30d7\u30b7\u30e7\u30f3) (\u7a7a\u6b04) \u8a2d\u5b9a\u5b8c\u4e86\u5f8c\u3001VPN\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u307e\u305f\u3001\u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af(192.168.3.0/24)\u3078\u306e\u63a5\u7d9a\u3067VPN\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u4f5c\u696d\u306fPowerShell\u3067\u884c\u3044\u307e\u3059\u3002 # 192.168.3.0/24\u3078\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092VPN\u63a5\u7d9a\u3078\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3059\u308b Add-VpnConnectionRoute \"[VPN\u63a5\u7d9a\u540d]\" -DestinationPrefix \"192.168.3.0/24\" # \u8a2d\u5b9a\u5185\u5bb9\u78ba\u8a8d (Get-VpnConnection).Routes DestinationPrefix : 192.168.3.0/24 InterfaceIndex : InterfaceAlias : [VPN\u63a5\u7d9a\u540d] AddressFamily : IPv4 NextHop : 0.0.0.0 Publish : 0 RouteMetric : 1 PolicyStore :","title":"Windows10\u306e\u5834\u5408"},{"location":"RouterOS/VPN%20Server/#ios13","text":"\u307e\u305a\u3001\u5148\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305fCA\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 cert_export_ca.crt \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u3001\"\u8a2d\u5b9a\" App\u3067\u78ba\u8a8d\u3059\u308b\u3088\u3046\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u8a2d\u5b9aApp\u3092\u958b\u3044\u3066\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u300c \u691c\u8a3c\u6e08\u307f \u2611 \u300d\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6b21\u306b cert_export_client_user1.p12 \u3092\u958b\u304d\u3001\u540c\u69d8\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u3053\u3061\u3089\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u3001\u300c\u4e00\u822c\u300d\u2192\u300c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u300d\u304b\u3089\u78ba\u8a8d\u3059\u308b\u3068\u300c \u691c\u8a3c\u6e08\u307f \u2611 \u300d\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6700\u5f8c\u306b\u8a2d\u5b9aApp\u306e\u300c\u4e00\u822c\u300d\u2192\u300cVPN\u300d\u3068\u958b\u304d\u3001\u300cVPN\u69cb\u6210\u306e\u8ffd\u52a0\u300d\u3092\u30bf\u30c3\u30d7\u3057\u3066VPN\u69cb\u6210\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a2d\u5b9a\u306f\u4e0b\u8a18\u306e\u69d8\u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30bf\u30a4\u30d7 IKEv2 \u8aac\u660e (\u304a\u597d\u307f\u306e\u540d\u524d\u3092\u8a2d\u5b9a) \u30b5\u30fc\u30d0 vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) \u30ea\u30e2\u30fc\u30c8ID vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) \u30ed\u30fc\u30ab\u30ebID user1@vpn.mydomain.com (\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u540d\u524d) \u30e6\u30fc\u30b6\u8a8d\u8a3c \u306a\u3057 \u8a3c\u660e\u66f8\u3092\u4f7f\u7528 ON \u8a3c\u660e\u66f8 user1@vpn.mydomain.com (\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u540d\u524d) \u8a2d\u5b9a\u5b8c\u4e86\u5f8c\u3001VPN\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 DS-Lite\u3067\u306fISP\u304b\u3089\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8IPv4\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001ISP\u5074\u3067NAT\u5909\u63db\u3092\u3057\u3066\u3044\u307e\u3059\u3002 \u21a9 MAP-E\u3067\u306fISP\u5074\u304b\u3089\u5229\u7528\u53ef\u80fd\u306a\u5916\u90e8\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001\u305d\u306e\u7bc4\u56f2\u306e\u307f\u3067\u3057\u304b\u5916\u90e8\u516c\u958b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002 \u21a9","title":"iOS13\u306e\u5834\u5408"},{"location":"RouterOS/kubeMetalLB/","text":"RouterOS\u3067k8s\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc GKE\u3084AKS\u3001EKS\u7b49\u306e\u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u306eKubernetes\u30af\u30e9\u30b9\u30bf\u30fc\u4e0a\u3067 L4\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001Kubernetes Service\u306e\u30bf\u30a4\u30d7\u3092LoadBalancer\u306b\u8a2d\u5b9a\u3059\u308b\u3068 \u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u304c\u63d0\u4f9b\u3059\u308bGoogle Cloud Load Balancer\u3084\u3001Azure Load Balancer\u306a\u3069\u306e \u5916\u90e8\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u30b5\u30fc\u30d3\u30b9\u3068\u9023\u643a\u3057\u3066\u3001\u8ca0\u8377\u5206\u6563\u3068\u53ef\u7528\u6027\u5411\u4e0a\u3092\u3057\u3066\u304f\u308c\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u3067\u306f\u306a\u3044\u3001\u81ea\u8eab\u3067\u69cb\u7bc9\u3057\u305fKubernetes\u30af\u30e9\u30b9\u30bf\u3067\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\u3057\u305f\u3044\u5834\u5408\u306f\u3001 \u5916\u90e8\u9023\u643a\u3059\u308b\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3092\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001RouterOS\u3068 MetalLB \u3092\u4f7f\u7528\u3057\u3066\u3001 \u30d9\u30a2\u30e1\u30bf\u30ebKubernetes\u30af\u30e9\u30b9\u30bf\u30fc\u3067\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 MetalLB MetalLB 1 \u306f\u3001\u30d9\u30a2\u30e1\u30bf\u30eb\u74b0\u5883\u306eKubernetes\u3067LoadBalancer\u30bf\u30a4\u30d7\u306eService\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u5b9f\u88c5\u3067\u3059\u3002 BGP\u307e\u305f\u306f\u3001ARP\u3084NDP\u306a\u3069\u306e\u6a19\u6e96\u7684\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001Kubernetes\u4e0a\u3067\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Kubernetes\u306eService MetalLB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306b\u3001Kubernetes\u306eService\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u4eca\u3059\u3050MetalLB\u3092\u4f7f\u7528\u3057\u305f\u3044\u65b9\u306f\u3001 MetalLB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u307e\u3067\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Kubernetes\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5916\u90e8\u3078\u516c\u958b\u3059\u308b\u5834\u5408\u306b\u306f\u3001Service\u3068\u3044\u3046\u3082\u306e\u3092\u5229\u7528\u3057\u307e\u3059\u3002 Service\u306b\u306f\u3044\u304f\u3064\u304b\u306e\u30bf\u30a4\u30d7\u304c\u3042\u308a\u3001\u5916\u90e8\u304b\u3089Kubernetes\u30af\u30e9\u30b9\u30bf\u30fc\u5185\u90e8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u306b\u306f NodePort\u30bf\u30a4\u30d7\u3082\u3057\u304f\u306f\u3001LoadBalancer\u30bf\u30a4\u30d7\u306eService\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 2 NodePort\u30bf\u30a4\u30d7\u306eService\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306ePod\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308b\u30ce\u30fc\u30c9\u306eIP\u30a2\u30c9\u30ec\u30b9\u306bTCP/UDP\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002 \u8907\u6570\u306e\u30ce\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306b\u3069\u306e\u30ce\u30fc\u30c9\u3078\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u304b\u306f\u3001\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u308b\u307e\u3067\u5206\u304b\u308a\u307e\u305b\u3093\u3002 \u3082\u3057\u3001NodePort\u30bf\u30a4\u30d7\u306eService\u3067\u516c\u958b\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u3067\u69cb\u6210\u3059\u308b \u30c7\u30d7\u30ed\u30a4\u3059\u308b\u30ce\u30fc\u30c9\u3092\u4e8b\u524d\u306b\u5272\u308a\u5f53\u3066\u3066\u304a\u304f \u52d5\u7684\u306bDNS\u3084Destination NAT\u3092\u8a2d\u5b9a\u3059\u308b\u4ed5\u7d44\u307f\u3092\u7528\u610f\u3059\u308b \u305d\u306e\u305f\u3081\u3001\u30de\u30eb\u30c1\u30ce\u30fc\u30c9\u3067\u9ad8\u53ef\u7528\u6027\u306e\u69cb\u6210\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u3042\u307e\u308a\u73fe\u5b9f\u7684\u3067\u306a\u3044\u9078\u629e\u80a2\u306b\u306a\u308a\u307e\u3059\u3002 \u3082\u3046\u4e00\u65b9\u306eLoadBalancer\u30bf\u30a4\u30d7\u306eService\u3067\u306f\u3001Kubernetes\u30af\u30e9\u30b9\u30bf\u30fc\u306e\u5916\u90e8\u306b\u3042\u308b\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u901a\u5e38\u3001\u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u304c\u63d0\u4f9b\u3067\u3059\u308b\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u6a5f\u80fd\u3068\u9023\u643a\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 \u3082\u3057\u3001\u30de\u30eb\u30c1\u30ce\u30fc\u30c9\u74b0\u5883\u304b\u3064\u3001\u30af\u30e9\u30a6\u30c9\u3067\u306f\u306a\u304f\u30d9\u30a2\u30e1\u30bf\u30eb\u74b0\u5883\u3067\u3001 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5916\u90e8\u3078\u516c\u958b\u3059\u308b\u306b\u306f\u3001LoadBalancer\u30bf\u30a4\u30d7\u306eService\u3068\u9023\u643a\u3059\u308b \u5916\u90e8\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u306b\u3042\u305f\u308b\u6a5f\u80fd\u3092\u81ea\u8eab\u3067\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u3053\u3067\u3001MetalLB\u306f\u6a19\u6e96\u7684\u306aBGP\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3084ARP/NDP\u3068\u3044\u3063\u305fLayer2\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5229\u7528\u3057\u3066\u3001 \u5e02\u8ca9\u306e\u30eb\u30fc\u30bf\u30fc\u3068\u9023\u643a\u3057\u3001\u4e00\u822c\u7684\u306a\u30d9\u30a2\u30e1\u30bf\u30eb\u74b0\u5883\u3067\u306e\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\u3092\u5b9f\u73fe\u3092\u3057\u307e\u3059\u3002 MetalLB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb MetalLB\u3000\u516c\u5f0f\u30b5\u30a4\u30c8\u306e Manifest\u304b\u3089\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5 \u306b\u5f93\u3063\u3066 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 MetalLB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb METALLB_VERSION=\"v0.9.3\" kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/${METALLB_VERSION}/manifests/namespace.yaml kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/${METALLB_VERSION}/manifests/metallb.yaml # On first install only kubectl create secret generic -n metallb-system memberlist --from-literal=secretkey=\"$(openssl rand -base64 128)\" \u7d9a\u3044\u3066\u3001BGP\u3067\u5bfe\u5411\u30eb\u30fc\u30bf\u306e 192.168.5.1 \u3068\u901a\u4fe1\u3059\u308b\u3088\u3046\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 MetalLB\u306eAS\u756a\u53f7\u306f65001\u3001\u5bfe\u5411\u30eb\u30fc\u30bf\u306eAS\u756a\u53f7\u306f65000\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8AS\u756a\u53f7\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 metallb/config-map.yaml apiVersion: v1 kind: ConfigMap metadata: namespace: metallb-system name: config data: config: | peers: - peer-address: 192.168.5.1 peer-asn: 65000 my-asn: 65001 address-pools: - name: default protocol: bgp avoid-buggy-ips: true addresses: - 192.168.128.0/24 \u4e0a\u8a18\u306e\u8a2d\u5b9a\u5f8c\u3001\u3057\u3070\u3089\u304f\u3059\u308b\u3068MetalLB\u306b\u8a2d\u5b9a\u3057\u305f\u30ec\u30f3\u30b8\u306eIP\u30a2\u30c9\u30ec\u30b9\u304c\u3001Ingress\u306a\u3069\u306b\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u3059\u3067\u306b\u4f5c\u6210\u6e08\u307f\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c2\u3064\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u3001 192.168.128.1 \u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Ingress\u3078\u306eIP\u30a2\u30c9\u30ec\u30b9\u5272\u308a\u5f53\u3066\u78ba\u8a8d > kubectl get ingress NAME CLASS HOSTS ADDRESS PORTS AGE api-ingress <none> api.roy-n-roy.test 192.168.128.1 80, 443 26d web-ingress <none> www.roy-n-roy.test 192.168.128.1 80, 443 26d RouterOS\u3067\u306eBGP\u8a2d\u5b9a \u4eca\u5ea6\u306fRouterOS\u5074\u3067\u3001\u5404Kubernetes\u30ce\u30fc\u30c9\u3068\u901a\u4fe1\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 \u5bfe\u5411\u306e\u30ce\u30fc\u30c9\u306f4\u53f0\u3067\u3001192.168.5.250\uff5e254\u3068\u3057\u3066\u3044\u307e\u3059\u3002 BGP\u8a2d\u5b9a /routing bgp instance add name=private as=65000 router-id=192.168.5.1 /routing bgp peer add multihop=yes name=kube-metallb-worker1 remote-address=192.168.5.253 \\ remote-as=65001 ttl=private add multihop=yes name=kube-metallb-worker2 remote-address=192.168.5.252 \\ remote-as=65001 ttl=private add multihop=yes name=kube-metallb-worker3 remote-address=192.168.5.251 \\ remote-as=65001 ttl=private add multihop=yes name=kube-metallb-worker4 remote-address=192.168.5.250 \\ remote-as=65001 ttl=private \u6b63\u5e38\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u3068\u3001\u52d5\u7684\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 BGP \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u78ba\u8a8d # BGP\u5e83\u544a\u306e\u8868\u793a /routing bgp advertisements print PEER PREFIX NEXTHOP AS-PATH ORIGIN LOCAL-PREF kube-... 192.168.128.1/32 192.168.5.1 65001 incomplete kube-... 192.168.128.1/32 192.168.5.1 65001 incomplete kube-... 192.168.128.1/32 192.168.5.1 65001 incomplete # \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u3092\u8868\u793a # Kubernetes\u4e0a\u306eIngress\u306eClusterIP(192.168.128.1/32)\u3078\u306e\u52d5\u7684\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3068\u3057\u3066 # 192.168.5.251\u3068.253\u304cDynamic\u3067\u8868\u793a\u3055\u308c\u3001.251\u304cActive\u306b\u306a\u3063\u3066\u3044\u308b\u3002 /ip route print Flags: X - disabled, A - active, D - dynamic, C - connect, S - static, r - rip, b - bgp, o - ospf, m - mme, B - blackhole, U - unreachable, P - prohibit # DST-ADDRESS PREF-SRC GATEWAY DISTANCE 0 ADS 0.0.0.0/0 pppoe-out1 1 \uff65\uff65\uff65 4 ADb 192.168.128.1/32 192.168.5.251 20 5 Db 192.168.128.1/32 192.168.5.253 20 \u3053\u306e\u6bb5\u968e\u3067\u3001\u78ba\u8a8d\u306e\u305f\u3081\u306bhosts\u306a\u3069\u3078\u540d\u524d\u89e3\u6c7a\u3092\u767b\u9332\u3057\u3066 \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001Ingress\u3067\u8a2d\u5b9a\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u30012\u3064\u306eURL\u306b 192.168.128.1 \u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 /etc/hosts \u3082\u3057\u304f\u306f C:\\Windows\\System32\\drivers\\etc\\hosts 192.168.128.1 api.roy-n-roy.test 192.168.128.1 www.roy-n-roy.test RouterOS\u306b\u30ea\u30d0\u30fc\u30b9NAT\u3092\u8a2d\u5b9a \u6700\u5f8c\u306b\u3001\u5916\u90e8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306bNAT\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u516c\u958b\u3059\u308b\u305f\u3081\u306b HTTP(S)\u30a2\u30af\u30bb\u30b9\u3092Kubernetes Ingress\u30b5\u30fc\u30d3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9\u3078\u8ee2\u9001\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002 \u30ea\u30d0\u30fc\u30b9NAT\u8a2d\u5b9a # ether1\u306ePort 80,443(HTTP(S))\u30a2\u30af\u30bb\u30b9\u3092192.168.128.1\u3078\u8ee2\u9001 /ip firewall nat add action=dst-nat chain=dstnat in-interface=ether1 protocol=tcp port=80 to-addresses=192.168.128.1 /ip firewall nat add action=dst-nat chain=dstnat in-interface=ether1 protocol=tcp port=443 to-addresses=192.168.128.1 MetalLB, bare metal load-balancer for Kubernetes \u21a9 Service | Kubernetes \u21a9","title":"RouterOS\u3067k8s\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc"},{"location":"RouterOS/kubeMetalLB/#routerosk8s","text":"GKE\u3084AKS\u3001EKS\u7b49\u306e\u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u306eKubernetes\u30af\u30e9\u30b9\u30bf\u30fc\u4e0a\u3067 L4\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001Kubernetes Service\u306e\u30bf\u30a4\u30d7\u3092LoadBalancer\u306b\u8a2d\u5b9a\u3059\u308b\u3068 \u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u304c\u63d0\u4f9b\u3059\u308bGoogle Cloud Load Balancer\u3084\u3001Azure Load Balancer\u306a\u3069\u306e \u5916\u90e8\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u30b5\u30fc\u30d3\u30b9\u3068\u9023\u643a\u3057\u3066\u3001\u8ca0\u8377\u5206\u6563\u3068\u53ef\u7528\u6027\u5411\u4e0a\u3092\u3057\u3066\u304f\u308c\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u3067\u306f\u306a\u3044\u3001\u81ea\u8eab\u3067\u69cb\u7bc9\u3057\u305fKubernetes\u30af\u30e9\u30b9\u30bf\u3067\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\u3057\u305f\u3044\u5834\u5408\u306f\u3001 \u5916\u90e8\u9023\u643a\u3059\u308b\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3092\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001RouterOS\u3068 MetalLB \u3092\u4f7f\u7528\u3057\u3066\u3001 \u30d9\u30a2\u30e1\u30bf\u30ebKubernetes\u30af\u30e9\u30b9\u30bf\u30fc\u3067\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002","title":"RouterOS\u3067k8s\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc"},{"location":"RouterOS/kubeMetalLB/#metallb","text":"MetalLB 1 \u306f\u3001\u30d9\u30a2\u30e1\u30bf\u30eb\u74b0\u5883\u306eKubernetes\u3067LoadBalancer\u30bf\u30a4\u30d7\u306eService\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u5b9f\u88c5\u3067\u3059\u3002 BGP\u307e\u305f\u306f\u3001ARP\u3084NDP\u306a\u3069\u306e\u6a19\u6e96\u7684\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001Kubernetes\u4e0a\u3067\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"MetalLB"},{"location":"RouterOS/kubeMetalLB/#kubernetesservice","text":"MetalLB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306b\u3001Kubernetes\u306eService\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u4eca\u3059\u3050MetalLB\u3092\u4f7f\u7528\u3057\u305f\u3044\u65b9\u306f\u3001 MetalLB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u307e\u3067\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Kubernetes\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5916\u90e8\u3078\u516c\u958b\u3059\u308b\u5834\u5408\u306b\u306f\u3001Service\u3068\u3044\u3046\u3082\u306e\u3092\u5229\u7528\u3057\u307e\u3059\u3002 Service\u306b\u306f\u3044\u304f\u3064\u304b\u306e\u30bf\u30a4\u30d7\u304c\u3042\u308a\u3001\u5916\u90e8\u304b\u3089Kubernetes\u30af\u30e9\u30b9\u30bf\u30fc\u5185\u90e8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u306b\u306f NodePort\u30bf\u30a4\u30d7\u3082\u3057\u304f\u306f\u3001LoadBalancer\u30bf\u30a4\u30d7\u306eService\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 2 NodePort\u30bf\u30a4\u30d7\u306eService\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306ePod\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308b\u30ce\u30fc\u30c9\u306eIP\u30a2\u30c9\u30ec\u30b9\u306bTCP/UDP\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002 \u8907\u6570\u306e\u30ce\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306b\u3069\u306e\u30ce\u30fc\u30c9\u3078\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u304b\u306f\u3001\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u308b\u307e\u3067\u5206\u304b\u308a\u307e\u305b\u3093\u3002 \u3082\u3057\u3001NodePort\u30bf\u30a4\u30d7\u306eService\u3067\u516c\u958b\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u3067\u69cb\u6210\u3059\u308b \u30c7\u30d7\u30ed\u30a4\u3059\u308b\u30ce\u30fc\u30c9\u3092\u4e8b\u524d\u306b\u5272\u308a\u5f53\u3066\u3066\u304a\u304f \u52d5\u7684\u306bDNS\u3084Destination NAT\u3092\u8a2d\u5b9a\u3059\u308b\u4ed5\u7d44\u307f\u3092\u7528\u610f\u3059\u308b \u305d\u306e\u305f\u3081\u3001\u30de\u30eb\u30c1\u30ce\u30fc\u30c9\u3067\u9ad8\u53ef\u7528\u6027\u306e\u69cb\u6210\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u3042\u307e\u308a\u73fe\u5b9f\u7684\u3067\u306a\u3044\u9078\u629e\u80a2\u306b\u306a\u308a\u307e\u3059\u3002 \u3082\u3046\u4e00\u65b9\u306eLoadBalancer\u30bf\u30a4\u30d7\u306eService\u3067\u306f\u3001Kubernetes\u30af\u30e9\u30b9\u30bf\u30fc\u306e\u5916\u90e8\u306b\u3042\u308b\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u901a\u5e38\u3001\u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u304c\u63d0\u4f9b\u3067\u3059\u308b\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u6a5f\u80fd\u3068\u9023\u643a\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 \u3082\u3057\u3001\u30de\u30eb\u30c1\u30ce\u30fc\u30c9\u74b0\u5883\u304b\u3064\u3001\u30af\u30e9\u30a6\u30c9\u3067\u306f\u306a\u304f\u30d9\u30a2\u30e1\u30bf\u30eb\u74b0\u5883\u3067\u3001 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5916\u90e8\u3078\u516c\u958b\u3059\u308b\u306b\u306f\u3001LoadBalancer\u30bf\u30a4\u30d7\u306eService\u3068\u9023\u643a\u3059\u308b \u5916\u90e8\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u306b\u3042\u305f\u308b\u6a5f\u80fd\u3092\u81ea\u8eab\u3067\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u3053\u3067\u3001MetalLB\u306f\u6a19\u6e96\u7684\u306aBGP\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3084ARP/NDP\u3068\u3044\u3063\u305fLayer2\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5229\u7528\u3057\u3066\u3001 \u5e02\u8ca9\u306e\u30eb\u30fc\u30bf\u30fc\u3068\u9023\u643a\u3057\u3001\u4e00\u822c\u7684\u306a\u30d9\u30a2\u30e1\u30bf\u30eb\u74b0\u5883\u3067\u306e\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\u3092\u5b9f\u73fe\u3092\u3057\u307e\u3059\u3002","title":"Kubernetes\u306eService"},{"location":"RouterOS/kubeMetalLB/#metallb_1","text":"MetalLB\u3000\u516c\u5f0f\u30b5\u30a4\u30c8\u306e Manifest\u304b\u3089\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5 \u306b\u5f93\u3063\u3066 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 MetalLB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb METALLB_VERSION=\"v0.9.3\" kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/${METALLB_VERSION}/manifests/namespace.yaml kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/${METALLB_VERSION}/manifests/metallb.yaml # On first install only kubectl create secret generic -n metallb-system memberlist --from-literal=secretkey=\"$(openssl rand -base64 128)\" \u7d9a\u3044\u3066\u3001BGP\u3067\u5bfe\u5411\u30eb\u30fc\u30bf\u306e 192.168.5.1 \u3068\u901a\u4fe1\u3059\u308b\u3088\u3046\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 MetalLB\u306eAS\u756a\u53f7\u306f65001\u3001\u5bfe\u5411\u30eb\u30fc\u30bf\u306eAS\u756a\u53f7\u306f65000\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8AS\u756a\u53f7\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 metallb/config-map.yaml apiVersion: v1 kind: ConfigMap metadata: namespace: metallb-system name: config data: config: | peers: - peer-address: 192.168.5.1 peer-asn: 65000 my-asn: 65001 address-pools: - name: default protocol: bgp avoid-buggy-ips: true addresses: - 192.168.128.0/24 \u4e0a\u8a18\u306e\u8a2d\u5b9a\u5f8c\u3001\u3057\u3070\u3089\u304f\u3059\u308b\u3068MetalLB\u306b\u8a2d\u5b9a\u3057\u305f\u30ec\u30f3\u30b8\u306eIP\u30a2\u30c9\u30ec\u30b9\u304c\u3001Ingress\u306a\u3069\u306b\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u3059\u3067\u306b\u4f5c\u6210\u6e08\u307f\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c2\u3064\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u3001 192.168.128.1 \u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Ingress\u3078\u306eIP\u30a2\u30c9\u30ec\u30b9\u5272\u308a\u5f53\u3066\u78ba\u8a8d > kubectl get ingress NAME CLASS HOSTS ADDRESS PORTS AGE api-ingress <none> api.roy-n-roy.test 192.168.128.1 80, 443 26d web-ingress <none> www.roy-n-roy.test 192.168.128.1 80, 443 26d","title":"MetalLB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"RouterOS/kubeMetalLB/#routerosbgp","text":"\u4eca\u5ea6\u306fRouterOS\u5074\u3067\u3001\u5404Kubernetes\u30ce\u30fc\u30c9\u3068\u901a\u4fe1\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 \u5bfe\u5411\u306e\u30ce\u30fc\u30c9\u306f4\u53f0\u3067\u3001192.168.5.250\uff5e254\u3068\u3057\u3066\u3044\u307e\u3059\u3002 BGP\u8a2d\u5b9a /routing bgp instance add name=private as=65000 router-id=192.168.5.1 /routing bgp peer add multihop=yes name=kube-metallb-worker1 remote-address=192.168.5.253 \\ remote-as=65001 ttl=private add multihop=yes name=kube-metallb-worker2 remote-address=192.168.5.252 \\ remote-as=65001 ttl=private add multihop=yes name=kube-metallb-worker3 remote-address=192.168.5.251 \\ remote-as=65001 ttl=private add multihop=yes name=kube-metallb-worker4 remote-address=192.168.5.250 \\ remote-as=65001 ttl=private \u6b63\u5e38\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u3068\u3001\u52d5\u7684\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 BGP \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u78ba\u8a8d # BGP\u5e83\u544a\u306e\u8868\u793a /routing bgp advertisements print PEER PREFIX NEXTHOP AS-PATH ORIGIN LOCAL-PREF kube-... 192.168.128.1/32 192.168.5.1 65001 incomplete kube-... 192.168.128.1/32 192.168.5.1 65001 incomplete kube-... 192.168.128.1/32 192.168.5.1 65001 incomplete # \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u3092\u8868\u793a # Kubernetes\u4e0a\u306eIngress\u306eClusterIP(192.168.128.1/32)\u3078\u306e\u52d5\u7684\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3068\u3057\u3066 # 192.168.5.251\u3068.253\u304cDynamic\u3067\u8868\u793a\u3055\u308c\u3001.251\u304cActive\u306b\u306a\u3063\u3066\u3044\u308b\u3002 /ip route print Flags: X - disabled, A - active, D - dynamic, C - connect, S - static, r - rip, b - bgp, o - ospf, m - mme, B - blackhole, U - unreachable, P - prohibit # DST-ADDRESS PREF-SRC GATEWAY DISTANCE 0 ADS 0.0.0.0/0 pppoe-out1 1 \uff65\uff65\uff65 4 ADb 192.168.128.1/32 192.168.5.251 20 5 Db 192.168.128.1/32 192.168.5.253 20 \u3053\u306e\u6bb5\u968e\u3067\u3001\u78ba\u8a8d\u306e\u305f\u3081\u306bhosts\u306a\u3069\u3078\u540d\u524d\u89e3\u6c7a\u3092\u767b\u9332\u3057\u3066 \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001Ingress\u3067\u8a2d\u5b9a\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u30012\u3064\u306eURL\u306b 192.168.128.1 \u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 /etc/hosts \u3082\u3057\u304f\u306f C:\\Windows\\System32\\drivers\\etc\\hosts 192.168.128.1 api.roy-n-roy.test 192.168.128.1 www.roy-n-roy.test","title":"RouterOS\u3067\u306eBGP\u8a2d\u5b9a"},{"location":"RouterOS/kubeMetalLB/#routerosnat","text":"\u6700\u5f8c\u306b\u3001\u5916\u90e8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306bNAT\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u516c\u958b\u3059\u308b\u305f\u3081\u306b HTTP(S)\u30a2\u30af\u30bb\u30b9\u3092Kubernetes Ingress\u30b5\u30fc\u30d3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9\u3078\u8ee2\u9001\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002 \u30ea\u30d0\u30fc\u30b9NAT\u8a2d\u5b9a # ether1\u306ePort 80,443(HTTP(S))\u30a2\u30af\u30bb\u30b9\u3092192.168.128.1\u3078\u8ee2\u9001 /ip firewall nat add action=dst-nat chain=dstnat in-interface=ether1 protocol=tcp port=80 to-addresses=192.168.128.1 /ip firewall nat add action=dst-nat chain=dstnat in-interface=ether1 protocol=tcp port=443 to-addresses=192.168.128.1 MetalLB, bare metal load-balancer for Kubernetes \u21a9 Service | Kubernetes \u21a9","title":"RouterOS\u306b\u30ea\u30d0\u30fc\u30b9NAT\u3092\u8a2d\u5b9a"},{"location":"Windows/","text":"Windows Desktop Windows 10\u3067\u306e\u3042\u308c\u3053\u308c\u306b\u3064\u3044\u3066 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS Windows\u3067\u5229\u7528\u3067\u304d\u308b\u30c7\u30a3\u30b9\u30af\u5197\u9577\u5316\u6a5f\u80fd\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u300d\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u300cReFS\u300d\u306b\u3064\u3044\u3066 Windows10 \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30d6\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a Windows10\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\u306b\u7d42\u4e86\u3055\u308c\u306a\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5236\u7d42\u4e86\u3055\u305b\u308b Windows Subsystem for Linux \u3068 Windows\u3067\u306e\u30b3\u30f3\u30c6\u30ca \u73fe\u884c\u306e\u300cWSL\u300d\u3068\u3001Windows10 \u30d0\u30fc\u30b8\u30e7\u30f32004\u4ee5\u964d\u3067\u8ffd\u52a0\u3055\u308c\u308b\u6a5f\u80fd\u300cWSL2\u300d\u306b\u3064\u3044\u3066","title":"Windows Desktop"},{"location":"Windows/#windows-desktop","text":"Windows 10\u3067\u306e\u3042\u308c\u3053\u308c\u306b\u3064\u3044\u3066","title":"Windows Desktop"},{"location":"Windows/#refs","text":"Windows\u3067\u5229\u7528\u3067\u304d\u308b\u30c7\u30a3\u30b9\u30af\u5197\u9577\u5316\u6a5f\u80fd\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u300d\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u300cReFS\u300d\u306b\u3064\u3044\u3066","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS"},{"location":"Windows/#windows10","text":"Windows10\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\u306b\u7d42\u4e86\u3055\u308c\u306a\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5236\u7d42\u4e86\u3055\u305b\u308b","title":"Windows10 \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30d6\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a"},{"location":"Windows/#windows-subsystem-for-linux-windows","text":"\u73fe\u884c\u306e\u300cWSL\u300d\u3068\u3001Windows10 \u30d0\u30fc\u30b8\u30e7\u30f32004\u4ee5\u964d\u3067\u8ffd\u52a0\u3055\u308c\u308b\u6a5f\u80fd\u300cWSL2\u300d\u306b\u3064\u3044\u3066","title":"Windows Subsystem for Linux \u3068 Windows\u3067\u306e\u30b3\u30f3\u30c6\u30ca"},{"location":"Windows/LoopbackInterface/","text":"\u30d0\u30c3\u30c1\u3067\u30eb\u30fc\u30d7\u30d0\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210 Windows\u3067\u30eb\u30fc\u30d7\u30d0\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3001IP\u30a2\u30c9\u30ec\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001Windows Driver Kit\u306b\u4ed8\u5c5e\u3059\u308b DevCon 1 \u304c\u5fc5\u8981\u306a\u305f\u3081\u3001Microsoft\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\u304b\u3089\u53d6\u5f97\u306e\u4e0a\u3067\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002 INSTALL_LOOPBACK_INTERFACE.bat Windows \u30c7\u30d0\u30a4\u30b9 \u30b3\u30f3\u30bd\u30fc\u30eb (Devcon.exe) \u21a9","title":"\u30d0\u30c3\u30c1\u3067\u30eb\u30fc\u30d7\u30d0\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210"},{"location":"Windows/LoopbackInterface/#_1","text":"Windows\u3067\u30eb\u30fc\u30d7\u30d0\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3001IP\u30a2\u30c9\u30ec\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001Windows Driver Kit\u306b\u4ed8\u5c5e\u3059\u308b DevCon 1 \u304c\u5fc5\u8981\u306a\u305f\u3081\u3001Microsoft\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\u304b\u3089\u53d6\u5f97\u306e\u4e0a\u3067\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002 INSTALL_LOOPBACK_INTERFACE.bat Windows \u30c7\u30d0\u30a4\u30b9 \u30b3\u30f3\u30bd\u30fc\u30eb (Devcon.exe) \u21a9","title":"\u30d0\u30c3\u30c1\u3067\u30eb\u30fc\u30d7\u30d0\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210"},{"location":"Windows/VpnError/","text":"\u30c6\u30b6\u30ea\u30f3\u30b0(\u6709\u7dda\u30b1\u30fc\u30d6\u30eb)\u3067\u306eVPN\u63a5\u7d9a\u30a8\u30e9\u30fc \u79c1\u306f\u3001\u5916\u51fa\u5148\u304b\u3089\u81ea\u5b85\u3078VPN\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001IPsec/IKEv2\u306e VPN\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a \u3092\u3057\u3066\u304a\u308a\u3001Windows PC\u3067VPN\u63a5\u7d9a\u3059\u308b\u3068\u304d\u306b\u306fiPhone\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u3067\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u3067VPN\u63a5\u7d9a\u3092\u3057\u3066\u3044\u307e\u3059\u3002 iPhone\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u300cLightning\u30b1\u30fc\u30d6\u30eb\u63a5\u7d9a\u300d\u300cWi-Fi\u63a5\u7d9a\u300d\u300cBluetooth\u63a5\u7d9a\u300d\u306e3\u901a\u308a\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002 Windows PC\u304b\u3089VPN\u63a5\u7d9a\u3092\u3059\u308b\u3068\u304d\u306b\u300cWi-Fi\u63a5\u7d9a\u300d\u3067\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u7d4c\u7531\u3067\u306f\u6b63\u5e38\u306b\u63a5\u7d9a\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u300cLightning\u30b1\u30fc\u30d6\u30eb\u300d\u3067\u306e\u6709\u7dda\u63a5\u7d9a\u306e\u5834\u5408\u306b\u3001VPN\u63a5\u7d9a\u304c\u30a8\u30e9\u30fc\u3068\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002 \u56f3 1, 2. Wi-Fi(\u7121\u7ddaLAN)\u30c6\u30b6\u30ea\u30f3\u30b0\u7d4c\u7531\u306eVPN\u63a5\u7d9a\u306e\u6210\u529f\u7d50\u679c (\u5de6) \u3068 Lightning\u30b1\u30fc\u30d6\u30eb(\u6709\u7dda)\u7d4c\u7531\u306eVPN\u63a5\u7d9a\u306e\u5931\u6557\u7d50\u679c (\u53f3) \u3069\u3061\u3089\u3082\u540c\u3058iPhone\u3092\u540c\u3058\u65e5\u306b\u3001\u540c\u3058\u5834\u6240\u3067\u3001\u540c\u3058\u30ad\u30e3\u30ea\u30a2(docomo)\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u63a5\u7d9a\u3067\u304d\u306a\u3044\u539f\u56e0\u304c\u5206\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002 IPsec/IKEv2\u63a5\u7d9a\u6642\u306e\u51e6\u7406 \u30a8\u30e9\u30fc\u539f\u56e0\u306e\u8abf\u67fb VPN\u63a5\u7d9a\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u3092\u7279\u5b9a\u3059\u308b\u305f\u3081\u3001 Wireshark \u3092\u5229\u7528\u3057\u3066\u3001VPN\u63a5\u7d9a\u6642\u306e\u30d1\u30b1\u30c3\u30c8\u306e\u6d41\u308c\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002 Wireshark\u306f64bit\u7248\u306eVersion 3.2.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5168\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u306b\u3057\u3066\u3044\u307e\u3059\u3002 (\u540c\u6642\u306bMicrosoft Visual C++ 2015-2019 \u518d\u9812\u5e03\u53ef\u80fd \u30e9\u30f3\u30bf\u30a4\u30e0\u3068\u3001NpCap\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3057\u305f\u3002) Wireshark\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001PC\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u3053\u3053\u306b\u306f\u3001PC\u306e\u5185\u90e8\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u3001\u4eee\u60f3\u7684\u306a\u30a2\u30c0\u30d7\u30bf\u30fc\u3082\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3001\u8abf\u67fb\u306e\u305f\u3081\u306b\u306fVPN\u63a5\u7d9a\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u7e4b\u304c\u3063\u3066\u3044\u308b\u30a2\u30c0\u30d7\u30bf\u30fc\u3092\u9078\u629e\u3057\u307e\u3059\u3002 \u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u540d\u524d\u306e\u53f3\u306b\u306f\u3001\u7dda\u30b0\u30e9\u30d5\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u8868\u793a\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u308c\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u901a\u4fe1\u91cf\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002 \u30a2\u30c0\u30d7\u30bf\u30fc\u540d\u3068\u901a\u4fe1\u91cf\u30b0\u30e9\u30d5\u3092\u53c2\u8003\u306b\u3057\u3066\u3001\u5bfe\u8c61\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u56f3 3. Wireshark\u3092\u8d77\u52d5\u3057\u305f\u753b\u9762 \u305d\u3057\u3066\u3001Wi-Fi\u7d4c\u7531\u3068Lightning\u30b1\u30fc\u30d6\u30eb\u7d4c\u7531\u3067\u306eVPN\u63a5\u7d9a\u6642\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u305f\u7d50\u679c\u304c\u4e0b\u8a18\u306e\u56f3\u3067\u3059\u3002 \u306a\u304a\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u306e\u3053\u3068\u3092\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c0\u30f3\u30d7\u300d\u3068\u547c\u3073\u307e\u3059\u3002 \u307e\u305f\u3001VPN\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u90e8\u5206\u306f\u3001\u753b\u50cf\u3092\u52a0\u5de5\u3057\u3066\u9ed2\u8272\u306b\u5857\u308a\u3064\u3076\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3054\u627f\u77e5\u304a\u304d\u4e0b\u3055\u3044\u3002\u3002 \u56f3 4, 5. VPN\u63a5\u7d9a\u6210\u529f\u6642(\u4e0a) \u3068 VPN\u63a5\u7d9a\u5931\u6557\u6642(\u4e0b) \u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c0\u30f3\u30d7 \u307e\u305a\u524d\u63d0\u3068\u3057\u3066\u3001IPsec/IKEv2\u63a5\u7d9a\u306e\u521d\u671f\u30d5\u30a7\u30fc\u30ba\u306b\u306f\u3001\u300cIKE_SA_INIT\u300d\u3068\u300cIKE_AUTH\u300d\u306e2\u3064\u306e\u51e6\u7406\u304c\u3042\u308a\u307e\u3059\u3002 1 \u3053\u308c\u3092\u8e0f\u307e\u3048\u3066 \u56f3 4, 5 \u306eIKE\u63a5\u7d9a\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u898b\u6bd4\u3079\u308b\u3068\u4e0b\u8a18\u306e\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002 \u5931\u6557\u6642\u306b\u306fVPN\u30b5\u30fc\u30d0\u304b\u3089\u306e\u300cIKE_AUTH\u300d\u306e\u5fdc\u7b54\u304c\u306a\u3044 \u6210\u529f\u6642\u306e\u300cIKE_AUTH\u300d\u306e\u5fdc\u7b54\u30d1\u30b1\u30c3\u30c8\u3067\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u304c\u767a\u751f\u3057\u3066\u3044\u308b \u3053\u308c\u3089\u306e\u4e8b\u8c61\u304b\u3089\u3001\u4e0b\u8a18\u306e\u4eee\u5b9a\u3092\u7acb\u3066\u307e\u3057\u305f\u3002 \u4eee\u5b9a \u300cIKE_AUTH\u300d\u306e\u5fdc\u7b54\u30d1\u30b1\u30c3\u30c8\u30b5\u30a4\u30ba\u304cMTU\u3092\u8d85\u904e\u3057\u3001 \u30d1\u30b1\u30c3\u30c8\u30ed\u30b9\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u304b MTU\u8a2d\u5b9a\u306e\u78ba\u8a8d\u3068\u5909\u66f4 \u7d50\u679c\u304b\u3089\u66f8\u304f\u3068\u3001MTU\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u300cLightning\u30b1\u30fc\u30d6\u30eb\u300d\u7d4c\u7531\u306eVPN\u63a5\u7d9a\u304c\u6210\u529f\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u56f3 6. Lightning\u30b1\u30fc\u30d6\u30eb(\u6709\u7dda)\u7d4c\u7531\u306eVPN\u63a5\u7d9a\u306e\u6210\u529f\u7d50\u679c \u4ee5\u964d\u306b\u3001MTU\u8a2d\u5b9a\u306e\u78ba\u8a8d\u3068\u5909\u66f4\u306e\u624b\u9806\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002 powershell\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u3044\u3066\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u306eMTU\u306e\u78ba\u8a8d\u3068\u5909\u66f4\u3092\u884c\u3063\u3066\u3044\u304d\u307e\u3059\u3002 MTU\u8a2d\u5b9a\u306e\u78ba\u8a8d netsh interface ipv4 show interface Idx Met MTU \u72b6\u614b \u540d\u524d --- ---------- ---------- ------------ --------------------------- 19 25 1500 connected \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 5 \u21d2\u300c\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 5\u300dMTU\u306f\u30011500(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024)\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002 \u6700\u5927\u30d5\u30ec\u30fc\u30e0\u30b5\u30a4\u30ba\u306e\u691c\u8a3c ping -f -l 1472 -n 1 www.nic.or.jp nic.or.jp [122.28.47.86]\u306b ping \u3092\u9001\u4fe1\u3057\u3066\u3044\u307e\u3059 1472 \u30d0\u30a4\u30c8\u306e\u30c7\u30fc\u30bf: 122.28.47.86 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =1472 \u6642\u9593 =443ms TTL=47 122.28.47.86 \u306e ping \u7d71\u8a08: \u30d1\u30b1\u30c3\u30c8\u6570: \u9001\u4fe1 = 1\u3001\u53d7\u4fe1 = 1\u3001\u640d\u5931 = 0 (0% \u306e\u640d\u5931)\u3001 \u30e9\u30a6\u30f3\u30c9 \u30c8\u30ea\u30c3\u30d7\u306e\u6982\u7b97\u6642\u9593 (\u30df\u30ea\u79d2): \u6700\u5c0f = 443ms\u3001\u6700\u5927 = 443ms\u3001\u5e73\u5747 = 443ms ping -f -l 1473 -n 1 www.nic.or.jp nic.or.jp [122.28.47.86]\u306b ping \u3092\u9001\u4fe1\u3057\u3066\u3044\u307e\u3059 1473 \u30d0\u30a4\u30c8\u306e\u30c7\u30fc\u30bf: \u30d1\u30b1\u30c3\u30c8\u306e\u65ad\u7247\u5316\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001DF \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 122.28.47.86 \u306e ping \u7d71\u8a08: \u30d1\u30b1\u30c3\u30c8\u6570: \u9001\u4fe1 = 1\u3001\u53d7\u4fe1 = 0\u3001\u640d\u5931 = 1 (100% \u306e\u640d\u5931)\u3001 \u30b5\u30a4\u30ba=1473\u3067\u306f\u30d1\u30b1\u30c3\u30c8\u30ed\u30b9\u304c\u767a\u751f\u3059\u308b\u304c\u3001\u30b5\u30a4\u30ba=1472\u30d0\u30a4\u30c8\u3067\u306f\u767a\u751f\u3057\u3066\u3044\u306a\u3044\u3002 \u21d2\u30d1\u30b1\u30c3\u30c8\u30ed\u30b9\u306e\u767a\u751f\u3057\u306a\u3044MTU\u306e\u6700\u5927\u5024\u306f\u300c1472\u300d\u30d0\u30a4\u30c8 MTU\u8a2d\u5b9a\u306e\u5909\u66f4 netsh interface ipv4 set interface 19 mtu=1472 netsh interface ipv4 show interface Idx Met MTU \u72b6\u614b \u540d\u524d --- ---------- ---------- ------------ --------------------------- 19 25 1472 connected \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 5 \u21d2\u300c\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 5\u300dMTU\u304c\u30011472\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u3002 \u56f3 7. MTU\u306e\u8a2d\u5b9a\u78ba\u8a8d\u3068\u5909\u66f4 IKEv2 \u30d1\u30b1\u30c3\u30c8\u4ea4\u63db\u3068\u30d7\u30ed\u30c8\u30b3\u30eb \u30ec\u30d9\u30eb\u306e\u30c7\u30d0\u30c3\u30b0 - Cisco \u21a9","title":"\u30c6\u30b6\u30ea\u30f3\u30b0(\u6709\u7dda\u30b1\u30fc\u30d6\u30eb)\u3067\u306eVPN\u63a5\u7d9a\u30a8\u30e9\u30fc"},{"location":"Windows/VpnError/#vpn","text":"\u79c1\u306f\u3001\u5916\u51fa\u5148\u304b\u3089\u81ea\u5b85\u3078VPN\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001IPsec/IKEv2\u306e VPN\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a \u3092\u3057\u3066\u304a\u308a\u3001Windows PC\u3067VPN\u63a5\u7d9a\u3059\u308b\u3068\u304d\u306b\u306fiPhone\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u3067\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u3067VPN\u63a5\u7d9a\u3092\u3057\u3066\u3044\u307e\u3059\u3002 iPhone\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u300cLightning\u30b1\u30fc\u30d6\u30eb\u63a5\u7d9a\u300d\u300cWi-Fi\u63a5\u7d9a\u300d\u300cBluetooth\u63a5\u7d9a\u300d\u306e3\u901a\u308a\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002 Windows PC\u304b\u3089VPN\u63a5\u7d9a\u3092\u3059\u308b\u3068\u304d\u306b\u300cWi-Fi\u63a5\u7d9a\u300d\u3067\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u7d4c\u7531\u3067\u306f\u6b63\u5e38\u306b\u63a5\u7d9a\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u300cLightning\u30b1\u30fc\u30d6\u30eb\u300d\u3067\u306e\u6709\u7dda\u63a5\u7d9a\u306e\u5834\u5408\u306b\u3001VPN\u63a5\u7d9a\u304c\u30a8\u30e9\u30fc\u3068\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002 \u56f3 1, 2. Wi-Fi(\u7121\u7ddaLAN)\u30c6\u30b6\u30ea\u30f3\u30b0\u7d4c\u7531\u306eVPN\u63a5\u7d9a\u306e\u6210\u529f\u7d50\u679c (\u5de6) \u3068 Lightning\u30b1\u30fc\u30d6\u30eb(\u6709\u7dda)\u7d4c\u7531\u306eVPN\u63a5\u7d9a\u306e\u5931\u6557\u7d50\u679c (\u53f3) \u3069\u3061\u3089\u3082\u540c\u3058iPhone\u3092\u540c\u3058\u65e5\u306b\u3001\u540c\u3058\u5834\u6240\u3067\u3001\u540c\u3058\u30ad\u30e3\u30ea\u30a2(docomo)\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u63a5\u7d9a\u3067\u304d\u306a\u3044\u539f\u56e0\u304c\u5206\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002","title":"\u30c6\u30b6\u30ea\u30f3\u30b0(\u6709\u7dda\u30b1\u30fc\u30d6\u30eb)\u3067\u306eVPN\u63a5\u7d9a\u30a8\u30e9\u30fc"},{"location":"Windows/VpnError/#ipsecikev2","text":"","title":"IPsec/IKEv2\u63a5\u7d9a\u6642\u306e\u51e6\u7406"},{"location":"Windows/VpnError/#_1","text":"VPN\u63a5\u7d9a\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u3092\u7279\u5b9a\u3059\u308b\u305f\u3081\u3001 Wireshark \u3092\u5229\u7528\u3057\u3066\u3001VPN\u63a5\u7d9a\u6642\u306e\u30d1\u30b1\u30c3\u30c8\u306e\u6d41\u308c\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002 Wireshark\u306f64bit\u7248\u306eVersion 3.2.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5168\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u306b\u3057\u3066\u3044\u307e\u3059\u3002 (\u540c\u6642\u306bMicrosoft Visual C++ 2015-2019 \u518d\u9812\u5e03\u53ef\u80fd \u30e9\u30f3\u30bf\u30a4\u30e0\u3068\u3001NpCap\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3057\u305f\u3002) Wireshark\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001PC\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u3053\u3053\u306b\u306f\u3001PC\u306e\u5185\u90e8\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u3001\u4eee\u60f3\u7684\u306a\u30a2\u30c0\u30d7\u30bf\u30fc\u3082\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3001\u8abf\u67fb\u306e\u305f\u3081\u306b\u306fVPN\u63a5\u7d9a\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u7e4b\u304c\u3063\u3066\u3044\u308b\u30a2\u30c0\u30d7\u30bf\u30fc\u3092\u9078\u629e\u3057\u307e\u3059\u3002 \u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u540d\u524d\u306e\u53f3\u306b\u306f\u3001\u7dda\u30b0\u30e9\u30d5\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u8868\u793a\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u308c\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u901a\u4fe1\u91cf\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002 \u30a2\u30c0\u30d7\u30bf\u30fc\u540d\u3068\u901a\u4fe1\u91cf\u30b0\u30e9\u30d5\u3092\u53c2\u8003\u306b\u3057\u3066\u3001\u5bfe\u8c61\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u56f3 3. Wireshark\u3092\u8d77\u52d5\u3057\u305f\u753b\u9762 \u305d\u3057\u3066\u3001Wi-Fi\u7d4c\u7531\u3068Lightning\u30b1\u30fc\u30d6\u30eb\u7d4c\u7531\u3067\u306eVPN\u63a5\u7d9a\u6642\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u305f\u7d50\u679c\u304c\u4e0b\u8a18\u306e\u56f3\u3067\u3059\u3002 \u306a\u304a\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u306e\u3053\u3068\u3092\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c0\u30f3\u30d7\u300d\u3068\u547c\u3073\u307e\u3059\u3002 \u307e\u305f\u3001VPN\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u90e8\u5206\u306f\u3001\u753b\u50cf\u3092\u52a0\u5de5\u3057\u3066\u9ed2\u8272\u306b\u5857\u308a\u3064\u3076\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3054\u627f\u77e5\u304a\u304d\u4e0b\u3055\u3044\u3002\u3002 \u56f3 4, 5. VPN\u63a5\u7d9a\u6210\u529f\u6642(\u4e0a) \u3068 VPN\u63a5\u7d9a\u5931\u6557\u6642(\u4e0b) \u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c0\u30f3\u30d7 \u307e\u305a\u524d\u63d0\u3068\u3057\u3066\u3001IPsec/IKEv2\u63a5\u7d9a\u306e\u521d\u671f\u30d5\u30a7\u30fc\u30ba\u306b\u306f\u3001\u300cIKE_SA_INIT\u300d\u3068\u300cIKE_AUTH\u300d\u306e2\u3064\u306e\u51e6\u7406\u304c\u3042\u308a\u307e\u3059\u3002 1 \u3053\u308c\u3092\u8e0f\u307e\u3048\u3066 \u56f3 4, 5 \u306eIKE\u63a5\u7d9a\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u898b\u6bd4\u3079\u308b\u3068\u4e0b\u8a18\u306e\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002 \u5931\u6557\u6642\u306b\u306fVPN\u30b5\u30fc\u30d0\u304b\u3089\u306e\u300cIKE_AUTH\u300d\u306e\u5fdc\u7b54\u304c\u306a\u3044 \u6210\u529f\u6642\u306e\u300cIKE_AUTH\u300d\u306e\u5fdc\u7b54\u30d1\u30b1\u30c3\u30c8\u3067\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u304c\u767a\u751f\u3057\u3066\u3044\u308b \u3053\u308c\u3089\u306e\u4e8b\u8c61\u304b\u3089\u3001\u4e0b\u8a18\u306e\u4eee\u5b9a\u3092\u7acb\u3066\u307e\u3057\u305f\u3002 \u4eee\u5b9a \u300cIKE_AUTH\u300d\u306e\u5fdc\u7b54\u30d1\u30b1\u30c3\u30c8\u30b5\u30a4\u30ba\u304cMTU\u3092\u8d85\u904e\u3057\u3001 \u30d1\u30b1\u30c3\u30c8\u30ed\u30b9\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u304b","title":"\u30a8\u30e9\u30fc\u539f\u56e0\u306e\u8abf\u67fb"},{"location":"Windows/VpnError/#mtu","text":"\u7d50\u679c\u304b\u3089\u66f8\u304f\u3068\u3001MTU\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u300cLightning\u30b1\u30fc\u30d6\u30eb\u300d\u7d4c\u7531\u306eVPN\u63a5\u7d9a\u304c\u6210\u529f\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u56f3 6. Lightning\u30b1\u30fc\u30d6\u30eb(\u6709\u7dda)\u7d4c\u7531\u306eVPN\u63a5\u7d9a\u306e\u6210\u529f\u7d50\u679c \u4ee5\u964d\u306b\u3001MTU\u8a2d\u5b9a\u306e\u78ba\u8a8d\u3068\u5909\u66f4\u306e\u624b\u9806\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002 powershell\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u3044\u3066\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u306eMTU\u306e\u78ba\u8a8d\u3068\u5909\u66f4\u3092\u884c\u3063\u3066\u3044\u304d\u307e\u3059\u3002 MTU\u8a2d\u5b9a\u306e\u78ba\u8a8d netsh interface ipv4 show interface Idx Met MTU \u72b6\u614b \u540d\u524d --- ---------- ---------- ------------ --------------------------- 19 25 1500 connected \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 5 \u21d2\u300c\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 5\u300dMTU\u306f\u30011500(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024)\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002 \u6700\u5927\u30d5\u30ec\u30fc\u30e0\u30b5\u30a4\u30ba\u306e\u691c\u8a3c ping -f -l 1472 -n 1 www.nic.or.jp nic.or.jp [122.28.47.86]\u306b ping \u3092\u9001\u4fe1\u3057\u3066\u3044\u307e\u3059 1472 \u30d0\u30a4\u30c8\u306e\u30c7\u30fc\u30bf: 122.28.47.86 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =1472 \u6642\u9593 =443ms TTL=47 122.28.47.86 \u306e ping \u7d71\u8a08: \u30d1\u30b1\u30c3\u30c8\u6570: \u9001\u4fe1 = 1\u3001\u53d7\u4fe1 = 1\u3001\u640d\u5931 = 0 (0% \u306e\u640d\u5931)\u3001 \u30e9\u30a6\u30f3\u30c9 \u30c8\u30ea\u30c3\u30d7\u306e\u6982\u7b97\u6642\u9593 (\u30df\u30ea\u79d2): \u6700\u5c0f = 443ms\u3001\u6700\u5927 = 443ms\u3001\u5e73\u5747 = 443ms ping -f -l 1473 -n 1 www.nic.or.jp nic.or.jp [122.28.47.86]\u306b ping \u3092\u9001\u4fe1\u3057\u3066\u3044\u307e\u3059 1473 \u30d0\u30a4\u30c8\u306e\u30c7\u30fc\u30bf: \u30d1\u30b1\u30c3\u30c8\u306e\u65ad\u7247\u5316\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001DF \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 122.28.47.86 \u306e ping \u7d71\u8a08: \u30d1\u30b1\u30c3\u30c8\u6570: \u9001\u4fe1 = 1\u3001\u53d7\u4fe1 = 0\u3001\u640d\u5931 = 1 (100% \u306e\u640d\u5931)\u3001 \u30b5\u30a4\u30ba=1473\u3067\u306f\u30d1\u30b1\u30c3\u30c8\u30ed\u30b9\u304c\u767a\u751f\u3059\u308b\u304c\u3001\u30b5\u30a4\u30ba=1472\u30d0\u30a4\u30c8\u3067\u306f\u767a\u751f\u3057\u3066\u3044\u306a\u3044\u3002 \u21d2\u30d1\u30b1\u30c3\u30c8\u30ed\u30b9\u306e\u767a\u751f\u3057\u306a\u3044MTU\u306e\u6700\u5927\u5024\u306f\u300c1472\u300d\u30d0\u30a4\u30c8 MTU\u8a2d\u5b9a\u306e\u5909\u66f4 netsh interface ipv4 set interface 19 mtu=1472 netsh interface ipv4 show interface Idx Met MTU \u72b6\u614b \u540d\u524d --- ---------- ---------- ------------ --------------------------- 19 25 1472 connected \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 5 \u21d2\u300c\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 5\u300dMTU\u304c\u30011472\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u3002 \u56f3 7. MTU\u306e\u8a2d\u5b9a\u78ba\u8a8d\u3068\u5909\u66f4 IKEv2 \u30d1\u30b1\u30c3\u30c8\u4ea4\u63db\u3068\u30d7\u30ed\u30c8\u30b3\u30eb \u30ec\u30d9\u30eb\u306e\u30c7\u30d0\u30c3\u30b0 - Cisco \u21a9","title":"MTU\u8a2d\u5b9a\u306e\u78ba\u8a8d\u3068\u5909\u66f4"},{"location":"Windows/posh-git/","text":"PowerShell\u3067Git\u306e\u30bf\u30d6\u88dc\u5b8c\u3092\u6709\u52b9\u5316\u3059\u308b Ubuntu\u3067\u306fapt\u304b\u3089Git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067bash\u3067\u306e\u30bf\u30d6\u88dc\u5b8c\u304c\u6709\u52b9\u5316\u3055\u308c\u307e\u3059\u3002 \u3057\u304b\u3057\u3001Windows\u3067\u306fGit for Windows\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3060\u3051\u3067\u306f\u3001\u30bf\u30d6\u88dc\u5b8c\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093\u3002 \u305d\u3053\u3067\u3001posh-git ( GitHub - dahlbyk/posh-git: A PowerShell environment for Git ) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001Windows 10\u4e0a\u306ePowerShell\u3067\u30bf\u30d6\u88dc\u5b8c\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067PowerShell Gallery\u304b\u3089posh-git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001 PowerShell\u306e\u8d77\u52d5\u6642\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u81ea\u52d5\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 posh-git\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Install-Module -Name posh-git -AllowPrerelease \"Import-Module posh-git\" | Add-Content $PROFILE PowerShell\u3092\u958b\u304d\u76f4\u3059\u3068\u3001git\u30b3\u30de\u30f3\u30c9\u306e\u30bf\u30d6\u88dc\u5b8c\u304c\u6709\u52b9\u5316\u3055\u308c\u307e\u3059\u3002 \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 posh-git\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 posh-git\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 Update-Module -Name posh-git -AllowPrerelease","title":"PowerShell\u3067Git\u306e\u30bf\u30d6\u88dc\u5b8c\u3092\u6709\u52b9\u5316\u3059\u308b"},{"location":"Windows/posh-git/#powershellgit","text":"Ubuntu\u3067\u306fapt\u304b\u3089Git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067bash\u3067\u306e\u30bf\u30d6\u88dc\u5b8c\u304c\u6709\u52b9\u5316\u3055\u308c\u307e\u3059\u3002 \u3057\u304b\u3057\u3001Windows\u3067\u306fGit for Windows\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3060\u3051\u3067\u306f\u3001\u30bf\u30d6\u88dc\u5b8c\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093\u3002 \u305d\u3053\u3067\u3001posh-git ( GitHub - dahlbyk/posh-git: A PowerShell environment for Git ) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001Windows 10\u4e0a\u306ePowerShell\u3067\u30bf\u30d6\u88dc\u5b8c\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002","title":"PowerShell\u3067Git\u306e\u30bf\u30d6\u88dc\u5b8c\u3092\u6709\u52b9\u5316\u3059\u308b"},{"location":"Windows/posh-git/#_1","text":"\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067PowerShell Gallery\u304b\u3089posh-git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001 PowerShell\u306e\u8d77\u52d5\u6642\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u81ea\u52d5\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 posh-git\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Install-Module -Name posh-git -AllowPrerelease \"Import-Module posh-git\" | Add-Content $PROFILE PowerShell\u3092\u958b\u304d\u76f4\u3059\u3068\u3001git\u30b3\u30de\u30f3\u30c9\u306e\u30bf\u30d6\u88dc\u5b8c\u304c\u6709\u52b9\u5316\u3055\u308c\u307e\u3059\u3002","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Windows/posh-git/#_2","text":"posh-git\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 posh-git\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 Update-Module -Name posh-git -AllowPrerelease","title":"\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8"},{"location":"Windows/storageBenchmark/","text":"\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u901f\u5ea6\u6e2c\u5b9a \u81ea\u5b85\u30c7\u30b9\u30af\u30c8\u30c3\u30d7PC/\u30ce\u30fc\u30c8PC/\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u901f\u5ea6\u3092\u6e2c\u5b9a\u3057\u305f\u306e\u3067\u8a18\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002 \u6e2c\u5b9a\u30bd\u30d5\u30c8 CrystalDiskMark 7.0.0g x64 (ADMIN\u30e2\u30fc\u30c9) \u8a2d\u5b9a: \u2003\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u306f\u300c1GB (x5)\u300d \u2003\u300cSequential Queues: 8, Thread: 1\u300d\u3068\u300cRandom Queues: 32, Threads: 16\u300d\u3092\u6e2c\u5b9a \u6e2c\u5b9a\u5bfe\u8c61 No. \u6a5f\u7a2e \u30c9\u30e9\u30a4\u30d6\u7a2e\u5225 \u30c7\u30a3\u30b9\u30af\u540d \u63a5\u7d9aI/F 1 \u30c7\u30b9\u30af\u30c8\u30c3\u30d7PC \u30b7\u30b9\u30c6\u30e0SSD CFD CSSD-M2B1TBG3VNF PCIe4.0 x4(NVMe) 2 \u540c\u4e0a \u30c7\u30fc\u30bfSSD INTEL SSDPE2MW400G4 PCIe3.0 x4(NVMe) 3 \u540c\u4e0a NAS No.5 \u306e\u30c9\u30e9\u30a4\u30d6 over SMB 1Gbps Ethernet 4 Surface GO \u30b7\u30b9\u30c6\u30e0SSD TOSHIBA KBG30ZPZ128G PCIe3.0 x4(NVMe) 5 \u304a\u3046\u3061\u30b5\u30fc\u30d0 \u30c7\u30fc\u30bfSSD+HDD \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u8a18\u4e8b\u53c2\u7167 1 \u6e2c\u5b9a\u7d50\u679c MB/s \u3068 IOPS \u3092\u6e2c\u5b9a\u3057\u307e\u3057\u305f\u3002 MB/s table#benchmark_teble_MBPS th, table#benchmark_teble_IOPS th { text-align: center; vertical-align: middle; } table#benchmark_teble_MBPS td, table#benchmark_teble_IOPS td { text-align: right; vertical-align: middle; } No. Sequential Random Read Write Read Write 1 4991.864 1021.249 2272.780 963.961 2 2312.482 1033.822 1033.822 908.450 3 116.039 116.368 112.829 82.975 4 1314.798 125.391 83.797 37.980 5 1219.595 648.890 16.355 129.260 IOPS No. Sequential Random Read Write Read Write 1 4760.6 973.9 554877.9 235342.0 2 2205.4 985.9 448273.7 221789.6 3 110.7 111.0 27546.1 20257.6 4 1253.9 119.6 20458.3 9272.5 5 1163.1 618.8 3992.9 31557.6 var MBPS = [[], [], [], []]; var IOPS = [[], [], [], []]; var data_array = document.getElementById('benchmark_teble_MBPS').getElementsByTagName('td'); for (var i = 0; i < data_array.length; i++) { var data = data_array[i]; MBPS[i%4].push(data.textContent); } var data_array = document.getElementById('benchmark_teble_IOPS').getElementsByTagName('td'); for (var i = 0; i < data_array.length; i++) { var data = data_array[i]; IOPS[i%4].push(data.textContent); } var ctx_MBPS = document.getElementById(\"benchmark_chart_MBPS\"); var ctx_IOPS = document.getElementById(\"benchmark_chart_IOPS\"); var labels = [\"CFD CSSD-M2B1TBG3VNF\", \"INTEL SSDPE2MW400G4\", \"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 over SMB\", \"Surface GO\", \"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\"]; var bgColors = ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)']; var bdColors = ['rgba(255,99,132,1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)']; var i = 0; var chart_MBPS = new Chart(ctx_MBPS, { type: 'bar', data: { labels: labels, datasets: [{ label: 'Sequential Read', data: MBPS[i=0], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Sequential Write', data: MBPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Random Read', data: MBPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Random Write', data: MBPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }] }, options: { scales: { yAxes: [{ scaleLabel: { display: true, labelString: 'MB/s' }, ticks: { beginAtZero:true } }] } } }); var chart_IOPS = new Chart(ctx_IOPS, { type: 'bar', data: { labels: labels, datasets: [{ label: 'Sequential Read', data: IOPS[i=0], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Sequential Write', data: IOPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Random Read', data: IOPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Random Write', data: IOPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }] }, options: { scales: { yAxes: [{ scaleLabel: { display: true, labelString: 'IOPS' }, ticks: { beginAtZero:true } }] } } }); \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u8a18\u4e8b \u3067\u69cb\u7bc9\u3057\u305f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3042\u308a\u30fbReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3002SSD2\u672c\u3001HDD14\u672c\u3067\u69cb\u6210\u3002 \u21a9","title":"\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u901f\u5ea6\u6e2c\u5b9a"},{"location":"Windows/storageBenchmark/#_1","text":"\u81ea\u5b85\u30c7\u30b9\u30af\u30c8\u30c3\u30d7PC/\u30ce\u30fc\u30c8PC/\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u901f\u5ea6\u3092\u6e2c\u5b9a\u3057\u305f\u306e\u3067\u8a18\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002","title":"\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u901f\u5ea6\u6e2c\u5b9a"},{"location":"Windows/storageBenchmark/#_2","text":"CrystalDiskMark 7.0.0g x64 (ADMIN\u30e2\u30fc\u30c9) \u8a2d\u5b9a: \u2003\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u306f\u300c1GB (x5)\u300d \u2003\u300cSequential Queues: 8, Thread: 1\u300d\u3068\u300cRandom Queues: 32, Threads: 16\u300d\u3092\u6e2c\u5b9a","title":"\u6e2c\u5b9a\u30bd\u30d5\u30c8"},{"location":"Windows/storageBenchmark/#_3","text":"No. \u6a5f\u7a2e \u30c9\u30e9\u30a4\u30d6\u7a2e\u5225 \u30c7\u30a3\u30b9\u30af\u540d \u63a5\u7d9aI/F 1 \u30c7\u30b9\u30af\u30c8\u30c3\u30d7PC \u30b7\u30b9\u30c6\u30e0SSD CFD CSSD-M2B1TBG3VNF PCIe4.0 x4(NVMe) 2 \u540c\u4e0a \u30c7\u30fc\u30bfSSD INTEL SSDPE2MW400G4 PCIe3.0 x4(NVMe) 3 \u540c\u4e0a NAS No.5 \u306e\u30c9\u30e9\u30a4\u30d6 over SMB 1Gbps Ethernet 4 Surface GO \u30b7\u30b9\u30c6\u30e0SSD TOSHIBA KBG30ZPZ128G PCIe3.0 x4(NVMe) 5 \u304a\u3046\u3061\u30b5\u30fc\u30d0 \u30c7\u30fc\u30bfSSD+HDD \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u8a18\u4e8b\u53c2\u7167 1","title":"\u6e2c\u5b9a\u5bfe\u8c61"},{"location":"Windows/storageBenchmark/#_4","text":"MB/s \u3068 IOPS \u3092\u6e2c\u5b9a\u3057\u307e\u3057\u305f\u3002","title":"\u6e2c\u5b9a\u7d50\u679c"},{"location":"Windows/storageBenchmark/#mbs","text":"table#benchmark_teble_MBPS th, table#benchmark_teble_IOPS th { text-align: center; vertical-align: middle; } table#benchmark_teble_MBPS td, table#benchmark_teble_IOPS td { text-align: right; vertical-align: middle; } No. Sequential Random Read Write Read Write 1 4991.864 1021.249 2272.780 963.961 2 2312.482 1033.822 1033.822 908.450 3 116.039 116.368 112.829 82.975 4 1314.798 125.391 83.797 37.980 5 1219.595 648.890 16.355 129.260","title":"MB/s"},{"location":"Windows/storageBenchmark/#iops","text":"No. Sequential Random Read Write Read Write 1 4760.6 973.9 554877.9 235342.0 2 2205.4 985.9 448273.7 221789.6 3 110.7 111.0 27546.1 20257.6 4 1253.9 119.6 20458.3 9272.5 5 1163.1 618.8 3992.9 31557.6 var MBPS = [[], [], [], []]; var IOPS = [[], [], [], []]; var data_array = document.getElementById('benchmark_teble_MBPS').getElementsByTagName('td'); for (var i = 0; i < data_array.length; i++) { var data = data_array[i]; MBPS[i%4].push(data.textContent); } var data_array = document.getElementById('benchmark_teble_IOPS').getElementsByTagName('td'); for (var i = 0; i < data_array.length; i++) { var data = data_array[i]; IOPS[i%4].push(data.textContent); } var ctx_MBPS = document.getElementById(\"benchmark_chart_MBPS\"); var ctx_IOPS = document.getElementById(\"benchmark_chart_IOPS\"); var labels = [\"CFD CSSD-M2B1TBG3VNF\", \"INTEL SSDPE2MW400G4\", \"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 over SMB\", \"Surface GO\", \"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\"]; var bgColors = ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)']; var bdColors = ['rgba(255,99,132,1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)']; var i = 0; var chart_MBPS = new Chart(ctx_MBPS, { type: 'bar', data: { labels: labels, datasets: [{ label: 'Sequential Read', data: MBPS[i=0], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Sequential Write', data: MBPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Random Read', data: MBPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Random Write', data: MBPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }] }, options: { scales: { yAxes: [{ scaleLabel: { display: true, labelString: 'MB/s' }, ticks: { beginAtZero:true } }] } } }); var chart_IOPS = new Chart(ctx_IOPS, { type: 'bar', data: { labels: labels, datasets: [{ label: 'Sequential Read', data: IOPS[i=0], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Sequential Write', data: IOPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Random Read', data: IOPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }, { label: 'Random Write', data: IOPS[++i], backgroundColor : bgColors[i], borderColor : bdColors[i], borderWidth: 1 }] }, options: { scales: { yAxes: [{ scaleLabel: { display: true, labelString: 'IOPS' }, ticks: { beginAtZero:true } }] } } }); \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u8a18\u4e8b \u3067\u69cb\u7bc9\u3057\u305f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3042\u308a\u30fbReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3002SSD2\u672c\u3001HDD14\u672c\u3067\u69cb\u6210\u3002 \u21a9","title":"IOPS"},{"location":"Windows/windowsShutdownBlockSetting/","text":"Windows10 \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30d6\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a Window10\u3067\u306fOS\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\u306b\u3001\u7d42\u4e86\u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u304c\u958b\u3044\u305f\u307e\u307e\u306b\u306a\u3063\u3066\u3044\u305f\u308a\u3001\u672a\u4fdd\u5b58\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3059\u308b\u304b\u78ba\u8a8d\u3059\u308b\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u958b\u3044\u305f\u307e\u307e\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3001\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3066\u5f85\u6a5f\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u300c\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u305f\u3064\u3082\u308a\u3067\u5bdd\u3066\u8d77\u304d\u305f\u3089PC\u304c\u3064\u304d\u3063\u3071\u306a\u3057\u3060\u3063\u305f\u300d\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u5ea6\u3005\u3042\u308b\u305f\u3081\u3001\u3067\u304d\u308c\u3070\u305d\u306e\u307e\u307e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u3066\u6b32\u3057\u3044\u3067\u3059\u3002 \u7279\u5b9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3060\u3051\u3092\u7d42\u4e86\u3055\u305b\u305f\u3044 \u3082\u3057\u3001\u300c\u7279\u5b9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u7d42\u4e86\u3057\u3066\u3082\u826f\u3044\u304c\u3001Excel\u3084Word\u3067\u672a\u4fdd\u5b58\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u5408\u306a\u3069\u3001\u4ed6\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u5f37\u5236\u7d42\u4e86\u3057\u3066\u6b32\u3057\u304f\u306a\u3044\u3002\u300d \u3068\u3044\u3063\u305f\u5834\u5408\u306f\u3001\u5168\u3066\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5f37\u5236\u7d42\u4e86\u3055\u305b\u308b\u3068\u672a\u4fdd\u5b58\u306e\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u306a\u308b\u305f\u3081\u3001\u305d\u308c\u306f\u56f0\u308a\u307e\u3059\u3002 \u305d\u3046\u3044\u3063\u305f\u5834\u5408\u306f\u3001\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30bf\u30b9\u30af\u3092\u65b0\u898f\u4f5c\u6210\u3057\u307e\u3059\u3002 [\u30bf\u30b9\u30af\u306e\u4f5c\u6210] [\u5168\u822c]\u30bf\u30d6 > [\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30aa\u30d7\u30b7\u30e7\u30f3] [\u30e6\u30fc\u30b6\u304c\u30ed\u30b0\u30aa\u30f3\u3057\u3066\u3044\u308b\u3069\u3046\u304b\u306b\u304b\u304b\u308f\u3089\u305a\u5b9f\u884c\u3059\u308b] \u3092\u9078\u629e [\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58\u3057\u306a\u3044] \u3092\u30c1\u30a7\u30c3\u30af [\u30c8\u30ea\u30ac\u30fc]\u30bf\u30d6 > [\u65b0\u898f] \u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 [\u30bf\u30b9\u30af\u306e\u958b\u59cb] \u30a4\u30d9\u30f3\u30c8\u6642 [\u8a2d\u5b9a] \u57fa\u672c [\u30ed\u30b0] Application [\u30bd\u30fc\u30b9] Winsrv [\u30a4\u30d9\u30f3\u30c8 ID] 10001 [\u64cd\u4f5c]\u30bf\u30d6 > [\u65b0\u898f] \u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 [\u30d7\u30ed\u30b0\u30e9\u30e0\u540d] \u306e\u7b87\u6240\u306f\u3001\u5f37\u5236\u7d42\u4e86\u3055\u305b\u305f\u3044\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u8907\u6570\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 [\u64cd\u4f5c] \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u958b\u59cb [\u30d7\u30ed\u30b0\u30e9\u30e0] powershell.exe [\u5f15\u6570\u306e\u8ffd\u52a0] -Command \"(Get-Process -Name @(\\\"[\u30d7\u30ed\u30b0\u30e9\u30e0\u540d]\\\")).Kill();\" Example \u300c\u30e1\u30e2\u5e33\u300d\u3068\u300c\u30ef\u30fc\u30c9\u30d1\u30c3\u30c9\u300d\u3092\u5f37\u5236\u7d42\u4e86\u3055\u305b\u305f\u3044\u5834\u5408\u306f -Command \"(Get-Process -Name @(\\\"notepad\\\", \\\"wordpad\\\")).Kill();\" \u3068\u6307\u5b9a\u3059\u308b\u3002 \u3053\u308c\u3067\u3001\u8a2d\u5b9a\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u307f\u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\u306b\u5f37\u5236\u7d42\u4e86\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3059\u3079\u3066\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5236\u7d42\u4e86\u3055\u305b\u305f\u3044 \u5168\u3066\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5236\u7d42\u4e86\u3057\u3066\u826f\u3044\u5834\u5408\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u30dd\u30ea\u30b7\u30fc\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u306e\u30d6\u30ed\u30c3\u30af\u81ea\u4f53\u3092\u7121\u52b9\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 [\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u69cb\u6210] > [\u7ba1\u7406\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8] > [\u30b7\u30b9\u30c6\u30e0] > [\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3] > [\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u304b\u53d6\u308a\u6d88\u3059\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u81ea\u52d5\u7d42\u4e86\u3092\u30aa\u30d5\u306b\u3059\u308b] \u3067\u3001 \u30d6\u30ed\u30c3\u30af\u306e\u6709\u52b9/\u7121\u52b9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002","title":"Windows10 \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30d6\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a"},{"location":"Windows/windowsShutdownBlockSetting/#windows10","text":"Window10\u3067\u306fOS\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\u306b\u3001\u7d42\u4e86\u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u304c\u958b\u3044\u305f\u307e\u307e\u306b\u306a\u3063\u3066\u3044\u305f\u308a\u3001\u672a\u4fdd\u5b58\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3059\u308b\u304b\u78ba\u8a8d\u3059\u308b\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u958b\u3044\u305f\u307e\u307e\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3001\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3066\u5f85\u6a5f\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u300c\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u305f\u3064\u3082\u308a\u3067\u5bdd\u3066\u8d77\u304d\u305f\u3089PC\u304c\u3064\u304d\u3063\u3071\u306a\u3057\u3060\u3063\u305f\u300d\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u5ea6\u3005\u3042\u308b\u305f\u3081\u3001\u3067\u304d\u308c\u3070\u305d\u306e\u307e\u307e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u3066\u6b32\u3057\u3044\u3067\u3059\u3002","title":"Windows10 \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30d6\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a"},{"location":"Windows/windowsShutdownBlockSetting/#_1","text":"\u3082\u3057\u3001\u300c\u7279\u5b9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u7d42\u4e86\u3057\u3066\u3082\u826f\u3044\u304c\u3001Excel\u3084Word\u3067\u672a\u4fdd\u5b58\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u5408\u306a\u3069\u3001\u4ed6\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u5f37\u5236\u7d42\u4e86\u3057\u3066\u6b32\u3057\u304f\u306a\u3044\u3002\u300d \u3068\u3044\u3063\u305f\u5834\u5408\u306f\u3001\u5168\u3066\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5f37\u5236\u7d42\u4e86\u3055\u305b\u308b\u3068\u672a\u4fdd\u5b58\u306e\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u306a\u308b\u305f\u3081\u3001\u305d\u308c\u306f\u56f0\u308a\u307e\u3059\u3002 \u305d\u3046\u3044\u3063\u305f\u5834\u5408\u306f\u3001\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30bf\u30b9\u30af\u3092\u65b0\u898f\u4f5c\u6210\u3057\u307e\u3059\u3002 [\u30bf\u30b9\u30af\u306e\u4f5c\u6210] [\u5168\u822c]\u30bf\u30d6 > [\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30aa\u30d7\u30b7\u30e7\u30f3] [\u30e6\u30fc\u30b6\u304c\u30ed\u30b0\u30aa\u30f3\u3057\u3066\u3044\u308b\u3069\u3046\u304b\u306b\u304b\u304b\u308f\u3089\u305a\u5b9f\u884c\u3059\u308b] \u3092\u9078\u629e [\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58\u3057\u306a\u3044] \u3092\u30c1\u30a7\u30c3\u30af [\u30c8\u30ea\u30ac\u30fc]\u30bf\u30d6 > [\u65b0\u898f] \u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 [\u30bf\u30b9\u30af\u306e\u958b\u59cb] \u30a4\u30d9\u30f3\u30c8\u6642 [\u8a2d\u5b9a] \u57fa\u672c [\u30ed\u30b0] Application [\u30bd\u30fc\u30b9] Winsrv [\u30a4\u30d9\u30f3\u30c8 ID] 10001 [\u64cd\u4f5c]\u30bf\u30d6 > [\u65b0\u898f] \u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 [\u30d7\u30ed\u30b0\u30e9\u30e0\u540d] \u306e\u7b87\u6240\u306f\u3001\u5f37\u5236\u7d42\u4e86\u3055\u305b\u305f\u3044\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u8907\u6570\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 [\u64cd\u4f5c] \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u958b\u59cb [\u30d7\u30ed\u30b0\u30e9\u30e0] powershell.exe [\u5f15\u6570\u306e\u8ffd\u52a0] -Command \"(Get-Process -Name @(\\\"[\u30d7\u30ed\u30b0\u30e9\u30e0\u540d]\\\")).Kill();\" Example \u300c\u30e1\u30e2\u5e33\u300d\u3068\u300c\u30ef\u30fc\u30c9\u30d1\u30c3\u30c9\u300d\u3092\u5f37\u5236\u7d42\u4e86\u3055\u305b\u305f\u3044\u5834\u5408\u306f -Command \"(Get-Process -Name @(\\\"notepad\\\", \\\"wordpad\\\")).Kill();\" \u3068\u6307\u5b9a\u3059\u308b\u3002 \u3053\u308c\u3067\u3001\u8a2d\u5b9a\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u307f\u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\u306b\u5f37\u5236\u7d42\u4e86\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"\u7279\u5b9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3060\u3051\u3092\u7d42\u4e86\u3055\u305b\u305f\u3044"},{"location":"Windows/windowsShutdownBlockSetting/#_2","text":"\u5168\u3066\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5236\u7d42\u4e86\u3057\u3066\u826f\u3044\u5834\u5408\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u30dd\u30ea\u30b7\u30fc\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u306e\u30d6\u30ed\u30c3\u30af\u81ea\u4f53\u3092\u7121\u52b9\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 [\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u69cb\u6210] > [\u7ba1\u7406\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8] > [\u30b7\u30b9\u30c6\u30e0] > [\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3] > [\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u304b\u53d6\u308a\u6d88\u3059\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u81ea\u52d5\u7d42\u4e86\u3092\u30aa\u30d5\u306b\u3059\u308b] \u3067\u3001 \u30d6\u30ed\u30c3\u30af\u306e\u6709\u52b9/\u7121\u52b9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002","title":"\u3059\u3079\u3066\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5236\u7d42\u4e86\u3055\u305b\u305f\u3044"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/","text":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u307e\u305a\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306b\u3064\u3044\u3066\u306f\u3001\u79c1\u306e\u8a18\u4e8b\u3088\u308a\u3082\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u8aad\u3080\u65b9\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 - \u85a9\u6469\u85e9\u4e2d\u4ed9\u9053\u8568\u5bbf\u5225\u90b8 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068\u306fWindows8, 10/Windows Server 2012\u4ee5\u964d\u3067\u5229\u7528\u3067\u304d\u308b\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5197\u9577\u5316\u6a5f\u80fd\u3067\u3059\u3002 \u8907\u6570\u306eHDD\u3084SSD\u3092\u675f\u306d\u3066\u3001\u5197\u9577\u6027\u306e\u3042\u308b\u30c7\u30a3\u30b9\u30af\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f3c\u305f\u3088\u3046\u306a\u6a5f\u80fd\u3068\u3057\u3066\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e0b\u8a18\u306e\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u30b5\u30a4\u30ba\u306e\u7570\u306a\u308b\u30c7\u30a3\u30b9\u30af\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3082\u5229\u7528\u3067\u304d\u308b \u5b9f\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u4ee5\u4e0a\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3067\u304d\u308b \u904b\u7528\u958b\u59cb\u5f8c\u306bHDD/SSD\u306e\u8ffd\u52a0\u3057\u3066\u3001\u5bb9\u91cf\u306e\u8ffd\u52a0\u304c\u3067\u304d\u308b \u30c7\u30fc\u30bf\u91cd\u8907\u9664\u53bb\u6a5f\u80fd\u304c\u3042\u308b \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u3088\u308a\u306f\u3001Linux\u306eLVM\u304c\u8fd1\u3044\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002 \u307e\u305f\u3001\u5f8c\u8ff0\u306eReFS\u3068\u4f75\u305b\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30ec\u30d9\u30eb\u3067\u306e\u6574\u5408\u6027\u306e\u62c5\u4fdd\u3001\u30a8\u30e9\u30fc\u6642\u306e\u81ea\u52d5\u4fee\u6b63\u304c\u53ef\u80fd\u3067\u3059\u3002 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u69cb\u6210\u8981\u7d20 \u7269\u7406\u30c7\u30a3\u30b9\u30af(Physical Disk) \u7269\u7406\u7684\u306aHDD\u3001SSD\u3092\u6307\u3057\u307e\u3059\u3002\u63a5\u7d9a\u65b9\u6cd5\u306fSAS,iSCSI,Fiber Channel\u306a\u3069\u306e\u30b5\u30fc\u30d0\u5411\u3051\u306e\u3082\u306e\u304b\u3089NVMe,SATA,USB\u306a\u3069\u3067\u3082(\u4e00\u5fdc)\u69cb\u6210\u53ef\u80fd\u3067\u3059\u3002 \u307e\u305f\u3001Windows Server 2019\u3067\u306fIntel\u306eOptane DC Persistent Memory\u3084NVDIMM-N\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af(Virtual Disk) \u5b9f\u969b\u306b\u30e6\u30fc\u30b6\u304c\u5229\u7528\u3059\u308b\u3001\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u7684\u306a\u30c7\u30a3\u30b9\u30af\u3067\u3059\u3002 \u5f8c\u8ff0\u306e\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0(Thin Provisioning)\u3068\u3044\u3046\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u4ee5\u4e0a\u306e\u30b5\u30a4\u30ba\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb(Storage Pool) \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u307e\u3068\u3081\u3066\u30d7\u30fc\u30eb\u306b\u3057\u305f\u3082\u306e\u3067\u3059\u3002 \u3053\u3053\u304b\u3089\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u5207\u308a\u51fa\u3057\u3066\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u8a18\u61b6\u57df\u968e\u5c64(Storage Tier) SSD\u3068HDD\u306a\u3069\u306e\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u306e\u7570\u306a\u308b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u968e\u5c64\u69cb\u9020\u3092\u3068\u308b\u3053\u3068\u3067\u3001 SSD\u3092\u8aad\u307f\u53d6\u308a\u30fb\u66f8\u304d\u8fbc\u307f\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u3088\u3046\u306b\u5229\u7528\u3057\u3066\u5197\u9577\u5316\u306b\u3088\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u4f4e\u4e0b\u3092\u88dc\u306a\u3046\u3053\u3068\u306e\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001SSD\u968e\u5c64\u3068HDD\u968e\u5c64\u306e\u305d\u308c\u305e\u308c\u3067\u7570\u306a\u308b\u5197\u9577\u5316\u65b9\u6cd5\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u95a2\u9023\u3059\u308b\u6a5f\u80fd\u3068\u3057\u3066\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u30c0\u30a4\u30ec\u30af\u30c8\u300d\u3001\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u30ec\u30d7\u30ea\u30ab\u300d\u3068\u3044\u3063\u305f\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002 \u5197\u9577\u5316\u306e\u7a2e\u985e \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30c7\u30a3\u30b9\u30af\u306e\u5197\u9577\u5316\u306b\u3064\u3044\u3066\u3001\u4e0b\u8a18\u306e4\u7a2e\u985e\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u3002 \u7a2e\u985e \u5197\u9577\u5316 \u5229\u7528\u53ef\u80fd\u306a \u30c7\u30a3\u30b9\u30af\u5bb9\u91cf \u6700\u4f4e\u9650\u5fc5\u8981\u306a \u30c7\u30a3\u30b9\u30af\u672c\u6570 \u30b7\u30f3\u30d7\u30eb \u5197\u9577\u5316\u3092\u884c\u308f\u306a\u3044\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3068\u540c\u7b49 1\u672c \u53cc\u65b9\u5411\u30df\u30e9\u30fc \u30c7\u30fc\u30bf\u30922\u672c\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u534a\u5206 2\u672c 3\u65b9\u5411\u30df\u30e9\u30fc \u30c7\u30fc\u30bf\u30923\u672c\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e1/3 3\u672c \u30d1\u30ea\u30c6\u30a3 \u30c7\u30fc\u30bf\u30923\u672c\u4ee5\u4e0a\u306e\u30c7\u30a3\u30b9\u30af\u306b \u5206\u6563\u3057\u3066\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e2/3\uff5e7/8 3\u672c \u30c7\u30e5\u30a2\u30eb\u30d1\u30ea\u30c6\u30a3 \u30c7\u30fc\u30bf\u30927\u672c\u4ee5\u4e0a\u306e\u30c7\u30a3\u30b9\u30af\u306b \u5206\u6563\u3057\u3066\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e4/7\uff5e 7\u672c \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u5272\u308a\u5f53\u3066 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30012\u7a2e\u985e\u306e\u30c7\u30a3\u30b9\u30af\u5272\u308a\u5f53\u3066\u65b9\u5f0f\u304c\u3042\u308a\u307e\u3059\u3002 \u56fa\u5b9a(Fixed) \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u65b9\u5f0f\u3002\u3044\u305f\u3063\u3066\u30b7\u30f3\u30d7\u30eb\u3002 \u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0(Thin Provisioning) \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u3067\u306f\u306a\u304f\u3001\u30c7\u30fc\u30bf\u66f8\u304d\u8fbc\u307f\u6642\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3078\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u65b9\u5f0f\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u7dcf\u5bb9\u91cf\u3088\u308a\u3082\u5927\u304d\u306a\u30b5\u30a4\u30ba\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u306b\u306f\u30d7\u30fc\u30eb\u3078\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3088\u3044\u3002 \u53cd\u9762\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5bb9\u91cf\u306b\u4f59\u88d5\u304c\u3042\u308b\u3088\u3046\u306b\u898b\u3048\u3066\u3082\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u3066\u30c7\u30fc\u30bf\u304c\u66f8\u304d\u8fbc\u3081\u306a\u3044\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u767a\u751f\u3057\u3046\u308b\u3002 \u30c7\u30a3\u30b9\u30af\u6545\u969c\u6642\u306e\u56de\u5fa9 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u3001\u30c7\u30a3\u30b9\u30af\u304c\u6545\u969c\u3057\u305f\u5834\u5408\u306b\u81ea\u52d5\u7684\u306b\u5197\u9577\u6027\u3092\u56de\u5fa9\u3059\u308b\u305f\u3081\u306e\u300c\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u300d\u30c7\u30a3\u30b9\u30af\u3092\u5272\u308a\u5f53\u3066\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u30c7\u30a3\u30b9\u30af\u306e\u6545\u969c\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u3067\u3082\u3001\u6545\u969c\u524d\u3068\u540c\u3058\u72b6\u614b\u306b\u623b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3001\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u5272\u308a\u5f53\u3066\u305a\u306b\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u3053\u306e\u5834\u5408\u3001\u30c7\u30a3\u30b9\u30af\u6545\u969c\u6642\u306b\u306f\u30d7\u30fc\u30eb\u5185\u306e\u4ed6\u306e\u30c7\u30a3\u30b9\u30af\u306b\u30df\u30e9\u30fc\u3084\u30d1\u30ea\u30c6\u30a3\u60c5\u5831\u3092\u5206\u6563\u3055\u305b\u3066\u5197\u9577\u6027\u3092\u56de\u5fa9\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u69cb\u6210\u306e\u4f8b \u4e0b\u8a18\u306e\u56f3\u3067\u306f200GB\u306eSSD\u30922\u672c\u3001500GB\u306eHDD\u30922\u672c\u30011TB\u306eHDD\u30922\u672c\u3092\u4f7f\u7528\u3057\u3066\u5408\u8a08\u30b5\u30a4\u30ba3.4TB\u306e\u30d7\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001HDD\u304c\u6545\u969c\u3057\u305f\u3068\u304d\u306e\u305f\u3081\u306b\u30011TB\u306eHDD\u3092\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3068\u3057\u3066\u5272\u308a\u5f53\u3066\u3066\u3044\u307e\u3059\u3002 \u56f3\u306e\u5de6\u4e0a \u4f8b1 \u3067\u306f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u30661TB\u306e\u30df\u30e9\u30fc\u3067\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u300c\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u300d\u3092\u7528\u3044\u305a\u306b\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u4f5c\u6210\u6642\u306b1TB\u00d72(\u30df\u30e9\u30fc\u306a\u306e\u30672\u500d)\u306e\u5bb9\u91cf\u5206\u306e\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u78ba\u4fdd\u3057\u3066\u3044\u307e\u3059\u3002 \u4e00\u65b9\u3001\u56f3\u306e\u53f3\u4e0a \u4f8b2 \u306e\u3088\u3046\u306b\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u7528\u3044\u305a\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u3053\u3061\u3089\u306f\u300c\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u300d\u3092\u7528\u3044\u3066\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u3088\u308a\u3082\u5927\u304d\u30444TB\u306e\u30d1\u30ea\u30c6\u30a3\u3067\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u56f3\uff1a \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u69cb\u6210\u4f8b \u4f8b\uff11\u306e\u30c7\u30a3\u30b9\u30af\u306e\u69cb\u6210\u65b9\u6cd5 # \u30d7\u30fc\u30eb\u306b\u8a2d\u5b9a\u3059\u308bSSD/HDD\u3092\u53d6\u5f97 $PhysicalDisks = Get-PhysicalDisk 200GB-SSD-1, 200GB-SSD-2, 500GB-HDD-1, 500GB-HDD-2, 1TB-HDD-1, 1TB-HDD-2, 1TB-HDD-3 # \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 Get-StorageSubSystem | New-StoragePool \u2013FriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' \u2013PhysicalDisks $PhysicalDisks # \u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u8a2d\u5b9a Set-PhysicalDisk 1TB-HDD-3 -Usase HotSpare # SSD\u306e\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f5c\u6210 $SSDTier = New-StorageTier -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FriendlyName 'SSD\u968e\u5c64' -MediaType SSD -ResiliencySettingName Mirror -ProvisioningType Fixed # HDD\u306e\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f5c\u6210 $HDDTier = New-StorageTier -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FriendlyName 'HDD\u968e\u5c64' -MediaType HDD -ResiliencySettingName Parity -ProvisioningType Fixed -NumberOfColumns 4 # ReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 # \u30b5\u30a4\u30ba\u6307\u5b9a\u306fSSD:200GB\u3001HDD:1TB(\u30d0\u30a4\u30c8\u5358\u4f4d) New-Volume -FriendlyName '\u4f8b\uff11' -WriteCacheSize 16GB -StorageTiers $SSDTier,$HDDTier -StorageTierSizes 214748364800,1099511627776 \u4f8b\uff12\u306e\u30c7\u30a3\u30b9\u30af\u306e\u69cb\u6210\u65b9\u6cd5 # \u30d7\u30fc\u30eb\u306b\u8a2d\u5b9a\u3059\u308bSSD/HDD\u3092\u53d6\u5f97 $PhysicalDisks = Get-PhysicalDisk 200GB-SSD-1, 200GB-SSD-2, 500GB-HDD-1, 500GB-HDD-2, 1TB-HDD-1, 1TB-HDD-2, 1TB-HDD-3 # \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 Get-StorageSubSystem | New-StoragePool \u2013FriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' \u2013PhysicalDisks $PhysicalDisks # \u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u8a2d\u5b9a(\u3053\u3053\u307e\u3067\u306f\u4f8b1\u3068\u540c\u3058) Set-PhysicalDisk 1TB-HDD-3 -Usase HotSpare # NTFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 New-Volume -FriendlyName '\u4f8b\uff12' -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FileSystem NTFS -DriveLetter G -Size 4TB -ResiliencySettingName Mirror -ProvisioningType Thin Resilient File System(ReFS) Windows Server 2012\u4ee5\u964d\u3001\u3082\u3057\u304f\u306f Windows10 Pro for Workstation\u304a\u3088\u3073Enterprise \u3067\u5229\u7528\u3067\u304d\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u5f93\u6765\u306eWindows\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3042\u308bNTFS\u3068\u6bd4\u8f03\u3057\u3066\u3001\u4fe1\u983c\u6027\u30fb\u53ef\u7528\u6027\u30fb\u62e1\u5f35\u6027\u306b\u512a\u308c\u3066\u3044\u308b\u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u500b\u4eba\u3067\u5229\u7528\u3059\u308b\u5834\u5408\u3001Windows10 Pro for Workstation\u3067\u306e\u5229\u7528\u304c\u6700\u6709\u529b\u306e\u5019\u88dc\u3068\u306a\u308a\u307e\u3059\u3002 ReFS\u306e\u7279\u5fb4 \u4fe1\u983c\u6027 \u300c\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u300d\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u6642\u306b\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u306e\u691c\u8a3c\u3068\u30a8\u30e9\u30fc\u4fee\u6b63\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u5168\u4f53\u3001\u30d5\u30a9\u30eb\u30c0\u5358\u4f4d\u307e\u305f\u306f\u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u3067\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u30a8\u30e9\u30fc\u306e\u30c1\u30a7\u30c3\u30af\u3068\u4fee\u6b63\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u53ef\u7528\u6027 \u7a3c\u50cd\u72b6\u614b\u3067\u306e\u30c7\u30fc\u30bf\u306e\u30a8\u30e9\u30fc\u4fee\u6b63\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4fdd\u5b88\u6027 \u3082\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3067\u7834\u640d\u3057\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3001Windows\u306b\u6a19\u6e96\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b refsutil \u3068\u3044\u3046\u30c4\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u53ef\u80fd\u306a\u9650\u308a\u306e\u30c7\u30fc\u30bf\u30fb\u30b5\u30eb\u30d9\u30fc\u30b8\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u6027\u80fd \u30b3\u30d4\u30fc\u30fb\u30aa\u30f3\u30fb\u30e9\u30a4\u30c8\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\u3001Hyper-V\u306a\u3069\u3067\u4f7f\u7528\u3055\u308c\u308b\u56fa\u5b9a\u30b5\u30a4\u30ba\u306evhdx\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306a\u3069\u306f\u6570\u79d2\u3067\u5b8c\u4e86\u3057\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u7d30\u304b\u3044\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u306e\u901f\u5ea6\u306a\u3069\u306b\u3064\u3044\u3066\u306f\u3042\u307e\u308a\u5f97\u610f\u3067\u7121\u304f\u3001\u3042\u304f\u307e\u3067\u30b5\u30fc\u30d0\u306a\u3069\u3067\u306e\u4fe1\u983c\u6027\u306b\u91cd\u70b9\u3092\u304a\u3044\u305f\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001Windows OS\u306e\u8d77\u52d5\u30c7\u30a3\u30b9\u30af\u306bReFS\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6709\u52b9\u5316\u65b9\u6cd5 ReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u4f5c\u6210\u3057\u305f\u6bb5\u968e\u3067\u306f\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u7121\u52b9\u306e\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u6709\u52b9\u5316\u3059\u308b\u305f\u3081\u306b\u306f\u3001PowerShell\u4e0a\u3067 Set-FileIntegrity \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u5168\u4f53\u30fb\u30d5\u30a9\u30eb\u30c0\u5358\u4f4d\u30fb\u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u306e\u3044\u305a\u308c\u3067\u3082\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3068\u78ba\u8a8d # E\u30c9\u30e9\u30a4\u30d6\u5168\u4f53\u3067\u6709\u52b9\u5316 Set-FileIntegrity E: -Enable $True # F:\\Docs\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u3092\u6709\u52b9\u5316 Set-FileIntegrity F:\\Docs\\ -Enable $True # F:\\Secret\\Movie.mp4\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3067\u6709\u52b9\u5316 Set-FileIntegrity F:\\Secret\\Movie.mp4 -Enable $True # \u78ba\u8a8d Get-FileIntegrity -FileName 'F:\\Secret\\Movie.mp4' Get-ChildItem -Recurse F:\\Docs\\ | Get-FileIntegrity \u307e\u305f\u3001\u300cData Integrity Scan\u300d\u3068\u547c\u3070\u308c\u308b\u30bf\u30b9\u30af\u304c\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306b\u767b\u9332\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u306e\u30bf\u30b9\u30af\u3067\u5b9a\u671f\u7684\u306b\u5168\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u53d6\u308a\u30c1\u30a7\u30c3\u30af\u3068\u30a8\u30e9\u30fc\u4fee\u6b63\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001Windows10\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u30c8\u30ea\u30ac\u30fc\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u6709\u52b9\u5316\u304c\u5fc5\u8981\u3067\u3059\u3002 Tip \u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u304b\u3089\u3001\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30e9\u30a4\u30d6\u30e9\u30ea\u2192Microsoft\u2192Windows\u2192Data Integrity Scan\u5185\u306e\u30bf\u30b9\u30af\u300cData Integrity Scan\u300d\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3001\u30c8\u30ea\u30ac\u30fc\u30bf\u30d6\u3067\u5404\u30c8\u30ea\u30ac\u30fc\u306e\u7de8\u96c6\u753b\u9762\u304b\u3089\u300c\u6709\u52b9\u300d\u306b\u30c1\u30a7\u30c3\u30af \u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3(Mirror-accelerated Parity) \u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3068\u306f\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u6a5f\u80fd\u3067\u3001\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u7570\u306a\u308b\u306e\u56de\u5fa9\u6027\u3092\u5099\u3048\u305f\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u3053\u308c\u306f\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3001\u304a\u3088\u3073ReFS\u3068\u3044\u3063\u305f\u6a5f\u80fd\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 Windows Server 2016 Datacenter/Windows Server 2019 Datacenter\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3 - Microsoft Docs \u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8 \u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u3001\u305d\u308c\u305e\u308c\u306e\u56de\u5fa9\u6027\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u56de\u5fa9\u6027\u306e\u7a2e\u985e \u30e1\u30ea\u30c3\u30c8 \u30c7\u30e1\u30ea\u30c3\u30c8 \u30df\u30e9\u30fc \u66f8\u304d\u8fbc\u307f\u6027\u80fd\u304c\u9ad8\u3044 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u5229\u7528\u52b9\u7387\u304c\u60aa\u3044 \u30d1\u30ea\u30c6\u30a3 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u5229\u7528\u52b9\u7387\u304c\u826f\u3044 \u66f8\u304d\u8fbc\u307f\u6bce\u306b\u30d1\u30ea\u30c6\u30a3\u3092\u518d\u8a08\u7b97\u3059\u308b\u305f\u3081 \u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u304c\u4f4e\u3044 \u4e0a\u8a18\u306e\u30c7\u30e1\u30ea\u30c3\u30c8\u3092\u88dc\u3046\u305f\u3081\u306b\u3001\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u4e21\u65b9\u306e\u56de\u5fa9\u6027\u3092\u6301\u305f\u305b\u3066\u3001 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u9ad8\u5229\u7528\u52b9\u7387\u3068\u9ad8\u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u3092\u4e21\u7acb \u3059\u308b\u6a5f\u80fd\u304c\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3067\u3059\u3002 \u304a\u3053\u3068\u308f\u308a \u672c\u6765\u3001\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001Windows Server2016 Datacenter\u4ee5\u964d\u306eOS\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306fWindows10 Pro for Workstation\u3067\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u305f\u3002 \u516c\u5f0f\u306b\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u74b0\u5883\u3067\u3059\u306e\u3067\u3001\u5c06\u6765\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306a\u3069\u3067\u6b63\u5e38\u306b\u5229\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u6709\u308b\u3053\u3068\u3092\u3001\u4e8b\u524d\u306b\u304a\u65ad\u308a\u3057\u3066\u304a\u304d\u307e\u3059\u3002 \u30c7\u30a3\u30b9\u30af\u69cb\u7bc9 \u4f7f\u7528\u3057\u305f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u4ed5\u69d8\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002 CPU Intel Pentium Gold G4500@3.5GHz Memory DDR4-2400 32GBGB (Dual Channel) SSD AGI 256G16AI198 256GB x2 (PCI-E 3.0 x4) HDD WDC WD60EZRZ 6TB x6 (5400rpm SATA) + ST10000VN0004 10TB x7 (7200rpm SATA) OS Windows 10 Pro for Workstations \u4e0b\u8a18\u306e\u56f3\u306e\u69d8\u306a\u69cb\u6210\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002 \u56f3: \u3067\u306f\u3001\u5b9f\u969b\u306bSSD:200GB + HDD:32TB \u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3059\u3002 # SSD\u968e\u5c64\u3092\u4f5c\u6210 $SSDTier = New-StorageTier -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FriendlyName 'SSD\u968e\u5c64' -MediaType SSD -ResiliencySettingName Mirror -ProvisioningType Fixed # HDD\u968e\u5c64\u3092\u4f5c\u6210 NumberOfColumns\u306fHDD\u306e\u672c\u6570\u306b\u5408\u308f\u305b\u3066'6'\u3092\u8a2d\u5b9a $HDDTier = New-StorageTier -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FriendlyName 'HDD\u968e\u5c64' -MediaType HDD -ResiliencySettingName Parity -ProvisioningType Fixed -NumberOfColumns 6 # \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 \u30c9\u30e9\u30a4\u30d6\u30ec\u30bf\u30fc\u306f'Z'\u3092\u5272\u5f53\u3066 New-Volume -FriendlyName 'Disk' -DriveLetter Z -FileSystem ReFS -WriteCacheSize 16GB -StorageTiers $SSDTier,$HDDTier -StorageTierSizes 214748364800,35184372088832 # \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u3092ON Set-FileIntegrity Z: -Enable $true \u30d9\u30f3\u30c1\u30de\u30fc\u30af \u3068\u308a\u3042\u3048\u305a\u3001\u30a8\u30e9\u30fc\u7121\u304f\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u6761\u4ef6\u3067\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u53d6\u3063\u3066\u307f\u307e\u3059\u3002 \u4f7f\u7528\u30bd\u30d5\u30c8: CrystalDiskMark 6.0.3 \u8a66\u884c\u56de\u6570: 5\u56de ReFS\u306e\u5834\u5408\u3001\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0ON WriteCache: 16GB table#benchmark_teble th { text-align: center; vertical-align: middle; } table#benchmark_teble td { text-align: center; vertical-align: middle; } table#benchmark_teble td.top { font-weight: bold; color: red; } table#benchmark_teble td.bottom { font-weight: bold; color: blue; } \u8a18\u61b6\u57df\u968e\u5c64 \u30d5\u30a1\u30a4\u30eb \u30b7\u30b9\u30c6\u30e0 Sequential Random (MB/s) Read Write Read Write \u306a\u3057 ReFS 850.4 54.64 5.11 24.63 NTFS 718.3 499.8 4.52 0.95 \u3042\u308a ReFS 520.5 780.2 3.49 84.6 NTFS 3192.1 734.1 258.8 96.40 \u30df\u30e9\u30fc\u968e\u5c64\u3068\u30d1\u30ea\u30c6\u30a3\u968e\u5c64\u306e\u4e21\u65b9\u3092\u542b\u3093\u3060\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3067\u3001NTFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u306f\u4f5c\u6210\u3067\u304d\u306a\u3044\u306e\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4f5c\u6210\u3067\u304d\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002 \u7d50\u679c\u3068\u3057\u3066\u3001\u4e88\u671f\u3057\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u3067\u4e00\u756a\u9ad8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306a\u306e\u306f\u300c\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305fNTFS\u300d\u306e\u30d1\u30bf\u30fc\u30f3\u3068\u306a\u308a\u307e\u3057\u305f\u3002 \u8003\u5bdf \u66f8\u304d\u8fbc\u307f\u306b\u3064\u3044\u3066\u306f\u6709\u610f\u306a\u5dee\u304c\u898b\u3089\u308c\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305f\u65b9\u304c\u9ad8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u307e\u305f\u8aad\u307f\u8fbc\u307f\u306b\u3064\u3044\u3066\u306f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305fReFS\u304c\u4e00\u756a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u4f4e\u304f\u306a\u308a\u307e\u3057\u305f\u3002 \u3053\u308c\u306f\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u304c\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306e\u5229\u7528\u3092\u524d\u63d0\u3068\u3057\u3066\u304a\u308a\u3001 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u8aad\u307f\u8fbc\u307f\u30ad\u30e3\u30c3\u30b7\u30e5\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u6027\u80fd\u5411\u4e0a\u3055\u305b\u308b\u8a2d\u8a08\u306a\u306e\u304b\u3068\u601d\u3044\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u304a\u304d\u306a\u304c\u3089\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\u306f\u6b63\u5f0f\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f\u74b0\u5883\u3067\u306e\u6e2c\u5b9a\u3055\u308c\u305f\u3082\u306e\u3067\u306f\u306a\u3044\u305f\u3081\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u304c\u6b63\u3057\u304f\u69cb\u7bc9\u3067\u304d\u305f\u7d50\u679c\u306a\u306e\u304b\u306f\u4e0d\u660e\u3067\u3059\u3002 \u4f59\u8ac7 \u3061\u306a\u307f\u306b\u3001\u4e0b\u8a18\u3092\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001Not Supported\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 \u8a18\u61b6\u57df\u968e\u5c64\u4f5c\u6210\u6642\u306eProvisioningType\u3092Thin(\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0)\u306b\u8a2d\u5b9a \u6050\u3089\u304f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u601d\u3044\u307e\u3059\u3002 \u3082\u3057\u3001\u5b9f\u904b\u7528\u4e0a\u3067\u5bb9\u91cf\u306e\u62e1\u5f35\u304c\u5fc5\u8981\u3068\u306a\u3063\u305f\u5834\u5408\u306b\u306f\u3001\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u62e1\u5f35\u3068\u3044\u3046\u904b\u7528\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u306bReadCacheSize\u3092\u8a2d\u5b9a \u3053\u308c\u306f\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306a\u3044\u3068\u5229\u7528\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u62e1\u5f35 \u904b\u7528\u4e2d\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30d1\u30bf\u30fc\u30f31: \u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408 \u3042\u3089\u304b\u3058\u3081\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u306b\u4f59\u88d5\u3092\u3082\u3063\u3066\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u30c7\u30a3\u30b9\u30af\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get-PhysicalDisk -CanPool $true | Add-PhysicalDisk -StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb \u30d1\u30bf\u30fc\u30f32: \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u306a\u3044\u3001\u56fa\u5b9a\u30b5\u30a4\u30ba\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3057\u307e\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get-PhysicalDisk -CanPool $true | Add-PhysicalDisk -StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb # \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u30924TB\u306b\u62e1\u5f35 $virtialDisk = Get-VirtualDisk \u4eee\u60f3\u30c7\u30a3\u30b9\u30af $virtialDisk | Resize-VirtualDisk -Size 4TB # \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35 $partition = $virtialDisk | Get-Disk | Get-Partition | Where-Object Type -eq Basic $partition | Resize-Partition -Size ($partition | Get-PartitionSupportedSize).SizeMax \u30d1\u30bf\u30fc\u30f33: \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u3001\u5bfe\u8c61\u306e\u8a18\u61b6\u57df\u968e\u5c64\u306e\u30b5\u30a4\u30ba\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3057\u307e\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get-PhysicalDisk -CanPool $true | Add-PhysicalDisk -StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb # HDD\u968e\u5c64\u306e\u30b5\u30a4\u30ba\u309232TB\u306b\u62e1\u5f35 $virtialDisk = Get-VirtualDisk \u4eee\u60f3\u30c7\u30a3\u30b9\u30af $virtialDisk | Get-StorageTier -MediaType HDD | Resize-StorageTier -Size 32TB # \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35 $partition = $virtialDisk | Get-Disk | Get-Partition | Where-Object Type -eq Basic $partition | Resize-Partition -Size ($partition | Get-PartitionSupportedSize).SizeMax","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#refs","text":"","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_1","text":"\u307e\u305a\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306b\u3064\u3044\u3066\u306f\u3001\u79c1\u306e\u8a18\u4e8b\u3088\u308a\u3082\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u8aad\u3080\u65b9\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 - \u85a9\u6469\u85e9\u4e2d\u4ed9\u9053\u8568\u5bbf\u5225\u90b8 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068\u306fWindows8, 10/Windows Server 2012\u4ee5\u964d\u3067\u5229\u7528\u3067\u304d\u308b\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5197\u9577\u5316\u6a5f\u80fd\u3067\u3059\u3002 \u8907\u6570\u306eHDD\u3084SSD\u3092\u675f\u306d\u3066\u3001\u5197\u9577\u6027\u306e\u3042\u308b\u30c7\u30a3\u30b9\u30af\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f3c\u305f\u3088\u3046\u306a\u6a5f\u80fd\u3068\u3057\u3066\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e0b\u8a18\u306e\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u30b5\u30a4\u30ba\u306e\u7570\u306a\u308b\u30c7\u30a3\u30b9\u30af\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3082\u5229\u7528\u3067\u304d\u308b \u5b9f\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u4ee5\u4e0a\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3067\u304d\u308b \u904b\u7528\u958b\u59cb\u5f8c\u306bHDD/SSD\u306e\u8ffd\u52a0\u3057\u3066\u3001\u5bb9\u91cf\u306e\u8ffd\u52a0\u304c\u3067\u304d\u308b \u30c7\u30fc\u30bf\u91cd\u8907\u9664\u53bb\u6a5f\u80fd\u304c\u3042\u308b \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u3088\u308a\u306f\u3001Linux\u306eLVM\u304c\u8fd1\u3044\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002 \u307e\u305f\u3001\u5f8c\u8ff0\u306eReFS\u3068\u4f75\u305b\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30ec\u30d9\u30eb\u3067\u306e\u6574\u5408\u6027\u306e\u62c5\u4fdd\u3001\u30a8\u30e9\u30fc\u6642\u306e\u81ea\u52d5\u4fee\u6b63\u304c\u53ef\u80fd\u3067\u3059\u3002","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_2","text":"\u7269\u7406\u30c7\u30a3\u30b9\u30af(Physical Disk) \u7269\u7406\u7684\u306aHDD\u3001SSD\u3092\u6307\u3057\u307e\u3059\u3002\u63a5\u7d9a\u65b9\u6cd5\u306fSAS,iSCSI,Fiber Channel\u306a\u3069\u306e\u30b5\u30fc\u30d0\u5411\u3051\u306e\u3082\u306e\u304b\u3089NVMe,SATA,USB\u306a\u3069\u3067\u3082(\u4e00\u5fdc)\u69cb\u6210\u53ef\u80fd\u3067\u3059\u3002 \u307e\u305f\u3001Windows Server 2019\u3067\u306fIntel\u306eOptane DC Persistent Memory\u3084NVDIMM-N\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af(Virtual Disk) \u5b9f\u969b\u306b\u30e6\u30fc\u30b6\u304c\u5229\u7528\u3059\u308b\u3001\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u7684\u306a\u30c7\u30a3\u30b9\u30af\u3067\u3059\u3002 \u5f8c\u8ff0\u306e\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0(Thin Provisioning)\u3068\u3044\u3046\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u4ee5\u4e0a\u306e\u30b5\u30a4\u30ba\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb(Storage Pool) \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u307e\u3068\u3081\u3066\u30d7\u30fc\u30eb\u306b\u3057\u305f\u3082\u306e\u3067\u3059\u3002 \u3053\u3053\u304b\u3089\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u5207\u308a\u51fa\u3057\u3066\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u8a18\u61b6\u57df\u968e\u5c64(Storage Tier) SSD\u3068HDD\u306a\u3069\u306e\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u306e\u7570\u306a\u308b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u968e\u5c64\u69cb\u9020\u3092\u3068\u308b\u3053\u3068\u3067\u3001 SSD\u3092\u8aad\u307f\u53d6\u308a\u30fb\u66f8\u304d\u8fbc\u307f\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u3088\u3046\u306b\u5229\u7528\u3057\u3066\u5197\u9577\u5316\u306b\u3088\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u4f4e\u4e0b\u3092\u88dc\u306a\u3046\u3053\u3068\u306e\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001SSD\u968e\u5c64\u3068HDD\u968e\u5c64\u306e\u305d\u308c\u305e\u308c\u3067\u7570\u306a\u308b\u5197\u9577\u5316\u65b9\u6cd5\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u95a2\u9023\u3059\u308b\u6a5f\u80fd\u3068\u3057\u3066\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u30c0\u30a4\u30ec\u30af\u30c8\u300d\u3001\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u30ec\u30d7\u30ea\u30ab\u300d\u3068\u3044\u3063\u305f\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u69cb\u6210\u8981\u7d20"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_3","text":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30c7\u30a3\u30b9\u30af\u306e\u5197\u9577\u5316\u306b\u3064\u3044\u3066\u3001\u4e0b\u8a18\u306e4\u7a2e\u985e\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u3002 \u7a2e\u985e \u5197\u9577\u5316 \u5229\u7528\u53ef\u80fd\u306a \u30c7\u30a3\u30b9\u30af\u5bb9\u91cf \u6700\u4f4e\u9650\u5fc5\u8981\u306a \u30c7\u30a3\u30b9\u30af\u672c\u6570 \u30b7\u30f3\u30d7\u30eb \u5197\u9577\u5316\u3092\u884c\u308f\u306a\u3044\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3068\u540c\u7b49 1\u672c \u53cc\u65b9\u5411\u30df\u30e9\u30fc \u30c7\u30fc\u30bf\u30922\u672c\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u534a\u5206 2\u672c 3\u65b9\u5411\u30df\u30e9\u30fc \u30c7\u30fc\u30bf\u30923\u672c\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e1/3 3\u672c \u30d1\u30ea\u30c6\u30a3 \u30c7\u30fc\u30bf\u30923\u672c\u4ee5\u4e0a\u306e\u30c7\u30a3\u30b9\u30af\u306b \u5206\u6563\u3057\u3066\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e2/3\uff5e7/8 3\u672c \u30c7\u30e5\u30a2\u30eb\u30d1\u30ea\u30c6\u30a3 \u30c7\u30fc\u30bf\u30927\u672c\u4ee5\u4e0a\u306e\u30c7\u30a3\u30b9\u30af\u306b \u5206\u6563\u3057\u3066\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e4/7\uff5e 7\u672c","title":"\u5197\u9577\u5316\u306e\u7a2e\u985e"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_4","text":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30012\u7a2e\u985e\u306e\u30c7\u30a3\u30b9\u30af\u5272\u308a\u5f53\u3066\u65b9\u5f0f\u304c\u3042\u308a\u307e\u3059\u3002 \u56fa\u5b9a(Fixed) \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u65b9\u5f0f\u3002\u3044\u305f\u3063\u3066\u30b7\u30f3\u30d7\u30eb\u3002 \u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0(Thin Provisioning) \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u3067\u306f\u306a\u304f\u3001\u30c7\u30fc\u30bf\u66f8\u304d\u8fbc\u307f\u6642\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3078\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u65b9\u5f0f\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u7dcf\u5bb9\u91cf\u3088\u308a\u3082\u5927\u304d\u306a\u30b5\u30a4\u30ba\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u306b\u306f\u30d7\u30fc\u30eb\u3078\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3088\u3044\u3002 \u53cd\u9762\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5bb9\u91cf\u306b\u4f59\u88d5\u304c\u3042\u308b\u3088\u3046\u306b\u898b\u3048\u3066\u3082\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u3066\u30c7\u30fc\u30bf\u304c\u66f8\u304d\u8fbc\u3081\u306a\u3044\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u767a\u751f\u3057\u3046\u308b\u3002","title":"\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u5272\u308a\u5f53\u3066"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_5","text":"\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u3001\u30c7\u30a3\u30b9\u30af\u304c\u6545\u969c\u3057\u305f\u5834\u5408\u306b\u81ea\u52d5\u7684\u306b\u5197\u9577\u6027\u3092\u56de\u5fa9\u3059\u308b\u305f\u3081\u306e\u300c\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u300d\u30c7\u30a3\u30b9\u30af\u3092\u5272\u308a\u5f53\u3066\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u30c7\u30a3\u30b9\u30af\u306e\u6545\u969c\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u3067\u3082\u3001\u6545\u969c\u524d\u3068\u540c\u3058\u72b6\u614b\u306b\u623b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3001\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u5272\u308a\u5f53\u3066\u305a\u306b\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u3053\u306e\u5834\u5408\u3001\u30c7\u30a3\u30b9\u30af\u6545\u969c\u6642\u306b\u306f\u30d7\u30fc\u30eb\u5185\u306e\u4ed6\u306e\u30c7\u30a3\u30b9\u30af\u306b\u30df\u30e9\u30fc\u3084\u30d1\u30ea\u30c6\u30a3\u60c5\u5831\u3092\u5206\u6563\u3055\u305b\u3066\u5197\u9577\u6027\u3092\u56de\u5fa9\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002","title":"\u30c7\u30a3\u30b9\u30af\u6545\u969c\u6642\u306e\u56de\u5fa9"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_6","text":"\u4e0b\u8a18\u306e\u56f3\u3067\u306f200GB\u306eSSD\u30922\u672c\u3001500GB\u306eHDD\u30922\u672c\u30011TB\u306eHDD\u30922\u672c\u3092\u4f7f\u7528\u3057\u3066\u5408\u8a08\u30b5\u30a4\u30ba3.4TB\u306e\u30d7\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001HDD\u304c\u6545\u969c\u3057\u305f\u3068\u304d\u306e\u305f\u3081\u306b\u30011TB\u306eHDD\u3092\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3068\u3057\u3066\u5272\u308a\u5f53\u3066\u3066\u3044\u307e\u3059\u3002 \u56f3\u306e\u5de6\u4e0a \u4f8b1 \u3067\u306f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u30661TB\u306e\u30df\u30e9\u30fc\u3067\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u300c\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u300d\u3092\u7528\u3044\u305a\u306b\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u4f5c\u6210\u6642\u306b1TB\u00d72(\u30df\u30e9\u30fc\u306a\u306e\u30672\u500d)\u306e\u5bb9\u91cf\u5206\u306e\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u78ba\u4fdd\u3057\u3066\u3044\u307e\u3059\u3002 \u4e00\u65b9\u3001\u56f3\u306e\u53f3\u4e0a \u4f8b2 \u306e\u3088\u3046\u306b\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u7528\u3044\u305a\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u3053\u3061\u3089\u306f\u300c\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u300d\u3092\u7528\u3044\u3066\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u3088\u308a\u3082\u5927\u304d\u30444TB\u306e\u30d1\u30ea\u30c6\u30a3\u3067\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u56f3\uff1a \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u69cb\u6210\u4f8b \u4f8b\uff11\u306e\u30c7\u30a3\u30b9\u30af\u306e\u69cb\u6210\u65b9\u6cd5 # \u30d7\u30fc\u30eb\u306b\u8a2d\u5b9a\u3059\u308bSSD/HDD\u3092\u53d6\u5f97 $PhysicalDisks = Get-PhysicalDisk 200GB-SSD-1, 200GB-SSD-2, 500GB-HDD-1, 500GB-HDD-2, 1TB-HDD-1, 1TB-HDD-2, 1TB-HDD-3 # \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 Get-StorageSubSystem | New-StoragePool \u2013FriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' \u2013PhysicalDisks $PhysicalDisks # \u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u8a2d\u5b9a Set-PhysicalDisk 1TB-HDD-3 -Usase HotSpare # SSD\u306e\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f5c\u6210 $SSDTier = New-StorageTier -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FriendlyName 'SSD\u968e\u5c64' -MediaType SSD -ResiliencySettingName Mirror -ProvisioningType Fixed # HDD\u306e\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f5c\u6210 $HDDTier = New-StorageTier -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FriendlyName 'HDD\u968e\u5c64' -MediaType HDD -ResiliencySettingName Parity -ProvisioningType Fixed -NumberOfColumns 4 # ReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 # \u30b5\u30a4\u30ba\u6307\u5b9a\u306fSSD:200GB\u3001HDD:1TB(\u30d0\u30a4\u30c8\u5358\u4f4d) New-Volume -FriendlyName '\u4f8b\uff11' -WriteCacheSize 16GB -StorageTiers $SSDTier,$HDDTier -StorageTierSizes 214748364800,1099511627776 \u4f8b\uff12\u306e\u30c7\u30a3\u30b9\u30af\u306e\u69cb\u6210\u65b9\u6cd5 # \u30d7\u30fc\u30eb\u306b\u8a2d\u5b9a\u3059\u308bSSD/HDD\u3092\u53d6\u5f97 $PhysicalDisks = Get-PhysicalDisk 200GB-SSD-1, 200GB-SSD-2, 500GB-HDD-1, 500GB-HDD-2, 1TB-HDD-1, 1TB-HDD-2, 1TB-HDD-3 # \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 Get-StorageSubSystem | New-StoragePool \u2013FriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' \u2013PhysicalDisks $PhysicalDisks # \u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u8a2d\u5b9a(\u3053\u3053\u307e\u3067\u306f\u4f8b1\u3068\u540c\u3058) Set-PhysicalDisk 1TB-HDD-3 -Usase HotSpare # NTFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 New-Volume -FriendlyName '\u4f8b\uff12' -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FileSystem NTFS -DriveLetter G -Size 4TB -ResiliencySettingName Mirror -ProvisioningType Thin","title":"\u69cb\u6210\u306e\u4f8b"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#resilient-file-systemrefs","text":"Windows Server 2012\u4ee5\u964d\u3001\u3082\u3057\u304f\u306f Windows10 Pro for Workstation\u304a\u3088\u3073Enterprise \u3067\u5229\u7528\u3067\u304d\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u5f93\u6765\u306eWindows\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3042\u308bNTFS\u3068\u6bd4\u8f03\u3057\u3066\u3001\u4fe1\u983c\u6027\u30fb\u53ef\u7528\u6027\u30fb\u62e1\u5f35\u6027\u306b\u512a\u308c\u3066\u3044\u308b\u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u500b\u4eba\u3067\u5229\u7528\u3059\u308b\u5834\u5408\u3001Windows10 Pro for Workstation\u3067\u306e\u5229\u7528\u304c\u6700\u6709\u529b\u306e\u5019\u88dc\u3068\u306a\u308a\u307e\u3059\u3002","title":"Resilient File System(ReFS)"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#refs_1","text":"\u4fe1\u983c\u6027 \u300c\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u300d\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u6642\u306b\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u306e\u691c\u8a3c\u3068\u30a8\u30e9\u30fc\u4fee\u6b63\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u5168\u4f53\u3001\u30d5\u30a9\u30eb\u30c0\u5358\u4f4d\u307e\u305f\u306f\u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u3067\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u30a8\u30e9\u30fc\u306e\u30c1\u30a7\u30c3\u30af\u3068\u4fee\u6b63\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u53ef\u7528\u6027 \u7a3c\u50cd\u72b6\u614b\u3067\u306e\u30c7\u30fc\u30bf\u306e\u30a8\u30e9\u30fc\u4fee\u6b63\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4fdd\u5b88\u6027 \u3082\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3067\u7834\u640d\u3057\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3001Windows\u306b\u6a19\u6e96\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b refsutil \u3068\u3044\u3046\u30c4\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u53ef\u80fd\u306a\u9650\u308a\u306e\u30c7\u30fc\u30bf\u30fb\u30b5\u30eb\u30d9\u30fc\u30b8\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u6027\u80fd \u30b3\u30d4\u30fc\u30fb\u30aa\u30f3\u30fb\u30e9\u30a4\u30c8\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\u3001Hyper-V\u306a\u3069\u3067\u4f7f\u7528\u3055\u308c\u308b\u56fa\u5b9a\u30b5\u30a4\u30ba\u306evhdx\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306a\u3069\u306f\u6570\u79d2\u3067\u5b8c\u4e86\u3057\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u7d30\u304b\u3044\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u306e\u901f\u5ea6\u306a\u3069\u306b\u3064\u3044\u3066\u306f\u3042\u307e\u308a\u5f97\u610f\u3067\u7121\u304f\u3001\u3042\u304f\u307e\u3067\u30b5\u30fc\u30d0\u306a\u3069\u3067\u306e\u4fe1\u983c\u6027\u306b\u91cd\u70b9\u3092\u304a\u3044\u305f\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001Windows OS\u306e\u8d77\u52d5\u30c7\u30a3\u30b9\u30af\u306bReFS\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002","title":"ReFS\u306e\u7279\u5fb4"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_7","text":"ReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u4f5c\u6210\u3057\u305f\u6bb5\u968e\u3067\u306f\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u7121\u52b9\u306e\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u6709\u52b9\u5316\u3059\u308b\u305f\u3081\u306b\u306f\u3001PowerShell\u4e0a\u3067 Set-FileIntegrity \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u5168\u4f53\u30fb\u30d5\u30a9\u30eb\u30c0\u5358\u4f4d\u30fb\u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u306e\u3044\u305a\u308c\u3067\u3082\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3068\u78ba\u8a8d # E\u30c9\u30e9\u30a4\u30d6\u5168\u4f53\u3067\u6709\u52b9\u5316 Set-FileIntegrity E: -Enable $True # F:\\Docs\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u3092\u6709\u52b9\u5316 Set-FileIntegrity F:\\Docs\\ -Enable $True # F:\\Secret\\Movie.mp4\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3067\u6709\u52b9\u5316 Set-FileIntegrity F:\\Secret\\Movie.mp4 -Enable $True # \u78ba\u8a8d Get-FileIntegrity -FileName 'F:\\Secret\\Movie.mp4' Get-ChildItem -Recurse F:\\Docs\\ | Get-FileIntegrity \u307e\u305f\u3001\u300cData Integrity Scan\u300d\u3068\u547c\u3070\u308c\u308b\u30bf\u30b9\u30af\u304c\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306b\u767b\u9332\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u306e\u30bf\u30b9\u30af\u3067\u5b9a\u671f\u7684\u306b\u5168\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u53d6\u308a\u30c1\u30a7\u30c3\u30af\u3068\u30a8\u30e9\u30fc\u4fee\u6b63\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001Windows10\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u30c8\u30ea\u30ac\u30fc\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u6709\u52b9\u5316\u304c\u5fc5\u8981\u3067\u3059\u3002 Tip \u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u304b\u3089\u3001\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30e9\u30a4\u30d6\u30e9\u30ea\u2192Microsoft\u2192Windows\u2192Data Integrity Scan\u5185\u306e\u30bf\u30b9\u30af\u300cData Integrity Scan\u300d\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3001\u30c8\u30ea\u30ac\u30fc\u30bf\u30d6\u3067\u5404\u30c8\u30ea\u30ac\u30fc\u306e\u7de8\u96c6\u753b\u9762\u304b\u3089\u300c\u6709\u52b9\u300d\u306b\u30c1\u30a7\u30c3\u30af","title":"\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6709\u52b9\u5316\u65b9\u6cd5"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#mirror-accelerated-parity","text":"\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3068\u306f\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u6a5f\u80fd\u3067\u3001\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u7570\u306a\u308b\u306e\u56de\u5fa9\u6027\u3092\u5099\u3048\u305f\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u3053\u308c\u306f\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3001\u304a\u3088\u3073ReFS\u3068\u3044\u3063\u305f\u6a5f\u80fd\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 Windows Server 2016 Datacenter/Windows Server 2019 Datacenter\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3 - Microsoft Docs","title":"\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3(Mirror-accelerated Parity)"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_8","text":"\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u3001\u305d\u308c\u305e\u308c\u306e\u56de\u5fa9\u6027\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u56de\u5fa9\u6027\u306e\u7a2e\u985e \u30e1\u30ea\u30c3\u30c8 \u30c7\u30e1\u30ea\u30c3\u30c8 \u30df\u30e9\u30fc \u66f8\u304d\u8fbc\u307f\u6027\u80fd\u304c\u9ad8\u3044 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u5229\u7528\u52b9\u7387\u304c\u60aa\u3044 \u30d1\u30ea\u30c6\u30a3 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u5229\u7528\u52b9\u7387\u304c\u826f\u3044 \u66f8\u304d\u8fbc\u307f\u6bce\u306b\u30d1\u30ea\u30c6\u30a3\u3092\u518d\u8a08\u7b97\u3059\u308b\u305f\u3081 \u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u304c\u4f4e\u3044 \u4e0a\u8a18\u306e\u30c7\u30e1\u30ea\u30c3\u30c8\u3092\u88dc\u3046\u305f\u3081\u306b\u3001\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u4e21\u65b9\u306e\u56de\u5fa9\u6027\u3092\u6301\u305f\u305b\u3066\u3001 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u9ad8\u5229\u7528\u52b9\u7387\u3068\u9ad8\u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u3092\u4e21\u7acb \u3059\u308b\u6a5f\u80fd\u304c\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3067\u3059\u3002","title":"\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_9","text":"\u672c\u6765\u3001\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001Windows Server2016 Datacenter\u4ee5\u964d\u306eOS\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306fWindows10 Pro for Workstation\u3067\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u305f\u3002 \u516c\u5f0f\u306b\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u74b0\u5883\u3067\u3059\u306e\u3067\u3001\u5c06\u6765\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306a\u3069\u3067\u6b63\u5e38\u306b\u5229\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u6709\u308b\u3053\u3068\u3092\u3001\u4e8b\u524d\u306b\u304a\u65ad\u308a\u3057\u3066\u304a\u304d\u307e\u3059\u3002","title":"\u304a\u3053\u3068\u308f\u308a"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_10","text":"\u4f7f\u7528\u3057\u305f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u4ed5\u69d8\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002 CPU Intel Pentium Gold G4500@3.5GHz Memory DDR4-2400 32GBGB (Dual Channel) SSD AGI 256G16AI198 256GB x2 (PCI-E 3.0 x4) HDD WDC WD60EZRZ 6TB x6 (5400rpm SATA) + ST10000VN0004 10TB x7 (7200rpm SATA) OS Windows 10 Pro for Workstations \u4e0b\u8a18\u306e\u56f3\u306e\u69d8\u306a\u69cb\u6210\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002 \u56f3: \u3067\u306f\u3001\u5b9f\u969b\u306bSSD:200GB + HDD:32TB \u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3059\u3002 # SSD\u968e\u5c64\u3092\u4f5c\u6210 $SSDTier = New-StorageTier -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FriendlyName 'SSD\u968e\u5c64' -MediaType SSD -ResiliencySettingName Mirror -ProvisioningType Fixed # HDD\u968e\u5c64\u3092\u4f5c\u6210 NumberOfColumns\u306fHDD\u306e\u672c\u6570\u306b\u5408\u308f\u305b\u3066'6'\u3092\u8a2d\u5b9a $HDDTier = New-StorageTier -StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' -FriendlyName 'HDD\u968e\u5c64' -MediaType HDD -ResiliencySettingName Parity -ProvisioningType Fixed -NumberOfColumns 6 # \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 \u30c9\u30e9\u30a4\u30d6\u30ec\u30bf\u30fc\u306f'Z'\u3092\u5272\u5f53\u3066 New-Volume -FriendlyName 'Disk' -DriveLetter Z -FileSystem ReFS -WriteCacheSize 16GB -StorageTiers $SSDTier,$HDDTier -StorageTierSizes 214748364800,35184372088832 # \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u3092ON Set-FileIntegrity Z: -Enable $true","title":"\u30c7\u30a3\u30b9\u30af\u69cb\u7bc9"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_11","text":"\u3068\u308a\u3042\u3048\u305a\u3001\u30a8\u30e9\u30fc\u7121\u304f\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u6761\u4ef6\u3067\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u53d6\u3063\u3066\u307f\u307e\u3059\u3002 \u4f7f\u7528\u30bd\u30d5\u30c8: CrystalDiskMark 6.0.3 \u8a66\u884c\u56de\u6570: 5\u56de ReFS\u306e\u5834\u5408\u3001\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0ON WriteCache: 16GB table#benchmark_teble th { text-align: center; vertical-align: middle; } table#benchmark_teble td { text-align: center; vertical-align: middle; } table#benchmark_teble td.top { font-weight: bold; color: red; } table#benchmark_teble td.bottom { font-weight: bold; color: blue; } \u8a18\u61b6\u57df\u968e\u5c64 \u30d5\u30a1\u30a4\u30eb \u30b7\u30b9\u30c6\u30e0 Sequential Random (MB/s) Read Write Read Write \u306a\u3057 ReFS 850.4 54.64 5.11 24.63 NTFS 718.3 499.8 4.52 0.95 \u3042\u308a ReFS 520.5 780.2 3.49 84.6 NTFS 3192.1 734.1 258.8 96.40 \u30df\u30e9\u30fc\u968e\u5c64\u3068\u30d1\u30ea\u30c6\u30a3\u968e\u5c64\u306e\u4e21\u65b9\u3092\u542b\u3093\u3060\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3067\u3001NTFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u306f\u4f5c\u6210\u3067\u304d\u306a\u3044\u306e\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4f5c\u6210\u3067\u304d\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002 \u7d50\u679c\u3068\u3057\u3066\u3001\u4e88\u671f\u3057\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u3067\u4e00\u756a\u9ad8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306a\u306e\u306f\u300c\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305fNTFS\u300d\u306e\u30d1\u30bf\u30fc\u30f3\u3068\u306a\u308a\u307e\u3057\u305f\u3002","title":"\u30d9\u30f3\u30c1\u30de\u30fc\u30af"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_12","text":"\u66f8\u304d\u8fbc\u307f\u306b\u3064\u3044\u3066\u306f\u6709\u610f\u306a\u5dee\u304c\u898b\u3089\u308c\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305f\u65b9\u304c\u9ad8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u307e\u305f\u8aad\u307f\u8fbc\u307f\u306b\u3064\u3044\u3066\u306f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305fReFS\u304c\u4e00\u756a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u4f4e\u304f\u306a\u308a\u307e\u3057\u305f\u3002 \u3053\u308c\u306f\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u304c\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306e\u5229\u7528\u3092\u524d\u63d0\u3068\u3057\u3066\u304a\u308a\u3001 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u8aad\u307f\u8fbc\u307f\u30ad\u30e3\u30c3\u30b7\u30e5\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u6027\u80fd\u5411\u4e0a\u3055\u305b\u308b\u8a2d\u8a08\u306a\u306e\u304b\u3068\u601d\u3044\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u304a\u304d\u306a\u304c\u3089\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\u306f\u6b63\u5f0f\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f\u74b0\u5883\u3067\u306e\u6e2c\u5b9a\u3055\u308c\u305f\u3082\u306e\u3067\u306f\u306a\u3044\u305f\u3081\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u304c\u6b63\u3057\u304f\u69cb\u7bc9\u3067\u304d\u305f\u7d50\u679c\u306a\u306e\u304b\u306f\u4e0d\u660e\u3067\u3059\u3002","title":"\u8003\u5bdf"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_13","text":"\u3061\u306a\u307f\u306b\u3001\u4e0b\u8a18\u3092\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001Not Supported\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 \u8a18\u61b6\u57df\u968e\u5c64\u4f5c\u6210\u6642\u306eProvisioningType\u3092Thin(\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0)\u306b\u8a2d\u5b9a \u6050\u3089\u304f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u601d\u3044\u307e\u3059\u3002 \u3082\u3057\u3001\u5b9f\u904b\u7528\u4e0a\u3067\u5bb9\u91cf\u306e\u62e1\u5f35\u304c\u5fc5\u8981\u3068\u306a\u3063\u305f\u5834\u5408\u306b\u306f\u3001\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u62e1\u5f35\u3068\u3044\u3046\u904b\u7528\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u306bReadCacheSize\u3092\u8a2d\u5b9a \u3053\u308c\u306f\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306a\u3044\u3068\u5229\u7528\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002","title":"\u4f59\u8ac7"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#_14","text":"\u904b\u7528\u4e2d\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u62e1\u5f35"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#1","text":"\u3042\u3089\u304b\u3058\u3081\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u306b\u4f59\u88d5\u3092\u3082\u3063\u3066\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u30c7\u30a3\u30b9\u30af\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get-PhysicalDisk -CanPool $true | Add-PhysicalDisk -StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb","title":"\u30d1\u30bf\u30fc\u30f31: \u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#2","text":"\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3057\u307e\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get-PhysicalDisk -CanPool $true | Add-PhysicalDisk -StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb # \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u30924TB\u306b\u62e1\u5f35 $virtialDisk = Get-VirtualDisk \u4eee\u60f3\u30c7\u30a3\u30b9\u30af $virtialDisk | Resize-VirtualDisk -Size 4TB # \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35 $partition = $virtialDisk | Get-Disk | Get-Partition | Where-Object Type -eq Basic $partition | Resize-Partition -Size ($partition | Get-PartitionSupportedSize).SizeMax","title":"\u30d1\u30bf\u30fc\u30f32: \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u306a\u3044\u3001\u56fa\u5b9a\u30b5\u30a4\u30ba\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408"},{"location":"Windows/%E8%A8%98%E6%86%B6%E5%9F%9F%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9/#3","text":"\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u3001\u5bfe\u8c61\u306e\u8a18\u61b6\u57df\u968e\u5c64\u306e\u30b5\u30a4\u30ba\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3057\u307e\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get-PhysicalDisk -CanPool $true | Add-PhysicalDisk -StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb # HDD\u968e\u5c64\u306e\u30b5\u30a4\u30ba\u309232TB\u306b\u62e1\u5f35 $virtialDisk = Get-VirtualDisk \u4eee\u60f3\u30c7\u30a3\u30b9\u30af $virtialDisk | Get-StorageTier -MediaType HDD | Resize-StorageTier -Size 32TB # \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35 $partition = $virtialDisk | Get-Disk | Get-Partition | Where-Object Type -eq Basic $partition | Resize-Partition -Size ($partition | Get-PartitionSupportedSize).SizeMax","title":"\u30d1\u30bf\u30fc\u30f33: \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/","text":"Windows\u3067\u306e\u30b3\u30f3\u30c6\u30ca\u6280\u8853\u3068WSL Host Conpute Service(HCS) Windows\u4e0a\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u6271\u3046\u305f\u3081\u306e\u6280\u8853\u3067\u3042\u308b\u300cHost Conpute Service(HCS)\u300d\u306b\u3064\u3044\u3066\u3002 Windows subsystem for Linux Windows subsystem for Linux(WSL) \u3068\u306f\u3001Windows\u4e0a\u3067Linux OS(\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3)\u3092\u5229\u7528\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u5229\u7528\u3067\u304d\u308bOS\u30fb\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3 \u3053\u306e\u6a5f\u80fd\u306f\u3001\u5168\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3\u306eWindows 10 \u30d0\u30fc\u30b8\u30e7\u30f31709\u4ee5\u964d \u304a\u3088\u3073\u3001Windows Server 2019\u4ee5\u964d\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001Windows 10 \u30d0\u30fc\u30b8\u30e7\u30f32004\u4ee5\u964d\u3067\u306f\u3001\u4eee\u60f3\u5316\u6280\u8853\u3092\u30d9\u30fc\u30b9\u3068\u3057\u305fWSL2\u3082\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306a\u3069\u306f\u4e0b\u8a18\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Windows 10 \u7528 Windows Subsystem for Linux \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u30ac\u30a4\u30c9 - Microsoft Docs WSL\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 WSL\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u305f\u8a18\u4e8b\u3067\u3059\u3002 WSL\u3067CentOS\u3092\u5229\u7528\u3059\u308b Microsoft Store\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044CentOS\u3092WSL\u3067\u5229\u7528\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3002","title":"Windows\u3067\u306e\u30b3\u30f3\u30c6\u30ca\u6280\u8853\u3068WSL"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/#windowswsl","text":"","title":"Windows\u3067\u306e\u30b3\u30f3\u30c6\u30ca\u6280\u8853\u3068WSL"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/#host-conpute-servicehcs","text":"Windows\u4e0a\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u6271\u3046\u305f\u3081\u306e\u6280\u8853\u3067\u3042\u308b\u300cHost Conpute Service(HCS)\u300d\u306b\u3064\u3044\u3066\u3002","title":"Host Conpute Service(HCS)"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/#windows-subsystem-for-linux","text":"Windows subsystem for Linux(WSL) \u3068\u306f\u3001Windows\u4e0a\u3067Linux OS(\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3)\u3092\u5229\u7528\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002","title":"Windows subsystem for Linux"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/#os","text":"\u3053\u306e\u6a5f\u80fd\u306f\u3001\u5168\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3\u306eWindows 10 \u30d0\u30fc\u30b8\u30e7\u30f31709\u4ee5\u964d \u304a\u3088\u3073\u3001Windows Server 2019\u4ee5\u964d\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001Windows 10 \u30d0\u30fc\u30b8\u30e7\u30f32004\u4ee5\u964d\u3067\u306f\u3001\u4eee\u60f3\u5316\u6280\u8853\u3092\u30d9\u30fc\u30b9\u3068\u3057\u305fWSL2\u3082\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002","title":"\u5229\u7528\u3067\u304d\u308bOS\u30fb\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/#_1","text":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306a\u3069\u306f\u4e0b\u8a18\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Windows 10 \u7528 Windows Subsystem for Linux \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u30ac\u30a4\u30c9 - Microsoft Docs","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/#wsl","text":"WSL\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u305f\u8a18\u4e8b\u3067\u3059\u3002","title":"WSL\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/#wslcentos","text":"Microsoft Store\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044CentOS\u3092WSL\u3067\u5229\u7528\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3002","title":"WSL\u3067CentOS\u3092\u5229\u7528\u3059\u308b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/","text":"WSL\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 WSL\u3067\u5b9f\u73fe\u3067\u304d\u308b\u3053\u3068 Windows Subsystem for Linux(WSL)\u306f\u5c11\u306a\u3044\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3067GNU/Linux\u306eCLI\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3067\u304d\u308b\u74b0\u5883\u3092\u63d0\u4f9b\u3059\u308b\u6a5f\u80fd\u3067\u3059\u3002 Windows\u3067\u306f\u300cPortable Executable\u300d\u3068\u3044\u3046\u5f62\u5f0f\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3057\u304b\u3057\u3001Linux\u306a\u3069\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306f\u300cExecutable and Linkable Format(ELF)\u300d\u3068\u547c\u3070\u308c\u308b\u5f62\u5f0f\u3067\u3042\u308b\u305f\u3081\u3001\u901a\u5e38\u306fWindows\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 Linux\u306e\u30d7\u30ed\u30b0\u30e9\u30e0(ELF\u30d0\u30a4\u30ca\u30ea)\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f Linux\u306eCLI\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5229\u7528\u3067\u304d\u308b\u74b0\u5883\u3092\u7528\u610f\u3059\u308b\u306b\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u6a5f\u80fd\u304c\u5fc5\u8981\u3067\u3059\u3002 Linux\u30ab\u30fc\u30cd\u30eb\u76f8\u5f53\u306e\u6a5f\u80fd \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30fb\u30d7\u30ed\u30bb\u30b9\u7ba1\u7406\u30fb\u30e1\u30e2\u30ea\u7ba1\u7406\u306a\u3069\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u306e\u63d0\u4f9b \u30b7\u30a7\u30eb\u74b0\u5883 bash, zsh, ksh\u306a\u3069 \u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3 \u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5165\u624b\u65b9\u6cd5\u306e\u63d0\u4f9b WSL\u3067\u306fLinux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u3092Windows\u306e\u6a5f\u80fd\u3068\u3057\u3066\u7528\u610f\u3057\u3001\u305d\u306e\u4e0a\u306bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092Microsoft Store\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3044\u3046\u5f62\u5f0f\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002 WSL1\u3068WSL2\u306e\u9055\u3044 WSL\u306b\u306f\u30d0\u30fc\u30b8\u30e7\u30f31\u3068\u30d0\u30fc\u30b8\u30e7\u30f32\u304c\u5b58\u5728\u3057\u3001\u305d\u308c\u305e\u308cLinux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u304a\u3088\u3073\u30c7\u30a3\u30b9\u30af\u306e\u63d0\u4f9b\u65b9\u6cd5\u304c\u7570\u306a\u308a\u307e\u3059\u3002 WSL1 LxCore.sys/Lxss.sys\u3068\u3044\u3046NT\u30ab\u30fc\u30cd\u30eb\u30c9\u30e9\u30a4\u30d0\u304c\u3001Linux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u547d\u4ee4\u304b\u3089Windows\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u547d\u4ee4\u3078\u5909\u63db\u3057\u3001\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u3092\u63d0\u4f9b\u3057\u307e\u3059 (Linux\u30ab\u30fc\u30cd\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044) VolFS\u3068\u3044\u3046\u72ec\u81ea\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u63a1\u7528 WSL2 \u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u7a3c\u50cd\u3059\u308bLinux\u30ab\u30fc\u30cd\u30eb\u304c\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u3092\u63d0\u4f9b\u3057\u307e\u3059 \u4eee\u60f3HDD(*.vhdx)\u30d5\u30a1\u30a4\u30eb\u4e0a\u306bext4\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u9069\u7528 \u56f3. WSL1 \u3068 WSL2 \u306e\u547d\u4ee4\u5b9f\u884c\u306e\u6bd4\u8f03 \u30d0\u30fc\u30b8\u30e7\u30f3 \u30d9\u30fc\u30b9\u6280\u8853 \u30e1\u30ea\u30c3\u30c8 \u30c7\u30e1\u30ea\u30c3\u30c8 \u30d0\u30fc\u30b8\u30e7\u30f31 (WSL1) \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u5909\u63db \u30e1\u30e2\u30ea\u306e\u6d88\u8cbb\u304c\u5c11\u306a\u3044 \u547d\u4ee4\u5909\u63db\u306b\u3088\u308bCPU\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9 \u4e00\u90e8\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u304c\u5b9f\u884c\u4e0d\u53ef \u30c7\u30a3\u30b9\u30af\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u304c\u9045\u3044 \u30d0\u30fc\u30b8\u30e7\u30f32 (WSL2) \u4eee\u60f3\u30de\u30b7\u30f3 \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u306e\u5b8c\u5168\u4e92\u63db (WSL1\u3068\u6bd4\u8f03\u3057\u3066)\u30c7\u30a3\u30b9\u30af\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u306e\u6539\u5584 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ad\u30e3\u30c3\u30b7\u30e5\u306a\u3069\u3067\u306e\u30e1\u30e2\u30ea\u6d88\u8cbb\u91cf\u306e\u5897\u52a0 \u306a\u304a\u3001\u672c\u8a18\u4e8b\u3067\u306fWSL\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u660e\u78ba\u306b\u533a\u5225\u3059\u308b\u305f\u3081\u3001WSL\u30d0\u30fc\u30b8\u30e7\u30f31\u3092\u300cWSL1\u300d\u3001\u30d0\u30fc\u30b8\u30e7\u30f32\u3092\u300cWSL2\u300d\u3068\u8a18\u8f09\u3057\u307e\u3059\u3002 \u307e\u305f\u3001WSL1\u3068WSL2\u306e\u4e21\u65b9\u306b\u5171\u901a\u3059\u308b\u6a5f\u80fd\u306e\u5834\u5408\u306f\u300cWSL1/WSL2\u300d\u3068\u3044\u3046\u98a8\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002 WSL1\u306e\u6a5f\u80fd \u69cb\u6210\u8981\u7d20 WSL1\u306f\u3001\u4e0b\u8a18\u306e\u56f3\u306b\u793a\u3055\u308c\u308b\u3088\u3046\u306a\u8981\u7d20\u304b\u3089\u6210\u308a\u7acb\u3063\u3066\u3044\u307e\u3059\u3002 \u56f3. WSL1 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u6982\u7565 \u30e9\u30f3\u30c1\u30e3\u30fc/\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9(wsl.exe/wslhost.exe) LxssManager(LxssManager.dll) \u30d4\u30b3\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc(\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc: LxCore.sys/Lxss.sys) \u30d4\u30b3\u30d7\u30ed\u30bb\u30b9 MS\u88fdinit\u30d7\u30ed\u30bb\u30b9 Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Plan9\u30d7\u30ed\u30c8\u30b3\u30eb \u30ea\u30c0\u30a4\u30ec\u30af\u30bf(\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc: p9rdr.sys) \u53c2\u8003: DEFEND AND UNDERSTAND WSL - ionescu007/lxss - Github 1 \u30d7\u30ed\u30bb\u30b9\u7ba1\u7406\u3068\u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d WSL1\u3067\u306f\u3001Windows\u4e0a\u3067\u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9(Pico Process)\u300d 2 \u3068\u547c\u3070\u308c\u308b\u5f62\u5f0f\u306e\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u3001Linux\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u52d5\u4f5c\u3055\u305b\u307e\u3059\u3002 \u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d\u306f\u3001Windows\u306e\u300c\u6700\u5c0f\u30d7\u30ed\u30bb\u30b9(Minimal Porcess)\u300d\u3068\u3044\u3046\u4ed5\u7d44\u307f\u3092\u5229\u7528\u3057\u3066\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 \u300c\u6700\u5c0f\u30d7\u30ed\u30bb\u30b9\u300d\u306f\u901a\u5e38\u306e\u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9\u30d7\u30ed\u30bb\u30b9\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u300c\u6700\u5c0f\u30d7\u30ed\u30bb\u30b9\u300d\u306e\u7279\u5fb4 ntdll.dll\u306f\u30d7\u30ed\u30bb\u30b9\u306b\u30de\u30c3\u30d7\u3055\u308c\u306a\u3044 \u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9\u306e\u30d0\u30a4\u30ca\u30ea\u30fc\u3067\u3042\u308b\u300cntdll.dll\u300d\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30d7\u30ed\u30bb\u30b9\u306b\u30de\u30c3\u30d7\u3055\u308c\u307e\u305b\u3093\u3002 PEB\u306f\u751f\u6210\u3055\u308c\u306a\u3044 \u30d7\u30ed\u30bb\u30b9\u306e\u7ba1\u7406\u306b\u4f7f\u7528\u3059\u308bPEB\uff08Process Environment Block\uff09\u306f\u751f\u6210\u3055\u308c\u307e\u305b\u3093\u3002 \u521d\u671f\u30b9\u30ec\u30c3\u30c9\u306f\u751f\u6210\u3055\u308c\u306a\u3044 \u30d7\u30ed\u30bb\u30b9\u751f\u6210\u6642\u3001\u521d\u671f\u30b9\u30ec\u30c3\u30c9\uff08\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\uff09\u3092\u751f\u6210\u3057\u307e\u305b\u3093\u3002 TEB\u306f\u81ea\u52d5\u7684\u306b\u751f\u6210\u3055\u308c\u306a\u3044 \u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d\u5185\u3067\u30b9\u30ec\u30c3\u30c9\u304c\u751f\u6210\u3055\u308c\u3066\u3082\u3001\u30b9\u30ec\u30c3\u30c9\u306e\u7ba1\u7406\u306b\u4f7f\u7528\u3059\u308bTEB\uff08Thread Environment Block\uff09\u306f\u81ea\u52d5\u7684\u306b\u751f\u6210\u3055\u308c\u307e\u305b\u3093\u3002 \u5171\u6709\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u30de\u30c3\u30d7\u3055\u308c\u306a\u3044 \u5171\u6709\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u306b\u30de\u30c3\u30d7\u3055\u308c\u307e\u305b\u3093\u3002 \u5171\u6709\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u3068\u306f\u3001\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u7a7a\u9593\u306b\u8aad\u307f\u8fbc\u307f\u5c02\u7528\u3067\u30de\u30c3\u30d7\u3055\u308c\u3001\u30b7\u30b9\u30c6\u30e0\u5171\u901a\u306e\u60c5\u5831\u3092\u52b9\u679c\u7684\u306b\u691c\u7d22\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u30d6\u30ed\u30c3\u30af\u3067\u3059\u3002 PEB/TEB\u306a\u3057\u3067\u52d5\u4f5c\u3059\u308b \u5f93\u6765\u306e\u30d7\u30ed\u30bb\u30b9\u306e\u3088\u3046\u306b\u30d7\u30ed\u30bb\u30b9\u304c\u5e38\u306bPEB/TEB\u3092\u6301\u3063\u3066\u3044\u308b\u524d\u63d0\u3067\u52d5\u4f5c\u3059\u308b\u500b\u6240\u306f\u3001PEB/TEB\u306a\u3057\u3067\u3082\u30d7\u30ed\u30bb\u30b9\u3092\u6271\u3048\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30ab\u30fc\u30cd\u30eb\u306f\u7a4d\u6975\u7684\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u7ba1\u7406\u3092\u884c\u308f\u306a\u3044 Windows\u30ab\u30fc\u30cd\u30eb\u306f\u3001\u7a4d\u6975\u7684\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u7ba1\u7406\u3092\u884c\u3044\u307e\u305b\u3093\u3002 \u3057\u304b\u3057\u30b9\u30ec\u30c3\u30c9\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3084\u30e1\u30e2\u30ea\u30fc\u7ba1\u7406\u306a\u3069\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u5229\u7528\u3057\u305f\u3044OS\u306e\u3059\u3079\u3066\u306e\u57fa\u76e4\u6280\u8853\u306f\u5f15\u304d\u7d9a\u304d\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002 \u5f15\u7528\u5143: WSL \u305d\u306e19 - WSL\u3092\u69cb\u6210\u3059\u308b\u57fa\u76e4\u306e1\u3064\u3067\u3042\u308b\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u3068\u306f - kledgeb 3 \u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d\u306f\u3001\u3053\u308c\u3089\u306e\u7279\u5fb4\u3092\u5229\u7528\u3057\u3066\u3001\u901a\u5e38\u306eWindows\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u306e\u9694\u96e2\u3068\u6700\u5c0f\u9650\u306e\u30d7\u30ed\u30bb\u30b9\u7ba1\u7406\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u306e\u63d0\u4f9b WSL1\u3067\u306f\u3001LxCore.sys, lsxx.sys\u306e2\u3064\u306e\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc\u304cNT\u30ab\u30fc\u30cd\u30eb\u4e0a\u3067\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e2\u3064\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u306f\u300c\u30d4\u30b3\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u300d\u3068\u547c\u3070\u308c\u3001\u3053\u308c\u3089\u304cLinux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 \u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d\u306e\u547c\u3073\u51fa\u3057\u305f\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3084\u4f8b\u5916\u306f\u3001\u30c9\u30e9\u30a4\u30d0\u30fc\u4e0a\u3067\u306e\u51e6\u7406\u3084Windows\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3078\u306e\u5909\u63db\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001WSL1\u306b\u304a\u3044\u3066Linux\u30ab\u30fc\u30cd\u30eb\u76f8\u5f53\u306e\u6a5f\u80fd\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 \u53c2\u8003\u6587\u732e: WSL System Calls - Windows Subsystem for Linux 4 , WSL \u305d\u306e24 - \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068\u306f\uff08\u524d\u7de8\uff09\u30fbLinux\u30ab\u30fc\u30cd\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068Windows NT\u30ab\u30fc\u30cd\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb - kledgeb 5 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 VolFs \u300cVolFs\u300d\u3068\u306f\u3001WSL1\u3067\u52d5\u4f5c\u3059\u308b\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u3053\u308c\u306f\u3001WSL1\u72ec\u81ea\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3042\u308a\u3001WSL1\u3067\u306fext4\u3084xfs\u3001btrfs\u3068\u3044\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306b\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 VolFs\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u4f53\u306f\u3001Windows\u306eNTFS\u4e0a\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001NTFS\u3067\u306fLinux\u4e0a\u3067\u5229\u7528\u3055\u308c\u308b\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u306a\u3069\u304c\u4fdd\u5b58\u3067\u304d\u306a\u3044\u305f\u3081\u3001VolFs\u3067\u306f\u5b9f\u30d5\u30a1\u30a4\u30eb\u3068\u306f\u5225\u306b\u30e1\u30bf\u30c7\u30fc\u30bf\u3068\u3057\u3066\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u3066\u3044\u307e\u3059\u3002 VolFs\u306f\u3001ext4\u3084xfs\u3001btrfs\u3068\u540c\u69d8\u306b\u3001Virtual File System(VFS)\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u62bd\u8c61\u5316\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4e0a\u306b\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001\u4ed6\u306eLinux\u4e0a\u3067\u5229\u7528\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3068\u540c\u69d8\u306b\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 DrvFs \u300cDrvFs\u300d\u3068\u306f\u3001WSL1\u306e\u4e2d\u304b\u3089Windows\u4e0a\u306eC\u30c9\u30e9\u30a4\u30d6\u306a\u3069\u306e\u300c\u30c9\u30e9\u30a4\u30d6\u6587\u5b57\u3092\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u300d\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c9\u30e9\u30a4\u30d6\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u3002 \u3053\u3061\u3089\u3082WSL1\u306e\u72ec\u81ea\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u304c\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u306a\u3069\u306f\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u30e6\u30fc\u30b6\u3067 777 \u3082\u3057\u304f\u306f 555 \u3067\u56fa\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\u5909\u66f4\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 WSL\u306e\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001USB\u30d5\u30e9\u30c3\u30b7\u30e5\u30c7\u30a3\u30b9\u30af\u306a\u3069\u3092\u5f8c\u304b\u3089\u63a5\u7d9a\u3057\u305f\u5834\u5408\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3067\u624b\u52d5\u30de\u30a6\u30f3\u30c8\u3059\u308b\u3053\u3068\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 E\u30c9\u30e9\u30a4\u30d6\u3092\u30de\u30a6\u30f3\u30c8 sudo mkdir /mnt/e sudo mount -t drvfs E: /mnt/e init\u30d7\u30ed\u30bb\u30b9\u306b\u3064\u3044\u3066 Linux\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u901a\u5e38\u3001\u30ab\u30fc\u30cd\u30eb\u306b\u3088\u308ainit\u30d7\u30ed\u30bb\u30b9\u304c\u8d77\u52d5\u3055\u308c\u3001\u305d\u306e\u5f8cinit\u304c\u5404Daemon\u306e\u8d77\u52d5\u3092\u62c5\u3044\u3001Linux\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u5168\u3066\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u30d7\u30ed\u30bb\u30b9ID = 1 \u306einit\u30d7\u30ed\u30bb\u30b9\u3092\u89aa\u3068\u3057\u3066\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002 WSL\u3067\u3082\u3001init\u30d7\u30ed\u30bb\u30b9\u304c\u5168\u30d7\u30ed\u30bb\u30b9\u306e\u89aa\u30d7\u30ed\u30bb\u30b9\u3068\u306a\u308b\u70b9\u306f\u540c\u69d8\u3067\u3059\u3002 \u3057\u304b\u3057\u3001WSL\u3067\u5229\u7528\u3055\u308c\u308binit\u306f\u3001WSL\u5c02\u7528\u306bMS\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u3042\u308a\u3001\u901a\u5e38\u306eLinux\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308bSystem V init\u3084systemd\u3068\u306f\u7570\u306a\u308b\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 WSL\u306einit\u30d7\u30ed\u30b0\u30e9\u30e0\u306f /sbin/init \u3067\u306f\u306a\u304f\u3001 /init \u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u30e9\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u306e\u8d77\u52d5 WSL\u3067\u306f\u3001Daemon\u306e\u8d77\u52d5\u306f\u884c\u308f\u308c\u305a\u3001\u3053\u306e\u70b9\u304cSystem V init\u3084systemd\u306a\u3069\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002 WSL\u304c\u8d77\u52d5\u3055\u308c\u308b\u3068\u3001\u30d7\u30ed\u30bb\u30b9ID = 1 \u306e\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u6700\u521d\u306b\u8d77\u52d5\u3057\u3001 /etc/passwd \u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 Windows\u2192Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9 \u307e\u305fWSL\u306einit\u306f\u3001Windows\u304b\u3089Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 Windows\u304b\u3089Linux\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306f\u3001UNC\u30d1\u30b9\u3067 \\\\wsl$\\[\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u540d] \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001WSL\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4ed5\u7d44\u307f Windows\u4e0a\u304b\u3089Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306b\u306f\u300cPlan 9 Filesystem Protocol(9P)\u300d\u3068\u547c\u3070\u308c\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u300cPlan 9 from Bell Labs\u300d\u3068\u3044\u3046UNIX\u306e\u5f8c\u7d99\u3068\u3057\u3066\u30d9\u30eb\u7814\u7a76\u6240\u3067\u958b\u767a\u3055\u308c\u305fOS\u306b\u304a\u3044\u3066\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u6210\u8981\u7d20\u9593\u306e\u63a5\u7d9a\u3092\u76ee\u7684\u3068\u3057\u3066\u958b\u767a\u3055\u308c\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002 WSL\u306einit\u306b\u306f9P\u30b5\u30fc\u30d0\u3092\u642d\u8f09\u3057\u3066\u304a\u308a\u3001Windows\u304b\u3089\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3092\u901a\u3058\u3066\u30019P\u30b5\u30fc\u30d0\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 init\u30d7\u30ed\u30bb\u30b9\u306f\u30019P\u30b5\u30fc\u30d0\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u53d7\u3051\u53d6\u308b\u3068\u3001Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u66f8\u304d\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001Windows\u5074\u3067\u306f p9rdr.sys \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ea\u30c0\u30a4\u30ec\u30af\u30bf\u304c\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc\u3068\u3057\u3066\u7a3c\u50cd\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30bf\u306fWindows\u30d7\u30ed\u30bb\u30b9\u304b\u3089 \\\\wsl$ \u3078\u30a2\u30af\u30bb\u30b9\u3057\u305f\u969b\u306b\u52d5\u4f5c\u3057\u3001P9\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3057\u3066WSL\u4e0a\u306eP9\u30b5\u30fc\u30d0\u3078\u30a2\u30af\u30bb\u30b9\u3057\u30019P\u30b5\u30fc\u30d0\u304b\u3089\u53d7\u3051\u53d6\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u3084\u30d5\u30a9\u30eb\u30c0\u306a\u3069\u306e\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u306a\u3069\u306eWindows\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4e0a\u306b\u8868\u73fe\u3059\u308b\u3053\u3068\u3067\u3001Windows\u304b\u3089Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 \u56f3. 9P\u3092\u5229\u7528\u3057\u305fLinux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9 Linux\u2192Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u547c\u3073\u51fa\u3057 WSL\u3067\u306f\u3001WSL\u5185\u306ebash\u306a\u3069\u304b\u3089\u3001 cmd.exe \u306a\u3069\u306eWindows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4ed5\u7d44\u307f init\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5f15\u6570\u306bWindows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001WSL\u5185\u304b\u3089Windows\u4e0a\u3078\u60c5\u5831\u304c\u6e21\u3055\u308c\u3001Windows\u4e0a\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002 WSL\u3067\u306fDrvFS\u306b\u3088\u308a /mnt/c/ \u306a\u3069\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3001Windows\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3066\u304a\u308a\u3001 Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u305d\u306e\u914d\u4e0b\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 WSL\u304b\u3089Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u547c\u3073\u51fa\u3059\u969b\u306b\u306f\u3001init\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5f15\u6570\u306b /mnt/c/ \u304b\u3089\u59cb\u307e\u308bWindows\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u30d1\u30b9\u3092\u4e0e\u3048\u308b\u3068\u3001init\u306b\u5185\u90e8\u3067 C:\\ \u304b\u3089\u59cb\u307e\u308bWindows\u5074\u3067\u306e\u30d1\u30b9\u306b\u5909\u63db\u3055\u308c\u3001LxCore.sys\u306a\u3069\u3092\u901a\u3057\u3066 wsl.exe \u3078\u6e21\u3055\u308c\u307e\u3059\u3002 wsl.exe \u304c\u6e21\u3055\u308c\u305f\u30d1\u30b9\u306eWindows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3059\u308b\u3053\u3068\u3067\u3001WSL\u5185\u90e8\u304b\u3089Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067Windows\u4e0a\u306ePATH\u74b0\u5883\u5909\u6570\u3092WSL\u3078\u5f15\u304d\u7d99\u3044\u3067\u3044\u308b\u305f\u3081\u3001\u30d5\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 (\u305f\u3060\u3057\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3084Powershell\u3068\u7570\u306a\u308a\u3001 .exe \u3068\u3044\u3063\u305f\u62e1\u5f35\u5b50\u306e\u6307\u5b9a\u306f\u5fc5\u8981\u3067\u3059\u3002) WSL2\u306e\u6a5f\u80fd WSL2\u3068\u306f 2020\u5e74\u6625\u3054\u308d\u306b\u516c\u958b\u4e88\u5b9a\u306eWindows 10 \u30d0\u30fc\u30b8\u30e7\u30f32004 \u4ee5\u964d\u3067\u306f\u3001\u73fe\u884c\u306eWSL(\u4ee5\u964d\u3001\u30d0\u30fc\u30b8\u30e7\u30f31\u3068\u8a18\u8f09) \u306b\u52a0\u3048\u3066\u3001WSL2(\u4ee5\u964d\u3001WSL2 \u3082\u3057\u304f\u306f \u30d0\u30fc\u30b8\u30e7\u30f32\u3068\u8a18\u8f09) \u3092\u5229\u7528\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 WSL2\u3067\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f31\u3068\u6bd4\u8f03\u3057\u3066\u3001\u4e0b\u8a18\u306e\u6539\u5584\u304c\u306a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Linux\u4e0a\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u306e\u5411\u4e0a \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u306e\u5b8c\u5168\u4e92\u63db WSL2\u306f\u3001WSL1\u3092\u7f6e\u304d\u63db\u3048\u308b\u3082\u306e\u3067\u306f\u306a\u304f\u3001\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u5358\u4f4d\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002 WSL1\u304b\u3089WSL2\u306b\u5207\u308a\u66ff\u3048\u308b\u30b3\u30de\u30f3\u30c9 > wsl.exe --list --verbose NAME STATE VERSION * Ubuntu Running 1 > wsl.exe --set-version Ubuntu 2 \u5909\u63db\u4e2d\u3067\u3059\u3002\u3053\u306e\u51e6\u7406\u306b\u306f\u6570\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059... WSL 2 \u3068\u306e\u4e3b\u306a\u9055\u3044\u306b\u3064\u3044\u3066\u306f\u3001https://aka.ms/wsl2 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044 \u5909\u63db\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 > wsl.exe --list --verbose NAME STATE VERSION * Ubuntu Running 2 WSL2\u304b\u3089WSL1\u306b\u623b\u3059\u30b3\u30de\u30f3\u30c9 > wsl.exe --list --verbose NAME STATE VERSION * Ubuntu Running 2 > wsl.exe --set-version Ubuntu 1 \u5909\u63db\u4e2d\u3067\u3059\u3002\u3053\u306e\u51e6\u7406\u306b\u306f\u6570\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059... \u5909\u63db\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 > wsl.exe --list --verbose NAME STATE VERSION * Ubuntu Running 1 WSL2\u306e\u69cb\u6210\u8981\u7d20 WSL2\u306f\u3001\u4e0b\u8a18\u306e\u56f3\u306b\u793a\u3055\u308c\u308b\u3088\u3046\u306a\u8981\u7d20\u304b\u3089\u6210\u308a\u7acb\u3063\u3066\u3044\u307e\u3059\u3002 \u56f3. WSL2 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u6982\u7565 \u30e9\u30f3\u30c1\u30e3\u30fc/\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9(wsl.exe/wslhost.exe) LxssManager(LxssManager.dll) Hyper-V \u30db\u30b9\u30c8 \u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0 \u30b5\u30fc\u30d3\u30b9(vmcompute.exe) \u4eee\u60f3\u30de\u30b7\u30f3 \u30ef\u30fc\u30ab\u30fc \u30d7\u30ed\u30bb\u30b9(vmwp.exe : 9P\u30b5\u30fc\u30d0\u6a5f\u80fd\u3092\u542b\u3080) Hyper-V\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6 \u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3(Light-weight Virtual Machine) Linux\u30ab\u30fc\u30cd\u30eb \u30b3\u30f3\u30c6\u30ca \u4eee\u60f3HDD(ext4.vhdx) MS\u88fdinit(9P\u30b5\u30fc\u30d0\u6a5f\u80fd\u3092\u542b\u3080) Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Plan9\u30d7\u30ed\u30c8\u30b3\u30eb \u30ea\u30c0\u30a4\u30ec\u30af\u30bf(\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc: p9rdr.sys) \u53c2\u8003: The new Windows subsystem for Linux architecture: a deep dive - BRK3068 - Microsoft Developer - YouTube 7 \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u306e\u63d0\u4f9b WSL2\u3067\u306f\u3001\u5b8c\u5168\u306aLinux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u306e\u63d0\u4f9b\u306e\u305f\u3081\u3001Linux\u30ab\u30fc\u30cd\u30eb\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 \u30ab\u30fc\u30cd\u30eb\u306e\u5b9f\u884c\u74b0\u5883\u3068\u3057\u3066Hyper-V\u306e\u3088\u3046\u306a\u6e96\u4eee\u60f3\u5316\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u30db\u30b9\u30c8OS\u3068\u306a\u308bWindows10\u3082Hyper-V\u306e\u6709\u52b9\u5316\u6642\u3068\u540c\u69d8\u306b\u3001\u4eee\u60f3\u5316\u74b0\u5883\u306e\u4e2d\u306b\u5165\u308a\u307e\u3059\u3002 \u5bfe\u3057\u3066WSL\u74b0\u5883\u306f\u3001\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3068\u547c\u3070\u308c\u308b\u30bf\u30a4\u30d7\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u3067Linux\u30ab\u30fc\u30cd\u30eb\u304c\u8d77\u52d5\u3057\u3001\u305d\u306e\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u308b\u30b3\u30f3\u30c6\u30ca\u30e9\u30f3\u30bf\u30a4\u30e0\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002(Ubuntu\u3067\u3042\u308c\u3070\u3001 Ubuntu on Container on Light weight VM on Hyper-V \u3067\u3059\u3002) \u307e\u305f\u3001Linux\u30ab\u30fc\u30cd\u30eb\u306fMicrosoft\u793e\u306b\u3088\u308a\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305f\u3082\u306e\u304c\u4f7f\u7528\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u308c\u306fGithub\u4e0a\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 6 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 \u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3001\u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002 WSL1: NTFS\u4e0a\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u305fVolFS WSL2: \u4eee\u60f3HDD(root.vhdx)\u4e0a\u306eext4 NTFS\u3092\u901a\u3057\u3066\u3001\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u30fb\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u3063\u305f\u305f\u3081\u306b\u3001\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u304c\u5411\u4e0a\u3057\u3066\u3044\u307e\u3059\u3002 Windows\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9 WSL\u5185\u304b\u3089Windows\u4e0a\u306eNTFS\u306a\u3069\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u65b9\u6cd5\u3082\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002 WSL1: DrvFS\u3092\u901a\u3057\u305f\u30a2\u30af\u30bb\u30b9 WSL2: 9P\u3067\u306e\u30a2\u30af\u30bb\u30b9 WSL1\u3067\u306eDrvFS\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068\u3057\u3066\u547c\u3073\u51fa\u3057\u305f\u969b\u306b\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc\u3067\u3042\u308bLxCore.sys, lsxx.sys\u304c\u51e6\u7406\u3057\u3066\u3044\u307e\u3057\u305f\u3002 \u3057\u304b\u3057\u3001WSL2\u3067\u306f\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3+\u30b3\u30f3\u30c6\u30ca\u6280\u8853\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u5229\u7528\u3057\u305f\u65b9\u6cd5\u304b\u3089\u30019P\u3092\u7d4c\u7531\u3057\u305f\u30a2\u30af\u30bb\u30b9\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002 WSL\u5185\u306einit\u3068\u540c\u69d8\u306b\u3001Windows\u5074\u3067\u3082\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u306eVM Workder\u30d7\u30ed\u30bb\u30b9\u5185\u30679P\u30b5\u30fc\u30d0\u304c\u52d5\u4f5c\u3057\u3066\u304a\u308a 8 \u3001 \u3053\u306e9P\u30b5\u30fc\u30d0\u3092\u901a\u3058\u3066\u3001Linux\u30d7\u30ed\u30bb\u30b9\u304b\u3089C\u30c9\u30e9\u30a4\u30d6\u306a\u3069\u3078\u30a2\u30af\u30bb\u30b9\u3055\u308c\u307e\u3059\u3002 DEFEND AND UNDERSTAND WSL - ionescu007/lxss - Github \u21a9 Pico Process Overview - Windows Subsystem for Linux \u21a9 WSL \u305d\u306e19 - WSL\u3092\u69cb\u6210\u3059\u308b\u57fa\u76e4\u306e1\u3064\u3067\u3042\u308b\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u3068\u306f - kledgeb \u21a9 WSL System Calls - Windows Subsystem for Linux \u21a9 WSL \u305d\u306e24 - \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068\u306f\uff08\u524d\u7de8\uff09\u30fbLinux\u30ab\u30fc\u30cd\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068Windows NT\u30ab\u30fc\u30cd\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb - kledgeb \u21a9 GitHub - microsoft/WSL2-Linux-Kernel : The source for the Linux kernel used in Windows Subsystem for Linux 2 (WSL2) \u21a9 The new Windows subsystem for Linux architecture: a deep dive - BRK3068 - Microsoft Developer - YouTube \u21a9 Attacking the VM Worker Process - Microsoft Security Response Center \u21a9","title":"WSL\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#wsl","text":"","title":"WSL\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#wsl_1","text":"Windows Subsystem for Linux(WSL)\u306f\u5c11\u306a\u3044\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3067GNU/Linux\u306eCLI\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3067\u304d\u308b\u74b0\u5883\u3092\u63d0\u4f9b\u3059\u308b\u6a5f\u80fd\u3067\u3059\u3002 Windows\u3067\u306f\u300cPortable Executable\u300d\u3068\u3044\u3046\u5f62\u5f0f\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3057\u304b\u3057\u3001Linux\u306a\u3069\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306f\u300cExecutable and Linkable Format(ELF)\u300d\u3068\u547c\u3070\u308c\u308b\u5f62\u5f0f\u3067\u3042\u308b\u305f\u3081\u3001\u901a\u5e38\u306fWindows\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002","title":"WSL\u3067\u5b9f\u73fe\u3067\u304d\u308b\u3053\u3068"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#linuxelf","text":"Linux\u306eCLI\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5229\u7528\u3067\u304d\u308b\u74b0\u5883\u3092\u7528\u610f\u3059\u308b\u306b\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u6a5f\u80fd\u304c\u5fc5\u8981\u3067\u3059\u3002 Linux\u30ab\u30fc\u30cd\u30eb\u76f8\u5f53\u306e\u6a5f\u80fd \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30fb\u30d7\u30ed\u30bb\u30b9\u7ba1\u7406\u30fb\u30e1\u30e2\u30ea\u7ba1\u7406\u306a\u3069\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u306e\u63d0\u4f9b \u30b7\u30a7\u30eb\u74b0\u5883 bash, zsh, ksh\u306a\u3069 \u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3 \u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5165\u624b\u65b9\u6cd5\u306e\u63d0\u4f9b WSL\u3067\u306fLinux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u3092Windows\u306e\u6a5f\u80fd\u3068\u3057\u3066\u7528\u610f\u3057\u3001\u305d\u306e\u4e0a\u306bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092Microsoft Store\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3044\u3046\u5f62\u5f0f\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002","title":"Linux\u306e\u30d7\u30ed\u30b0\u30e9\u30e0(ELF\u30d0\u30a4\u30ca\u30ea)\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#wsl1wsl2","text":"WSL\u306b\u306f\u30d0\u30fc\u30b8\u30e7\u30f31\u3068\u30d0\u30fc\u30b8\u30e7\u30f32\u304c\u5b58\u5728\u3057\u3001\u305d\u308c\u305e\u308cLinux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u304a\u3088\u3073\u30c7\u30a3\u30b9\u30af\u306e\u63d0\u4f9b\u65b9\u6cd5\u304c\u7570\u306a\u308a\u307e\u3059\u3002 WSL1 LxCore.sys/Lxss.sys\u3068\u3044\u3046NT\u30ab\u30fc\u30cd\u30eb\u30c9\u30e9\u30a4\u30d0\u304c\u3001Linux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u547d\u4ee4\u304b\u3089Windows\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u547d\u4ee4\u3078\u5909\u63db\u3057\u3001\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u3092\u63d0\u4f9b\u3057\u307e\u3059 (Linux\u30ab\u30fc\u30cd\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044) VolFS\u3068\u3044\u3046\u72ec\u81ea\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u63a1\u7528 WSL2 \u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u7a3c\u50cd\u3059\u308bLinux\u30ab\u30fc\u30cd\u30eb\u304c\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u3092\u63d0\u4f9b\u3057\u307e\u3059 \u4eee\u60f3HDD(*.vhdx)\u30d5\u30a1\u30a4\u30eb\u4e0a\u306bext4\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u9069\u7528 \u56f3. WSL1 \u3068 WSL2 \u306e\u547d\u4ee4\u5b9f\u884c\u306e\u6bd4\u8f03 \u30d0\u30fc\u30b8\u30e7\u30f3 \u30d9\u30fc\u30b9\u6280\u8853 \u30e1\u30ea\u30c3\u30c8 \u30c7\u30e1\u30ea\u30c3\u30c8 \u30d0\u30fc\u30b8\u30e7\u30f31 (WSL1) \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u5909\u63db \u30e1\u30e2\u30ea\u306e\u6d88\u8cbb\u304c\u5c11\u306a\u3044 \u547d\u4ee4\u5909\u63db\u306b\u3088\u308bCPU\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9 \u4e00\u90e8\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u304c\u5b9f\u884c\u4e0d\u53ef \u30c7\u30a3\u30b9\u30af\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u304c\u9045\u3044 \u30d0\u30fc\u30b8\u30e7\u30f32 (WSL2) \u4eee\u60f3\u30de\u30b7\u30f3 \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u306e\u5b8c\u5168\u4e92\u63db (WSL1\u3068\u6bd4\u8f03\u3057\u3066)\u30c7\u30a3\u30b9\u30af\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u306e\u6539\u5584 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ad\u30e3\u30c3\u30b7\u30e5\u306a\u3069\u3067\u306e\u30e1\u30e2\u30ea\u6d88\u8cbb\u91cf\u306e\u5897\u52a0 \u306a\u304a\u3001\u672c\u8a18\u4e8b\u3067\u306fWSL\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u660e\u78ba\u306b\u533a\u5225\u3059\u308b\u305f\u3081\u3001WSL\u30d0\u30fc\u30b8\u30e7\u30f31\u3092\u300cWSL1\u300d\u3001\u30d0\u30fc\u30b8\u30e7\u30f32\u3092\u300cWSL2\u300d\u3068\u8a18\u8f09\u3057\u307e\u3059\u3002 \u307e\u305f\u3001WSL1\u3068WSL2\u306e\u4e21\u65b9\u306b\u5171\u901a\u3059\u308b\u6a5f\u80fd\u306e\u5834\u5408\u306f\u300cWSL1/WSL2\u300d\u3068\u3044\u3046\u98a8\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002","title":"WSL1\u3068WSL2\u306e\u9055\u3044"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#wsl1","text":"","title":"WSL1\u306e\u6a5f\u80fd"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#_1","text":"WSL1\u306f\u3001\u4e0b\u8a18\u306e\u56f3\u306b\u793a\u3055\u308c\u308b\u3088\u3046\u306a\u8981\u7d20\u304b\u3089\u6210\u308a\u7acb\u3063\u3066\u3044\u307e\u3059\u3002 \u56f3. WSL1 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u6982\u7565 \u30e9\u30f3\u30c1\u30e3\u30fc/\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9(wsl.exe/wslhost.exe) LxssManager(LxssManager.dll) \u30d4\u30b3\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc(\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc: LxCore.sys/Lxss.sys) \u30d4\u30b3\u30d7\u30ed\u30bb\u30b9 MS\u88fdinit\u30d7\u30ed\u30bb\u30b9 Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Plan9\u30d7\u30ed\u30c8\u30b3\u30eb \u30ea\u30c0\u30a4\u30ec\u30af\u30bf(\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc: p9rdr.sys) \u53c2\u8003: DEFEND AND UNDERSTAND WSL - ionescu007/lxss - Github 1","title":"\u69cb\u6210\u8981\u7d20"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#_2","text":"WSL1\u3067\u306f\u3001Windows\u4e0a\u3067\u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9(Pico Process)\u300d 2 \u3068\u547c\u3070\u308c\u308b\u5f62\u5f0f\u306e\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u3001Linux\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u52d5\u4f5c\u3055\u305b\u307e\u3059\u3002 \u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d\u306f\u3001Windows\u306e\u300c\u6700\u5c0f\u30d7\u30ed\u30bb\u30b9(Minimal Porcess)\u300d\u3068\u3044\u3046\u4ed5\u7d44\u307f\u3092\u5229\u7528\u3057\u3066\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 \u300c\u6700\u5c0f\u30d7\u30ed\u30bb\u30b9\u300d\u306f\u901a\u5e38\u306e\u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9\u30d7\u30ed\u30bb\u30b9\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u300c\u6700\u5c0f\u30d7\u30ed\u30bb\u30b9\u300d\u306e\u7279\u5fb4 ntdll.dll\u306f\u30d7\u30ed\u30bb\u30b9\u306b\u30de\u30c3\u30d7\u3055\u308c\u306a\u3044 \u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9\u306e\u30d0\u30a4\u30ca\u30ea\u30fc\u3067\u3042\u308b\u300cntdll.dll\u300d\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30d7\u30ed\u30bb\u30b9\u306b\u30de\u30c3\u30d7\u3055\u308c\u307e\u305b\u3093\u3002 PEB\u306f\u751f\u6210\u3055\u308c\u306a\u3044 \u30d7\u30ed\u30bb\u30b9\u306e\u7ba1\u7406\u306b\u4f7f\u7528\u3059\u308bPEB\uff08Process Environment Block\uff09\u306f\u751f\u6210\u3055\u308c\u307e\u305b\u3093\u3002 \u521d\u671f\u30b9\u30ec\u30c3\u30c9\u306f\u751f\u6210\u3055\u308c\u306a\u3044 \u30d7\u30ed\u30bb\u30b9\u751f\u6210\u6642\u3001\u521d\u671f\u30b9\u30ec\u30c3\u30c9\uff08\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\uff09\u3092\u751f\u6210\u3057\u307e\u305b\u3093\u3002 TEB\u306f\u81ea\u52d5\u7684\u306b\u751f\u6210\u3055\u308c\u306a\u3044 \u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d\u5185\u3067\u30b9\u30ec\u30c3\u30c9\u304c\u751f\u6210\u3055\u308c\u3066\u3082\u3001\u30b9\u30ec\u30c3\u30c9\u306e\u7ba1\u7406\u306b\u4f7f\u7528\u3059\u308bTEB\uff08Thread Environment Block\uff09\u306f\u81ea\u52d5\u7684\u306b\u751f\u6210\u3055\u308c\u307e\u305b\u3093\u3002 \u5171\u6709\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u30de\u30c3\u30d7\u3055\u308c\u306a\u3044 \u5171\u6709\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u306b\u30de\u30c3\u30d7\u3055\u308c\u307e\u305b\u3093\u3002 \u5171\u6709\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u3068\u306f\u3001\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u7a7a\u9593\u306b\u8aad\u307f\u8fbc\u307f\u5c02\u7528\u3067\u30de\u30c3\u30d7\u3055\u308c\u3001\u30b7\u30b9\u30c6\u30e0\u5171\u901a\u306e\u60c5\u5831\u3092\u52b9\u679c\u7684\u306b\u691c\u7d22\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u30d6\u30ed\u30c3\u30af\u3067\u3059\u3002 PEB/TEB\u306a\u3057\u3067\u52d5\u4f5c\u3059\u308b \u5f93\u6765\u306e\u30d7\u30ed\u30bb\u30b9\u306e\u3088\u3046\u306b\u30d7\u30ed\u30bb\u30b9\u304c\u5e38\u306bPEB/TEB\u3092\u6301\u3063\u3066\u3044\u308b\u524d\u63d0\u3067\u52d5\u4f5c\u3059\u308b\u500b\u6240\u306f\u3001PEB/TEB\u306a\u3057\u3067\u3082\u30d7\u30ed\u30bb\u30b9\u3092\u6271\u3048\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30ab\u30fc\u30cd\u30eb\u306f\u7a4d\u6975\u7684\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u7ba1\u7406\u3092\u884c\u308f\u306a\u3044 Windows\u30ab\u30fc\u30cd\u30eb\u306f\u3001\u7a4d\u6975\u7684\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u7ba1\u7406\u3092\u884c\u3044\u307e\u305b\u3093\u3002 \u3057\u304b\u3057\u30b9\u30ec\u30c3\u30c9\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3084\u30e1\u30e2\u30ea\u30fc\u7ba1\u7406\u306a\u3069\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u5229\u7528\u3057\u305f\u3044OS\u306e\u3059\u3079\u3066\u306e\u57fa\u76e4\u6280\u8853\u306f\u5f15\u304d\u7d9a\u304d\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002 \u5f15\u7528\u5143: WSL \u305d\u306e19 - WSL\u3092\u69cb\u6210\u3059\u308b\u57fa\u76e4\u306e1\u3064\u3067\u3042\u308b\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u3068\u306f - kledgeb 3 \u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d\u306f\u3001\u3053\u308c\u3089\u306e\u7279\u5fb4\u3092\u5229\u7528\u3057\u3066\u3001\u901a\u5e38\u306eWindows\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u306e\u9694\u96e2\u3068\u6700\u5c0f\u9650\u306e\u30d7\u30ed\u30bb\u30b9\u7ba1\u7406\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u30d7\u30ed\u30bb\u30b9\u7ba1\u7406\u3068\u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#api","text":"WSL1\u3067\u306f\u3001LxCore.sys, lsxx.sys\u306e2\u3064\u306e\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc\u304cNT\u30ab\u30fc\u30cd\u30eb\u4e0a\u3067\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e2\u3064\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u306f\u300c\u30d4\u30b3\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u300d\u3068\u547c\u3070\u308c\u3001\u3053\u308c\u3089\u304cLinux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 \u300c\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u300d\u306e\u547c\u3073\u51fa\u3057\u305f\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3084\u4f8b\u5916\u306f\u3001\u30c9\u30e9\u30a4\u30d0\u30fc\u4e0a\u3067\u306e\u51e6\u7406\u3084Windows\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3078\u306e\u5909\u63db\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001WSL1\u306b\u304a\u3044\u3066Linux\u30ab\u30fc\u30cd\u30eb\u76f8\u5f53\u306e\u6a5f\u80fd\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 \u53c2\u8003\u6587\u732e: WSL System Calls - Windows Subsystem for Linux 4 , WSL \u305d\u306e24 - \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068\u306f\uff08\u524d\u7de8\uff09\u30fbLinux\u30ab\u30fc\u30cd\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068Windows NT\u30ab\u30fc\u30cd\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb - kledgeb 5","title":"\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u306e\u63d0\u4f9b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#_3","text":"","title":"\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#volfs","text":"\u300cVolFs\u300d\u3068\u306f\u3001WSL1\u3067\u52d5\u4f5c\u3059\u308b\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u3053\u308c\u306f\u3001WSL1\u72ec\u81ea\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3042\u308a\u3001WSL1\u3067\u306fext4\u3084xfs\u3001btrfs\u3068\u3044\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306b\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 VolFs\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u4f53\u306f\u3001Windows\u306eNTFS\u4e0a\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001NTFS\u3067\u306fLinux\u4e0a\u3067\u5229\u7528\u3055\u308c\u308b\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u306a\u3069\u304c\u4fdd\u5b58\u3067\u304d\u306a\u3044\u305f\u3081\u3001VolFs\u3067\u306f\u5b9f\u30d5\u30a1\u30a4\u30eb\u3068\u306f\u5225\u306b\u30e1\u30bf\u30c7\u30fc\u30bf\u3068\u3057\u3066\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u3066\u3044\u307e\u3059\u3002 VolFs\u306f\u3001ext4\u3084xfs\u3001btrfs\u3068\u540c\u69d8\u306b\u3001Virtual File System(VFS)\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u62bd\u8c61\u5316\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4e0a\u306b\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001\u4ed6\u306eLinux\u4e0a\u3067\u5229\u7528\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3068\u540c\u69d8\u306b\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002","title":"VolFs"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#drvfs","text":"\u300cDrvFs\u300d\u3068\u306f\u3001WSL1\u306e\u4e2d\u304b\u3089Windows\u4e0a\u306eC\u30c9\u30e9\u30a4\u30d6\u306a\u3069\u306e\u300c\u30c9\u30e9\u30a4\u30d6\u6587\u5b57\u3092\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u300d\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c9\u30e9\u30a4\u30d6\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u3002 \u3053\u3061\u3089\u3082WSL1\u306e\u72ec\u81ea\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u304c\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u306a\u3069\u306f\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u30e6\u30fc\u30b6\u3067 777 \u3082\u3057\u304f\u306f 555 \u3067\u56fa\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\u5909\u66f4\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 WSL\u306e\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001USB\u30d5\u30e9\u30c3\u30b7\u30e5\u30c7\u30a3\u30b9\u30af\u306a\u3069\u3092\u5f8c\u304b\u3089\u63a5\u7d9a\u3057\u305f\u5834\u5408\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3067\u624b\u52d5\u30de\u30a6\u30f3\u30c8\u3059\u308b\u3053\u3068\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 E\u30c9\u30e9\u30a4\u30d6\u3092\u30de\u30a6\u30f3\u30c8 sudo mkdir /mnt/e sudo mount -t drvfs E: /mnt/e","title":"DrvFs"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#init","text":"Linux\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u901a\u5e38\u3001\u30ab\u30fc\u30cd\u30eb\u306b\u3088\u308ainit\u30d7\u30ed\u30bb\u30b9\u304c\u8d77\u52d5\u3055\u308c\u3001\u305d\u306e\u5f8cinit\u304c\u5404Daemon\u306e\u8d77\u52d5\u3092\u62c5\u3044\u3001Linux\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u5168\u3066\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u30d7\u30ed\u30bb\u30b9ID = 1 \u306einit\u30d7\u30ed\u30bb\u30b9\u3092\u89aa\u3068\u3057\u3066\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002 WSL\u3067\u3082\u3001init\u30d7\u30ed\u30bb\u30b9\u304c\u5168\u30d7\u30ed\u30bb\u30b9\u306e\u89aa\u30d7\u30ed\u30bb\u30b9\u3068\u306a\u308b\u70b9\u306f\u540c\u69d8\u3067\u3059\u3002 \u3057\u304b\u3057\u3001WSL\u3067\u5229\u7528\u3055\u308c\u308binit\u306f\u3001WSL\u5c02\u7528\u306bMS\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u3042\u308a\u3001\u901a\u5e38\u306eLinux\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308bSystem V init\u3084systemd\u3068\u306f\u7570\u306a\u308b\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 WSL\u306einit\u30d7\u30ed\u30b0\u30e9\u30e0\u306f /sbin/init \u3067\u306f\u306a\u304f\u3001 /init \u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002","title":"init\u30d7\u30ed\u30bb\u30b9\u306b\u3064\u3044\u3066"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#_4","text":"WSL\u3067\u306f\u3001Daemon\u306e\u8d77\u52d5\u306f\u884c\u308f\u308c\u305a\u3001\u3053\u306e\u70b9\u304cSystem V init\u3084systemd\u306a\u3069\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002 WSL\u304c\u8d77\u52d5\u3055\u308c\u308b\u3068\u3001\u30d7\u30ed\u30bb\u30b9ID = 1 \u306e\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u6700\u521d\u306b\u8d77\u52d5\u3057\u3001 /etc/passwd \u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002","title":"\u30e6\u30fc\u30b6\u30e9\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u306e\u8d77\u52d5"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#windowslinux","text":"\u307e\u305fWSL\u306einit\u306f\u3001Windows\u304b\u3089Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 Windows\u304b\u3089Linux\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306f\u3001UNC\u30d1\u30b9\u3067 \\\\wsl$\\[\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u540d] \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001WSL\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"Windows\u2192Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#_5","text":"Windows\u4e0a\u304b\u3089Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306b\u306f\u300cPlan 9 Filesystem Protocol(9P)\u300d\u3068\u547c\u3070\u308c\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u300cPlan 9 from Bell Labs\u300d\u3068\u3044\u3046UNIX\u306e\u5f8c\u7d99\u3068\u3057\u3066\u30d9\u30eb\u7814\u7a76\u6240\u3067\u958b\u767a\u3055\u308c\u305fOS\u306b\u304a\u3044\u3066\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u6210\u8981\u7d20\u9593\u306e\u63a5\u7d9a\u3092\u76ee\u7684\u3068\u3057\u3066\u958b\u767a\u3055\u308c\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002 WSL\u306einit\u306b\u306f9P\u30b5\u30fc\u30d0\u3092\u642d\u8f09\u3057\u3066\u304a\u308a\u3001Windows\u304b\u3089\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3092\u901a\u3058\u3066\u30019P\u30b5\u30fc\u30d0\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 init\u30d7\u30ed\u30bb\u30b9\u306f\u30019P\u30b5\u30fc\u30d0\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u53d7\u3051\u53d6\u308b\u3068\u3001Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u66f8\u304d\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001Windows\u5074\u3067\u306f p9rdr.sys \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ea\u30c0\u30a4\u30ec\u30af\u30bf\u304c\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc\u3068\u3057\u3066\u7a3c\u50cd\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30bf\u306fWindows\u30d7\u30ed\u30bb\u30b9\u304b\u3089 \\\\wsl$ \u3078\u30a2\u30af\u30bb\u30b9\u3057\u305f\u969b\u306b\u52d5\u4f5c\u3057\u3001P9\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3057\u3066WSL\u4e0a\u306eP9\u30b5\u30fc\u30d0\u3078\u30a2\u30af\u30bb\u30b9\u3057\u30019P\u30b5\u30fc\u30d0\u304b\u3089\u53d7\u3051\u53d6\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u3084\u30d5\u30a9\u30eb\u30c0\u306a\u3069\u306e\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u306a\u3069\u306eWindows\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4e0a\u306b\u8868\u73fe\u3059\u308b\u3053\u3068\u3067\u3001Windows\u304b\u3089Linux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 \u56f3. 9P\u3092\u5229\u7528\u3057\u305fLinux\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9","title":"\u4ed5\u7d44\u307f"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#linuxwindows","text":"WSL\u3067\u306f\u3001WSL\u5185\u306ebash\u306a\u3069\u304b\u3089\u3001 cmd.exe \u306a\u3069\u306eWindows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"Linux\u2192Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u547c\u3073\u51fa\u3057"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#_6","text":"init\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5f15\u6570\u306bWindows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001WSL\u5185\u304b\u3089Windows\u4e0a\u3078\u60c5\u5831\u304c\u6e21\u3055\u308c\u3001Windows\u4e0a\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002 WSL\u3067\u306fDrvFS\u306b\u3088\u308a /mnt/c/ \u306a\u3069\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3001Windows\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3066\u304a\u308a\u3001 Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u305d\u306e\u914d\u4e0b\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 WSL\u304b\u3089Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u547c\u3073\u51fa\u3059\u969b\u306b\u306f\u3001init\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5f15\u6570\u306b /mnt/c/ \u304b\u3089\u59cb\u307e\u308bWindows\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u30d1\u30b9\u3092\u4e0e\u3048\u308b\u3068\u3001init\u306b\u5185\u90e8\u3067 C:\\ \u304b\u3089\u59cb\u307e\u308bWindows\u5074\u3067\u306e\u30d1\u30b9\u306b\u5909\u63db\u3055\u308c\u3001LxCore.sys\u306a\u3069\u3092\u901a\u3057\u3066 wsl.exe \u3078\u6e21\u3055\u308c\u307e\u3059\u3002 wsl.exe \u304c\u6e21\u3055\u308c\u305f\u30d1\u30b9\u306eWindows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3059\u308b\u3053\u3068\u3067\u3001WSL\u5185\u90e8\u304b\u3089Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067Windows\u4e0a\u306ePATH\u74b0\u5883\u5909\u6570\u3092WSL\u3078\u5f15\u304d\u7d99\u3044\u3067\u3044\u308b\u305f\u3081\u3001\u30d5\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 (\u305f\u3060\u3057\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3084Powershell\u3068\u7570\u306a\u308a\u3001 .exe \u3068\u3044\u3063\u305f\u62e1\u5f35\u5b50\u306e\u6307\u5b9a\u306f\u5fc5\u8981\u3067\u3059\u3002)","title":"\u4ed5\u7d44\u307f"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#wsl2","text":"","title":"WSL2\u306e\u6a5f\u80fd"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#wsl2_1","text":"2020\u5e74\u6625\u3054\u308d\u306b\u516c\u958b\u4e88\u5b9a\u306eWindows 10 \u30d0\u30fc\u30b8\u30e7\u30f32004 \u4ee5\u964d\u3067\u306f\u3001\u73fe\u884c\u306eWSL(\u4ee5\u964d\u3001\u30d0\u30fc\u30b8\u30e7\u30f31\u3068\u8a18\u8f09) \u306b\u52a0\u3048\u3066\u3001WSL2(\u4ee5\u964d\u3001WSL2 \u3082\u3057\u304f\u306f \u30d0\u30fc\u30b8\u30e7\u30f32\u3068\u8a18\u8f09) \u3092\u5229\u7528\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 WSL2\u3067\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f31\u3068\u6bd4\u8f03\u3057\u3066\u3001\u4e0b\u8a18\u306e\u6539\u5584\u304c\u306a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Linux\u4e0a\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u306e\u5411\u4e0a \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u306e\u5b8c\u5168\u4e92\u63db WSL2\u306f\u3001WSL1\u3092\u7f6e\u304d\u63db\u3048\u308b\u3082\u306e\u3067\u306f\u306a\u304f\u3001\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u5358\u4f4d\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002 WSL1\u304b\u3089WSL2\u306b\u5207\u308a\u66ff\u3048\u308b\u30b3\u30de\u30f3\u30c9 > wsl.exe --list --verbose NAME STATE VERSION * Ubuntu Running 1 > wsl.exe --set-version Ubuntu 2 \u5909\u63db\u4e2d\u3067\u3059\u3002\u3053\u306e\u51e6\u7406\u306b\u306f\u6570\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059... WSL 2 \u3068\u306e\u4e3b\u306a\u9055\u3044\u306b\u3064\u3044\u3066\u306f\u3001https://aka.ms/wsl2 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044 \u5909\u63db\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 > wsl.exe --list --verbose NAME STATE VERSION * Ubuntu Running 2 WSL2\u304b\u3089WSL1\u306b\u623b\u3059\u30b3\u30de\u30f3\u30c9 > wsl.exe --list --verbose NAME STATE VERSION * Ubuntu Running 2 > wsl.exe --set-version Ubuntu 1 \u5909\u63db\u4e2d\u3067\u3059\u3002\u3053\u306e\u51e6\u7406\u306b\u306f\u6570\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059... \u5909\u63db\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 > wsl.exe --list --verbose NAME STATE VERSION * Ubuntu Running 1","title":"WSL2\u3068\u306f"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#wsl2_2","text":"WSL2\u306f\u3001\u4e0b\u8a18\u306e\u56f3\u306b\u793a\u3055\u308c\u308b\u3088\u3046\u306a\u8981\u7d20\u304b\u3089\u6210\u308a\u7acb\u3063\u3066\u3044\u307e\u3059\u3002 \u56f3. WSL2 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u6982\u7565 \u30e9\u30f3\u30c1\u30e3\u30fc/\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9(wsl.exe/wslhost.exe) LxssManager(LxssManager.dll) Hyper-V \u30db\u30b9\u30c8 \u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0 \u30b5\u30fc\u30d3\u30b9(vmcompute.exe) \u4eee\u60f3\u30de\u30b7\u30f3 \u30ef\u30fc\u30ab\u30fc \u30d7\u30ed\u30bb\u30b9(vmwp.exe : 9P\u30b5\u30fc\u30d0\u6a5f\u80fd\u3092\u542b\u3080) Hyper-V\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6 \u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3(Light-weight Virtual Machine) Linux\u30ab\u30fc\u30cd\u30eb \u30b3\u30f3\u30c6\u30ca \u4eee\u60f3HDD(ext4.vhdx) MS\u88fdinit(9P\u30b5\u30fc\u30d0\u6a5f\u80fd\u3092\u542b\u3080) Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Plan9\u30d7\u30ed\u30c8\u30b3\u30eb \u30ea\u30c0\u30a4\u30ec\u30af\u30bf(\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc: p9rdr.sys) \u53c2\u8003: The new Windows subsystem for Linux architecture: a deep dive - BRK3068 - Microsoft Developer - YouTube 7","title":"WSL2\u306e\u69cb\u6210\u8981\u7d20"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#api_1","text":"WSL2\u3067\u306f\u3001\u5b8c\u5168\u306aLinux\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u306e\u63d0\u4f9b\u306e\u305f\u3081\u3001Linux\u30ab\u30fc\u30cd\u30eb\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 \u30ab\u30fc\u30cd\u30eb\u306e\u5b9f\u884c\u74b0\u5883\u3068\u3057\u3066Hyper-V\u306e\u3088\u3046\u306a\u6e96\u4eee\u60f3\u5316\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u30db\u30b9\u30c8OS\u3068\u306a\u308bWindows10\u3082Hyper-V\u306e\u6709\u52b9\u5316\u6642\u3068\u540c\u69d8\u306b\u3001\u4eee\u60f3\u5316\u74b0\u5883\u306e\u4e2d\u306b\u5165\u308a\u307e\u3059\u3002 \u5bfe\u3057\u3066WSL\u74b0\u5883\u306f\u3001\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3068\u547c\u3070\u308c\u308b\u30bf\u30a4\u30d7\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u3067Linux\u30ab\u30fc\u30cd\u30eb\u304c\u8d77\u52d5\u3057\u3001\u305d\u306e\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u308b\u30b3\u30f3\u30c6\u30ca\u30e9\u30f3\u30bf\u30a4\u30e0\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002(Ubuntu\u3067\u3042\u308c\u3070\u3001 Ubuntu on Container on Light weight VM on Hyper-V \u3067\u3059\u3002) \u307e\u305f\u3001Linux\u30ab\u30fc\u30cd\u30eb\u306fMicrosoft\u793e\u306b\u3088\u308a\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305f\u3082\u306e\u304c\u4f7f\u7528\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u308c\u306fGithub\u4e0a\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 6","title":"\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30ebAPI\u306e\u63d0\u4f9b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#_7","text":"","title":"\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#_8","text":"\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3001\u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002 WSL1: NTFS\u4e0a\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u305fVolFS WSL2: \u4eee\u60f3HDD(root.vhdx)\u4e0a\u306eext4 NTFS\u3092\u901a\u3057\u3066\u3001\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u30fb\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u3063\u305f\u305f\u3081\u306b\u3001\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u304c\u5411\u4e0a\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/Architecture/#windows","text":"WSL\u5185\u304b\u3089Windows\u4e0a\u306eNTFS\u306a\u3069\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u65b9\u6cd5\u3082\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002 WSL1: DrvFS\u3092\u901a\u3057\u305f\u30a2\u30af\u30bb\u30b9 WSL2: 9P\u3067\u306e\u30a2\u30af\u30bb\u30b9 WSL1\u3067\u306eDrvFS\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068\u3057\u3066\u547c\u3073\u51fa\u3057\u305f\u969b\u306b\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc\u3067\u3042\u308bLxCore.sys, lsxx.sys\u304c\u51e6\u7406\u3057\u3066\u3044\u307e\u3057\u305f\u3002 \u3057\u304b\u3057\u3001WSL2\u3067\u306f\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3+\u30b3\u30f3\u30c6\u30ca\u6280\u8853\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30ab\u30fc\u30cd\u30eb\u30e2\u30fc\u30c9\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u5229\u7528\u3057\u305f\u65b9\u6cd5\u304b\u3089\u30019P\u3092\u7d4c\u7531\u3057\u305f\u30a2\u30af\u30bb\u30b9\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002 WSL\u5185\u306einit\u3068\u540c\u69d8\u306b\u3001Windows\u5074\u3067\u3082\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u306eVM Workder\u30d7\u30ed\u30bb\u30b9\u5185\u30679P\u30b5\u30fc\u30d0\u304c\u52d5\u4f5c\u3057\u3066\u304a\u308a 8 \u3001 \u3053\u306e9P\u30b5\u30fc\u30d0\u3092\u901a\u3058\u3066\u3001Linux\u30d7\u30ed\u30bb\u30b9\u304b\u3089C\u30c9\u30e9\u30a4\u30d6\u306a\u3069\u3078\u30a2\u30af\u30bb\u30b9\u3055\u308c\u307e\u3059\u3002 DEFEND AND UNDERSTAND WSL - ionescu007/lxss - Github \u21a9 Pico Process Overview - Windows Subsystem for Linux \u21a9 WSL \u305d\u306e19 - WSL\u3092\u69cb\u6210\u3059\u308b\u57fa\u76e4\u306e1\u3064\u3067\u3042\u308b\u30d4\u30b3\u30d7\u30ed\u30bb\u30b9\u3068\u306f - kledgeb \u21a9 WSL System Calls - Windows Subsystem for Linux \u21a9 WSL \u305d\u306e24 - \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068\u306f\uff08\u524d\u7de8\uff09\u30fbLinux\u30ab\u30fc\u30cd\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3068Windows NT\u30ab\u30fc\u30cd\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb - kledgeb \u21a9 GitHub - microsoft/WSL2-Linux-Kernel : The source for the Linux kernel used in Windows Subsystem for Linux 2 (WSL2) \u21a9 The new Windows subsystem for Linux architecture: a deep dive - BRK3068 - Microsoft Developer - YouTube \u21a9 Attacking the VM Worker Process - Microsoft Security Response Center \u21a9","title":"Windows\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u30a2\u30af\u30bb\u30b9"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/DockerDesktopError/","text":"WSL2\u4e0a\u306edocker-compose\u3067\u8a8d\u8a3c\u30a8\u30e9\u30fc WSL2\u3068Docker Desktop for Windows\u3067\u3001WSL Integration\u3092\u4f7f\u7528\u3057\u3066 WSL\u5185\u306eUbuntu\u304b\u3089 docker-compose up \u3092\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u307e\u3057\u305f\u3002 docker-compose up \u3067\u306e\u30a8\u30e9\u30fc > docker - compose up - d Traceback ( most recent call last ): File \"bin/docker-compose\" , line 6 , in < module > File \"compose/cli/main.py\" , line 72 , in main File \"compose/cli/main.py\" , line 128 , in perform_command File \"compose/cli/main.py\" , line 1078 , in up File \"compose/cli/main.py\" , line 1074 , in up File \"compose/project.py\" , line 548 , in up File \"compose/service.py\" , line 351 , in ensure_image_exists File \"compose/service.py\" , line 1106 , in build File \"site-packages/docker/api/build.py\" , line 261 , in build File \"site-packages/docker/api/build.py\" , line 308 , in _set_auth_headers File \"site-packages/docker/auth.py\" , line 301 , in get_all_credentials File \"site-packages/docker/auth.py\" , line 287 , in _get_store_instance File \"site-packages/docker/credentials/store.py\" , line 25 , in __init__ docker . credentials . errors . InitializationError : docker - credential - desktop . exe not installed or not available in PATH [ 2598 ] Failed to execute script docker - compose \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u901a\u308a\u3001 docker-credential-desktop.exe \u304cPATH\u74b0\u5883\u5909\u6570\u306e\u4e2d\u304b\u3089\u898b\u3064\u304b\u3089\u306a\u3044\u3088\u3046\u3067\u3059\u3002 \u3069\u3046\u3084\u3089WSL Integration\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001Linux\u5074\u3067 docker login \u3092\u3057\u306a\u304f\u3066\u3082\u3001 Windows\u5074\u306eDocker Desktop\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u8a8d\u8a3c\u60c5\u5831\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u3067\u3059\u3002 \u539f\u56e0 bash\u306e\u30bf\u30d6\u88dc\u5b8c\u3067\u5f85\u305f\u3055\u308c\u308b\u306e\u304c\u5acc\u306a\u306e\u3067\u3001 wsl.conf \u30d5\u30a1\u30a4\u30eb\u3067Windows\u306ePATH\u74b0\u5883\u5909\u6570\u3092Ubuntu\u306b\u5f15\u304d\u7d99\u304c\u306a\u3044\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3057\u305f\u3002 Windows\u306ePATH\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b C:\\Program Files\\Docker\\Docker\\resources\\bin \u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u306b docker-credential-desktop.exe \u304c\u3042\u3063\u305f\u3088\u3046\u3067\u3059\u3002 /etc/wsl.conf [interop] enabled=true # WSL\u5185\u304b\u3089Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8d77\u52d5\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b (ver1809\u4ee5\u964d) appendWindowsPath=false # WSL\u5185\u306ePATH\u74b0\u5883\u5909\u6570\u306b\u3001Windows\u306ePATH\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\u3059\u308b (ver1809\u4ee5\u964d) \u5bfe\u5fdc Ubuntu\u4e0a\u306e ~/.profile \u3067\u524d\u8ff0\u306e\u30d5\u30a9\u30eb\u30c0\u3092PATH\u74b0\u5883\u5909\u6570\u306b\u8ffd\u52a0\u3059\u308b\u3068\u3001\u30a8\u30e9\u30fc\u304c\u89e3\u6d88\u3057\u307e\u3057\u305f\u3002 ~/.profile echo 'export PATH=\"$PATH:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/ProgramData/DockerDesktop/version-bin\"' >> ~/.profile tail ~/.profile","title":"WSL2\u4e0a\u306edocker-compose\u3067\u8a8d\u8a3c\u30a8\u30e9\u30fc"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/DockerDesktopError/#wsl2docker-compose","text":"WSL2\u3068Docker Desktop for Windows\u3067\u3001WSL Integration\u3092\u4f7f\u7528\u3057\u3066 WSL\u5185\u306eUbuntu\u304b\u3089 docker-compose up \u3092\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u307e\u3057\u305f\u3002 docker-compose up \u3067\u306e\u30a8\u30e9\u30fc > docker - compose up - d Traceback ( most recent call last ): File \"bin/docker-compose\" , line 6 , in < module > File \"compose/cli/main.py\" , line 72 , in main File \"compose/cli/main.py\" , line 128 , in perform_command File \"compose/cli/main.py\" , line 1078 , in up File \"compose/cli/main.py\" , line 1074 , in up File \"compose/project.py\" , line 548 , in up File \"compose/service.py\" , line 351 , in ensure_image_exists File \"compose/service.py\" , line 1106 , in build File \"site-packages/docker/api/build.py\" , line 261 , in build File \"site-packages/docker/api/build.py\" , line 308 , in _set_auth_headers File \"site-packages/docker/auth.py\" , line 301 , in get_all_credentials File \"site-packages/docker/auth.py\" , line 287 , in _get_store_instance File \"site-packages/docker/credentials/store.py\" , line 25 , in __init__ docker . credentials . errors . InitializationError : docker - credential - desktop . exe not installed or not available in PATH [ 2598 ] Failed to execute script docker - compose \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u901a\u308a\u3001 docker-credential-desktop.exe \u304cPATH\u74b0\u5883\u5909\u6570\u306e\u4e2d\u304b\u3089\u898b\u3064\u304b\u3089\u306a\u3044\u3088\u3046\u3067\u3059\u3002 \u3069\u3046\u3084\u3089WSL Integration\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001Linux\u5074\u3067 docker login \u3092\u3057\u306a\u304f\u3066\u3082\u3001 Windows\u5074\u306eDocker Desktop\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u8a8d\u8a3c\u60c5\u5831\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u3067\u3059\u3002","title":"WSL2\u4e0a\u306edocker-compose\u3067\u8a8d\u8a3c\u30a8\u30e9\u30fc"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/DockerDesktopError/#_1","text":"bash\u306e\u30bf\u30d6\u88dc\u5b8c\u3067\u5f85\u305f\u3055\u308c\u308b\u306e\u304c\u5acc\u306a\u306e\u3067\u3001 wsl.conf \u30d5\u30a1\u30a4\u30eb\u3067Windows\u306ePATH\u74b0\u5883\u5909\u6570\u3092Ubuntu\u306b\u5f15\u304d\u7d99\u304c\u306a\u3044\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3057\u305f\u3002 Windows\u306ePATH\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b C:\\Program Files\\Docker\\Docker\\resources\\bin \u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u306b docker-credential-desktop.exe \u304c\u3042\u3063\u305f\u3088\u3046\u3067\u3059\u3002 /etc/wsl.conf [interop] enabled=true # WSL\u5185\u304b\u3089Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8d77\u52d5\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b (ver1809\u4ee5\u964d) appendWindowsPath=false # WSL\u5185\u306ePATH\u74b0\u5883\u5909\u6570\u306b\u3001Windows\u306ePATH\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\u3059\u308b (ver1809\u4ee5\u964d)","title":"\u539f\u56e0"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/DockerDesktopError/#_2","text":"Ubuntu\u4e0a\u306e ~/.profile \u3067\u524d\u8ff0\u306e\u30d5\u30a9\u30eb\u30c0\u3092PATH\u74b0\u5883\u5909\u6570\u306b\u8ffd\u52a0\u3059\u308b\u3068\u3001\u30a8\u30e9\u30fc\u304c\u89e3\u6d88\u3057\u307e\u3057\u305f\u3002 ~/.profile echo 'export PATH=\"$PATH:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/ProgramData/DockerDesktop/version-bin\"' >> ~/.profile tail ~/.profile","title":"\u5bfe\u5fdc"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/","text":"Windows\u306e\u30b3\u30f3\u30c6\u30ca Host Compute Service(HCS) Host Conpute Service\u306fWindows\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u6271\u3046\u305f\u3081\u306eAPI\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002 1 \u3053\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u3001Linux\u3067\u306econtainerd\u3068runc\u306b\u3042\u305f\u308b\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 Windows\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u306f\u5927\u304d\u304f2\u7a2e\u985e\u3042\u308a\u3001Windows\u30b3\u30f3\u30c6\u30ca(\u30d7\u30ed\u30bb\u30b9\u5206\u96e2\u30e2\u30fc\u30c9)\u3068Hyper-V\u30b3\u30f3\u30c6\u30ca(Hyper-V\u5206\u96e2\u30e2\u30fc\u30c9)\u3068\u547c\u3070\u308c\u3066\u3044\u307e\u3059\u3002 1 2019/12\u73fe\u5728\u3001\u5404\u30e2\u30fc\u30c9\u306e\u30b3\u30f3\u30c6\u30ca\u304c\u5229\u7528\u3067\u304d\u308bOS\u30d0\u30fc\u30b8\u30e7\u30f3/\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002 Windows Server 2016 Windows Server 2019 Windows 10 Pro \u30d0\u30fc\u30b8\u30e7\u30f3 1607\u4ee5\u964d Windows 10 Enterprise \u30d0\u30fc\u30b8\u30e7\u30f3 1607\u4ee5\u964d \u305f\u3060\u3057\u3001Windows\u30b3\u30f3\u30c6\u30ca\u306e\u5b9f\u884c\u306f \u30d0\u30fc\u30b8\u30e7\u30f3 1809\u4ee5\u964d\u306e\u307f\u53ef\u80fd \u30b3\u30f3\u30c6\u30ca\u306e\u64cd\u4f5c\u306b\u306fdocker\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u304c\u3001\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002 hcsdiag Windows\u30b3\u30f3\u30c6\u30ca\u306e\u64cd\u4f5c\u306b\u306fdocker\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u304c\u591a\u3044\u304c\u3001\u305d\u306e\u4ed6\u306b hcsdiag.exe \u3068\u3044\u3046\u3082\u306e\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 \u3057\u304b\u3057\u306a\u304c\u3089\u3001\u30b3\u30de\u30f3\u30c9\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u304c\u73fe\u6642\u70b9(2019/12)\u3067\u898b\u3064\u304b\u3089\u306a\u3044\u305f\u3081\u3001\u305d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u5b9f\u884c\u3057\u305f\u7d50\u679c\u3092\u3053\u3053\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002 hcsdiag list \u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Lists running containers and VMs.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca or VM\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u2003\u9805\u76ee\u306f\u3001\u5de6\u304b\u3089\u300c\u30b3\u30f3\u30c6\u30ca/VM\u306e\u7a2e\u985e\u300d\u300c\u30b9\u30c6\u30fc\u30bf\u30b9\u300d\u300cGUID\u300d\u300c\u4f5c\u6210\u3057\u305f\u30b5\u30fc\u30d3\u30b9?\u300d\u3068\u4e88\u60f3\u3002 hcsdiag list \u4e0a\u304b\u3089\u3001\u300cHyper-V \u30b3\u30f3\u30c6\u30ca \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u300d\u300cHyper-V \u30b3\u30f3\u30c6\u30ca\u300d\u300cWSL2\u7528\u4eee\u60f3\u30de\u30b7\u30f3\u300d\u300cHyper-V\u4eee\u60f3\u30de\u30b7\u30f3\u300d\u306e4\u9805\u76ee\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3002 \u306a\u304a\u30014\u3064\u3081\u306e\u9805\u76ee\u304c\u300cVMMS\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u300cHyper-V\u4eee\u60f3\u30de\u30b7\u30f3\u300d\u3082\u8d77\u52d5\u3057\u3066\u3044\u308b\u304c\u3001\u300c\u30b9\u30c6\u30fc\u30bf\u30b9\u300d\u306f\u300cRunning\u300d\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3002 \u7406\u7531\u306f\u5206\u304b\u3089\u306a\u3044\u3002 PS > hcsdiag list 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 Hyper-V Container Template, Created, 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 Hyper-V Container, Running, 2A0A7D9B-25D0-4C18-B620-4FC1E92740F9, docker 3F098403-148F-49FE-9EA3-1729298CD01F VM, Running, 3F098403-148F-49FE-9EA3-1729298CD01F, WSL EB83922C-E87B-45FF-B2A3-BBB773644DCA VM, Created, EB83922C-E87B-45FF-B2A3-BBB773644DCA, VMMS hcsdiag exec [-uvm] <GUID> [command line] \u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Executes a process inside the container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30d7\u30ed\u30bb\u30b9\u3092\u5b9f\u884c\u3067\u304d\u305f\u304c\u3001VM\u306e\u5834\u5408\u306f\u3067\u304d\u306a\u3044\u3002 hcsdiag exec PS > hcsdiag exec 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 cmd /c \"dir C:\\\" Volume in drive C has no label. Volume Serial Number is C280-441F Directory of C:\\ 11/27/2019 06:55 PM 5,510 License.txt 12/25/2019 05:08 PM <DIR> Users 12/25/2019 05:08 PM <DIR> Windows 1 File(s) 5,510 bytes 2 Dir(s) 21,299,453,952 bytes free PS > hcsdiag exec 3F098403-148F-49FE-9EA3-1729298CD01F bash PS > $? False PS > hcsdiag exec 3F098403-148F-49FE-9EA3-1729298CD01F cmd PS > $? False hcsdiag console [-uvm] <GUID> \u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Launches an interactive console inside the container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u305f\u304c\u3001VM\u306e\u5834\u5408\u306f\u4f55\u3082\u8d77\u304d\u306a\u3044\u3002 hcsdiag read PS > hcsdiag console 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 Microsoft Windows [Version 10.0.19035.1] (c) 2019 Microsoft Corporation. All rights reserved. C:\\Windows\\system32> hcsdiag read [-uvm] <GUID> [host file] \u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Reads a file from the container and outputs it to standard output or a file.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u8868\u793a\u3055\u308c\u305f\u304c\u3001VM\u306e\u5834\u5408\u306f\u4f55\u3082\u8d77\u304d\u306a\u3044\u3002 hcsdiag read PS > hcsdiag read 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 'C:\\License.txt' MICROSOFT SOFTWARE SUPPLEMENTAL LICENSE FOR WINDOWS CONTAINER BASE IMAGE This Supplemental License is for the Windows Container Base Image (\"Container Image\"). If you comply with the terms of this Supplemental License you may use the Container Image as described below. \u226a\u4ee5\u4e0b\u7565\u226b hcsdiag write [-uvm] [host file] <GUID> \u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Writes from standard input or a host file to a file in the container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u305f\u304c\u3001VM\u306e\u5834\u5408\u306f\u4f55\u3082\u8d77\u304d\u306a\u3044\u3002 hcsdiag write PS > hcsdiag write 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 'C:\\Users\\ContainerUser\\hoge.txt' hogehoge hoge PS > hcsdiag exec 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 cmd /c 'more C:\\Users\\ContainerUser\\hoge.txt' hogehoge hoge hcsdiag kill <GUID> \u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Terminates a running container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u5f37\u5236\u7d42\u4e86\u3001WSL\u306eVM\u306e\u5834\u5408\u3082\u5f37\u5236\u7d42\u4e86\u3055\u308c\u305f\u3002Hyper-V\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u5834\u5408\u306f\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u5f37\u5236\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u305f\u3002 hcsdiag kill PS > hcsdiag list 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 Hyper-V Container Template, Created, 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 Hyper-V Container, Running, 2A0A7D9B-25D0-4C18-B620-4FC1E92740F9, docker 3F098403-148F-49FE-9EA3-1729298CD01F VM, Running, 3F098403-148F-49FE-9EA3-1729298CD01F, WSL EB83922C-E87B-45FF-B2A3-BBB773644DCA VM, Created, EB83922C-E87B-45FF-B2A3-BBB773644DCA, VMMS PS C:\\> hcsdiag kill 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 PS C:\\> hcsdiag kill 3F098403-148F-49FE-9EA3-1729298CD01F PS C:\\> hcsdiag kill EB83922C-E87B-45FF-B2A3-BBB773644DCA PS C:\\> hcsdiag list 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 Hyper-V Container Template, Created, 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 EB83922C-E87B-45FF-B2A3-BBB773644DCA VM, Created, EB83922C-E87B-45FF-B2A3-BBB773644DCA, VMMS PS C:\\> hcsdiag kill EB83922C-E87B-45FF-B2A3-BBB773644DCA PS C:\\> hcsdiag list 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 Hyper-V Container Template, Created, 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 EB83922C-E87B-45FF-B2A3-BBB773644DCA VM, Created, EB83922C-E87B-45FF-B2A3-BBB773644DCA, VMMS hcsdiag share [-uvm] [-readonly] <GUID> \u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Shares a host folder into the container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30b3\u30f3\u30c6\u30ca\u306b\u30d5\u30a9\u30eb\u30c0\u304c\u5171\u6709\u3055\u308c\u305f\u3002VM\u306e\u5834\u5408\u306f\u4f55\u3082\u8d77\u304d\u306a\u3044\u3002 hcsdiag share PS > hcsdiag share 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 C:\\temp Z: PS > hcsdiag exec 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 cmd /c \"dir Z:\\\" Volume in drive Z has no label. Volume Serial Number is 9A79-25D9 Directory of Z:\\ 12/25/2019 07:25 PM <DIR> . 12/25/2019 07:25 PM <DIR> .. 0 File(s) 0 bytes 2 Dir(s) 199,435,386,880 bytes free Windows 10\u306b\u304a\u3051\u308bWindows\u30b3\u30f3\u30c6\u30ca\u306e\u300c\u30d7\u30ed\u30bb\u30b9\u5206\u96e2\u30e2\u30fc\u30c9\u300d\u5bfe\u5fdc\u6700\u65b0\u60c5\u5831 - @IT 2019\u5e7412\u670824\u65e5 05\u664200\u5206 \u516c\u958b \u21a9 \u21a9","title":"Windows\u306e\u30b3\u30f3\u30c6\u30ca"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#windows","text":"","title":"Windows\u306e\u30b3\u30f3\u30c6\u30ca"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#host-compute-servicehcs","text":"Host Conpute Service\u306fWindows\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u6271\u3046\u305f\u3081\u306eAPI\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002 1 \u3053\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u3001Linux\u3067\u306econtainerd\u3068runc\u306b\u3042\u305f\u308b\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 Windows\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u306f\u5927\u304d\u304f2\u7a2e\u985e\u3042\u308a\u3001Windows\u30b3\u30f3\u30c6\u30ca(\u30d7\u30ed\u30bb\u30b9\u5206\u96e2\u30e2\u30fc\u30c9)\u3068Hyper-V\u30b3\u30f3\u30c6\u30ca(Hyper-V\u5206\u96e2\u30e2\u30fc\u30c9)\u3068\u547c\u3070\u308c\u3066\u3044\u307e\u3059\u3002 1 2019/12\u73fe\u5728\u3001\u5404\u30e2\u30fc\u30c9\u306e\u30b3\u30f3\u30c6\u30ca\u304c\u5229\u7528\u3067\u304d\u308bOS\u30d0\u30fc\u30b8\u30e7\u30f3/\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002 Windows Server 2016 Windows Server 2019 Windows 10 Pro \u30d0\u30fc\u30b8\u30e7\u30f3 1607\u4ee5\u964d Windows 10 Enterprise \u30d0\u30fc\u30b8\u30e7\u30f3 1607\u4ee5\u964d \u305f\u3060\u3057\u3001Windows\u30b3\u30f3\u30c6\u30ca\u306e\u5b9f\u884c\u306f \u30d0\u30fc\u30b8\u30e7\u30f3 1809\u4ee5\u964d\u306e\u307f\u53ef\u80fd \u30b3\u30f3\u30c6\u30ca\u306e\u64cd\u4f5c\u306b\u306fdocker\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u304c\u3001\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002","title":"Host Compute Service(HCS)"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#hcsdiag","text":"Windows\u30b3\u30f3\u30c6\u30ca\u306e\u64cd\u4f5c\u306b\u306fdocker\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u304c\u591a\u3044\u304c\u3001\u305d\u306e\u4ed6\u306b hcsdiag.exe \u3068\u3044\u3046\u3082\u306e\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 \u3057\u304b\u3057\u306a\u304c\u3089\u3001\u30b3\u30de\u30f3\u30c9\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u304c\u73fe\u6642\u70b9(2019/12)\u3067\u898b\u3064\u304b\u3089\u306a\u3044\u305f\u3081\u3001\u305d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u5b9f\u884c\u3057\u305f\u7d50\u679c\u3092\u3053\u3053\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002","title":"hcsdiag"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#hcsdiag-list","text":"\u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Lists running containers and VMs.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca or VM\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u2003\u9805\u76ee\u306f\u3001\u5de6\u304b\u3089\u300c\u30b3\u30f3\u30c6\u30ca/VM\u306e\u7a2e\u985e\u300d\u300c\u30b9\u30c6\u30fc\u30bf\u30b9\u300d\u300cGUID\u300d\u300c\u4f5c\u6210\u3057\u305f\u30b5\u30fc\u30d3\u30b9?\u300d\u3068\u4e88\u60f3\u3002 hcsdiag list \u4e0a\u304b\u3089\u3001\u300cHyper-V \u30b3\u30f3\u30c6\u30ca \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u300d\u300cHyper-V \u30b3\u30f3\u30c6\u30ca\u300d\u300cWSL2\u7528\u4eee\u60f3\u30de\u30b7\u30f3\u300d\u300cHyper-V\u4eee\u60f3\u30de\u30b7\u30f3\u300d\u306e4\u9805\u76ee\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3002 \u306a\u304a\u30014\u3064\u3081\u306e\u9805\u76ee\u304c\u300cVMMS\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u300cHyper-V\u4eee\u60f3\u30de\u30b7\u30f3\u300d\u3082\u8d77\u52d5\u3057\u3066\u3044\u308b\u304c\u3001\u300c\u30b9\u30c6\u30fc\u30bf\u30b9\u300d\u306f\u300cRunning\u300d\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3002 \u7406\u7531\u306f\u5206\u304b\u3089\u306a\u3044\u3002 PS > hcsdiag list 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 Hyper-V Container Template, Created, 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 Hyper-V Container, Running, 2A0A7D9B-25D0-4C18-B620-4FC1E92740F9, docker 3F098403-148F-49FE-9EA3-1729298CD01F VM, Running, 3F098403-148F-49FE-9EA3-1729298CD01F, WSL EB83922C-E87B-45FF-B2A3-BBB773644DCA VM, Created, EB83922C-E87B-45FF-B2A3-BBB773644DCA, VMMS","title":"hcsdiag list"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#hcsdiag-exec-uvm-guid-command-line","text":"\u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Executes a process inside the container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30d7\u30ed\u30bb\u30b9\u3092\u5b9f\u884c\u3067\u304d\u305f\u304c\u3001VM\u306e\u5834\u5408\u306f\u3067\u304d\u306a\u3044\u3002 hcsdiag exec PS > hcsdiag exec 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 cmd /c \"dir C:\\\" Volume in drive C has no label. Volume Serial Number is C280-441F Directory of C:\\ 11/27/2019 06:55 PM 5,510 License.txt 12/25/2019 05:08 PM <DIR> Users 12/25/2019 05:08 PM <DIR> Windows 1 File(s) 5,510 bytes 2 Dir(s) 21,299,453,952 bytes free PS > hcsdiag exec 3F098403-148F-49FE-9EA3-1729298CD01F bash PS > $? False PS > hcsdiag exec 3F098403-148F-49FE-9EA3-1729298CD01F cmd PS > $? False","title":"hcsdiag exec [-uvm] &lt;GUID&gt; [command line]"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#hcsdiag-console-uvm-guid","text":"\u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Launches an interactive console inside the container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u305f\u304c\u3001VM\u306e\u5834\u5408\u306f\u4f55\u3082\u8d77\u304d\u306a\u3044\u3002 hcsdiag read PS > hcsdiag console 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 Microsoft Windows [Version 10.0.19035.1] (c) 2019 Microsoft Corporation. All rights reserved. C:\\Windows\\system32>","title":"hcsdiag console [-uvm] &lt;GUID&gt;"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#hcsdiag-read-uvm-guid-host-file","text":"\u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Reads a file from the container and outputs it to standard output or a file.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u8868\u793a\u3055\u308c\u305f\u304c\u3001VM\u306e\u5834\u5408\u306f\u4f55\u3082\u8d77\u304d\u306a\u3044\u3002 hcsdiag read PS > hcsdiag read 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 'C:\\License.txt' MICROSOFT SOFTWARE SUPPLEMENTAL LICENSE FOR WINDOWS CONTAINER BASE IMAGE This Supplemental License is for the Windows Container Base Image (\"Container Image\"). If you comply with the terms of this Supplemental License you may use the Container Image as described below. \u226a\u4ee5\u4e0b\u7565\u226b","title":"hcsdiag read [-uvm] &lt;GUID&gt; [host file]"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#hcsdiag-write-uvm-host-file-guid","text":"\u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Writes from standard input or a host file to a file in the container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u305f\u304c\u3001VM\u306e\u5834\u5408\u306f\u4f55\u3082\u8d77\u304d\u306a\u3044\u3002 hcsdiag write PS > hcsdiag write 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 'C:\\Users\\ContainerUser\\hoge.txt' hogehoge hoge PS > hcsdiag exec 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 cmd /c 'more C:\\Users\\ContainerUser\\hoge.txt' hogehoge hoge","title":"hcsdiag write [-uvm] [host file] &lt;GUID&gt;"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#hcsdiag-kill-guid","text":"\u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Terminates a running container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u5f37\u5236\u7d42\u4e86\u3001WSL\u306eVM\u306e\u5834\u5408\u3082\u5f37\u5236\u7d42\u4e86\u3055\u308c\u305f\u3002Hyper-V\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u5834\u5408\u306f\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u5f37\u5236\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u305f\u3002 hcsdiag kill PS > hcsdiag list 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 Hyper-V Container Template, Created, 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 Hyper-V Container, Running, 2A0A7D9B-25D0-4C18-B620-4FC1E92740F9, docker 3F098403-148F-49FE-9EA3-1729298CD01F VM, Running, 3F098403-148F-49FE-9EA3-1729298CD01F, WSL EB83922C-E87B-45FF-B2A3-BBB773644DCA VM, Created, EB83922C-E87B-45FF-B2A3-BBB773644DCA, VMMS PS C:\\> hcsdiag kill 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 PS C:\\> hcsdiag kill 3F098403-148F-49FE-9EA3-1729298CD01F PS C:\\> hcsdiag kill EB83922C-E87B-45FF-B2A3-BBB773644DCA PS C:\\> hcsdiag list 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 Hyper-V Container Template, Created, 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 EB83922C-E87B-45FF-B2A3-BBB773644DCA VM, Created, EB83922C-E87B-45FF-B2A3-BBB773644DCA, VMMS PS C:\\> hcsdiag kill EB83922C-E87B-45FF-B2A3-BBB773644DCA PS C:\\> hcsdiag list 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 Hyper-V Container Template, Created, 0ACF54A5-CEEF-454A-BDC7-56D2C9A223B9 EB83922C-E87B-45FF-B2A3-BBB773644DCA VM, Created, EB83922C-E87B-45FF-B2A3-BBB773644DCA, VMMS","title":"hcsdiag kill &lt;GUID&gt;"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/HostComputeService/#hcsdiag-share-uvm-readonly-guid","text":"\u82f1\u8a9e\u3067\u306e\u8aac\u660e: 'Shares a host folder into the container.' \u5b9f\u884c\u3057\u305f\u7d50\u679c: \u2003\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u30b3\u30f3\u30c6\u30ca\u306b\u30d5\u30a9\u30eb\u30c0\u304c\u5171\u6709\u3055\u308c\u305f\u3002VM\u306e\u5834\u5408\u306f\u4f55\u3082\u8d77\u304d\u306a\u3044\u3002 hcsdiag share PS > hcsdiag share 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 C:\\temp Z: PS > hcsdiag exec 0c5b099512a9041d71b54544680416ac497a96b40206958a118777b2592393f6 cmd /c \"dir Z:\\\" Volume in drive Z has no label. Volume Serial Number is 9A79-25D9 Directory of Z:\\ 12/25/2019 07:25 PM <DIR> . 12/25/2019 07:25 PM <DIR> .. 0 File(s) 0 bytes 2 Dir(s) 199,435,386,880 bytes free Windows 10\u306b\u304a\u3051\u308bWindows\u30b3\u30f3\u30c6\u30ca\u306e\u300c\u30d7\u30ed\u30bb\u30b9\u5206\u96e2\u30e2\u30fc\u30c9\u300d\u5bfe\u5fdc\u6700\u65b0\u60c5\u5831 - @IT 2019\u5e7412\u670824\u65e5 05\u664200\u5206 \u516c\u958b \u21a9 \u21a9","title":"hcsdiag share [-uvm] [-readonly] &lt;GUID&gt;  "},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/","text":"WSL\u3067CentOS/Fedora\u3092\u5229\u7528\u3059\u308b WSL\u3067Ubuntu\u3084Open SUSE\u306a\u3069\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\u3001Microsoft Store\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001 CentOS\u306f2019/12\u73fe\u5728\u3001Store\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 (2020/06/04 \u66f4\u65b0) \u6709\u5fd7\u306b\u3088\u3063\u3066\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u6709\u511f\u306e\u3088\u3046\u3067\u3059\u3002 \u3057\u304b\u3057\u3001WSL\u3067\u306f\u81ea\u8eab\u3067\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30a4\u30e1\u30fc\u30b8\u5165\u624b WSL\u3078\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u306f\u3001rootfs\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002 \u4eca\u56de\u306fDocker\u306a\u3069\u306e\u30b3\u30f3\u30c6\u30ca\u7528\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308brootfs\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002 Windows\u4e0a\u306ePowershell\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 CentOS CentOS\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9Web\u30b5\u30a4\u30c8\u3067\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306eLayer\u306e\u4e2d\u8eab\u3060\u3051\u3092\u53d6\u308a\u51fa\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092rootfs\u3068\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd # \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 > curl.exe -O https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar.xz # \u65e2\u5b58\u306e\u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u5229\u7528\u3057\u3066xz\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd(`wsl.exe -e`= \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c7\u30a3\u30b9\u30c8\u30ed\u5185\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c) > wsl.exe -e unxz CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar.xz > Get-ChildItem CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar Directory: C: \\U sers \\R oy Mode LastWriteTime Length Name ---- ------------- ------ ---- -a--- 2020 /06/04 11 :32 256276480 CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar Fedora Fedora\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9Web\u30b5\u30a4\u30c8\u3067\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u3078\u30ed\u30fc\u30c9\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u304b\u3089rootfs\u3068\u306a\u308b\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd # \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 > curl.exe -O https://nrt.edge.kernel.org/fedora-buffet/fedora/linux/releases/32/Container/x86_64/images/Fedora-Container-Base-32-1.6.x86_64.tar.xz # layer.tar\u306e\u30d1\u30b9\u3092\u53d6\u5f97(`wsl.exe -e`= \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c7\u30a3\u30b9\u30c8\u30ed\u5185\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c) > $layer =( wsl.exe -e tar xf ./Fedora-Container-Base-32-1.6.x86_64.tar.xz manifest.json -O | ConvertFrom-Json ) .Layers # \u65e2\u5b58\u306e\u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u5229\u7528\u3057\u3066tar.xz\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u304b\u3089layer.tar\u3092\u89e3\u51cd > wsl.exe -e tar xf ./Fedora-Container-Base-32-1.6.x86_64.tar.xz $layer > Get-ChildItem $layer Directory: C: \\U sers \\R oy \\d 2b89e44ce52ccef64b35efd58302988a82469bf6c5cfeb1d6b3c7e7e0af6e07 Mode LastWriteTime Length Name ---- ------------- ------ ---- -a--- 2020 /04/23 7 :31 207544320 layer.tar 2020/06/04 \u66f4\u65b0\u524d\u306e\u8a18\u4e8b (raw\u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3059\u308b\u5834\u5408) \u9762\u5012\u306a\u3053\u3068\u306f\u30a4\u30e4\u3068\u3044\u3046\u65b9\u306b \u3053\u3061\u3089\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3057\u307e\u3057\u3087\u3046\u3002 yuk7/CentWSL - GitHub rootfs\u306e\u4f5c\u6210 WSL\u3078\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u306f\u3001rootfs\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002 \u4eca\u56de\u306f\u30af\u30e9\u30a6\u30c9\u7528\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308brootfs\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u6d41\u7528\u3057\u307e\u3059\u3002 \u3053\u3053\u304b\u3089\u306f\u3001WSL\u4e0a\u306eUbuntu\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 rootfs\u4f5c\u6210 # \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd > curl -O https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1907.raw.tar.gz > tar xf CentOS-7-x86_64-GenericCloud.raw.tar.gz # \u300closetup -l\u300d\u3067\u7a7a\u304dLoop\u30c7\u30d0\u30a4\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u3001raw\u30d5\u30a1\u30a4\u30eb\u3092\u5272\u5f53\u3066 > losetup -l > sudo losetup --partscan /dev/loop0 CentOS-7-x86_64-GenericCloud-1907.raw # \u30de\u30a6\u30f3\u30c8 > mkdir rootfs > sudo mount /dev/loop0p1 rootfs # tar\u30dc\u30fc\u30eb\u306brootfs\u3092\u30a2\u30fc\u30ab\u30a4\u30d6 > tar cf centos7_rootfs.tar -C rootfs/ . # \u5f8c\u7247\u4ed8\u3051 > sudo umount rootfs > sudo losetup -d /dev/loop0 # \u4f5c\u6210\u3057\u305frootfs\u306etar\u30d5\u30a1\u30a4\u30eb\u3092Windows\u5074\u306b\u79fb\u52d5 > mv centos7_rootfs.tar /mnt/c/Users/user/. rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 \u4f5c\u6210\u3057\u305frootfs\u3092WSL\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u3001Windows\u4e0a\u306ePowershell\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 CentOS rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 # \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210 > New-Item $env :LOCALAPPDATA \\w sl \\C entOS \\8 .1.1911 -ItemType Directory # rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 > wsl.exe --import CentOS $env :LOCALAPPDATA \\w sl \\C entOS \\8 .1.1911 . \\C entOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar # \u78ba\u8a8d > wsl.exe -d CentOS grep PRETTY_NAME /etc/os-release PRETTY_NAME = \"CentOS Linux 8 (Core)\" Fedora rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 # \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210 > New-Item $env :LOCALAPPDATA \\w sl \\F edora \\3 2 -1.6 -ItemType Directory # rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 > wsl.exe --import Fedora $env :LOCALAPPDATA \\w sl \\F edora \\3 2 -1.6 . \\d 2b89e44ce52ccef64b35efd58302988a82469bf6c5cfeb1d6b3c7e7e0af6e07 \\l ayer.tar # \u78ba\u8a8d > wsl.exe -d Fedora grep PRETTY_NAME /etc/os-release PRETTY_NAME = \"Fedora 32 (Container Image)\" CentOS/Fedora\u306b\u30ed\u30b0\u30a4\u30f3 \u4efb\u610f\u306e\u30d5\u30a9\u30eb\u30c0\u3082\u3057\u304f\u306f\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u300c\u65b0\u898f\u4f5c\u6210\u300d\u2192\u300c\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u300d\u3092\u9078\u629e\u3057\u3001 CentOS/Fedora\u3078\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u305f\u3081\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u9805\u76ee\u306e\u5834\u6240 C:\\Windows\\System32\\wsl.exe -d CentOS C:\\Windows\\System32\\wsl.exe -d Fedora \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306e\u540d\u524d CentOS 8.1 Fedora 32 \u4f5c\u6210\u3057\u305f\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u304b\u3089\u8d77\u52d5\u3057\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u306e\u4f5c\u6210\u3068sudo\u306e\u6709\u52b9\u5316 \u521d\u671f\u72b6\u614b\u3067\u306froot\u30e6\u30fc\u30b6\u3057\u304b\u306a\u3044\u305f\u3081\u3001\u4f5c\u696d\u7528\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3066sudo\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u4f5c\u6210\u3059\u308b\u30e6\u30fc\u30b6\u540d\u306f\u300c roy \u300d\u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u4f5c\u6210\u3068sudo\u306e\u6709\u52b9\u5316 # group\u4f5c\u6210 > groupadd -g 1000 roy # \u30e6\u30fc\u30b6\u4f5c\u6210 > useradd -g 1000 -u 1000 roy # wheel\u30b0\u30eb\u30fc\u30d7\u306b\u30e6\u30fc\u30b6\u3092\u8ffd\u52a0 > usermod -G wheel roy # roy\u30e6\u30fc\u30b6\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a > passwd roy # roy\u30e6\u30fc\u30b6\u306b\u5207\u308a\u66ff\u3048 > su - roy # sudo\u304c\u5229\u7528\u51fa\u6765\u308b\u304b\u78ba\u8a8d > sudo yum update wsl\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u306e\u5909\u66f4 \u73fe\u5728\u306e\u8a2d\u5b9a\u3067\u306fCentOS\u3092\u8d77\u52d5\u3057\u305f\u6642\u306b\u306froot\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3092\u5909\u66f4\u3059\u308b\u306b\u306fWindows\u4e0a\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u304b\u3001 \u5404\u30c7\u30a3\u30b9\u30c8\u30ed\u306e /etc/wsl.conf \u306b\u8a2d\u5b9a \u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002 \u30ec\u30b8\u30b9\u30c8\u30ea\u30a8\u30c7\u30a3\u30bf\u3092\u958b\u304d\u3001 HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Lxss \u3092\u958b\u304d\u307e\u3059\u3002 \u305d\u306e\u4e0b\u306b\u3042\u308b\u30ad\u30fc(\u30d5\u30a9\u30eb\u30c0)\u306e\u4e2d\u304b\u3089\u3001 DistributionName \u306e\u5024\u304c\u300c CentOS \u300d\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u3092\u63a2\u3057\u307e\u3059\u3002 \u540c\u3058\u30ad\u30fc(\u30d5\u30a9\u30eb\u30c0)\u5185\u306b\u3042\u308b DefaultUid \u306e\u5024\u3092\u300c0\u300d\u304b\u3089\u300c1000(10\u9032\u6570)\u300d\u306b\u5909\u66f4\u3057\u307e\u3059\u3002 \u30ec\u30b8\u30b9\u30c8\u30ea\u30a8\u30c7\u30a3\u30bf\u3092\u9589\u3058\u307e\u3059\u3002 \u305d\u306e\u5f8c\u3001\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u304b\u3089CentOS\u3092\u8d77\u52d5\u3059\u308b\u3068\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6 roy \u3067\u30ed\u30b0\u30a4\u30f3\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u30a2\u30a4\u30b3\u30f3\u3092\u5909\u66f4\u3057\u305f\u3044 CentOS/Fedora\u306eWeb\u30b5\u30a4\u30c8\u304b\u3089\u30ed\u30b4\u30a4\u30e1\u30fc\u30b8\u306a\u3069\u3092\u5165\u624b\u3057\u3066\u3001\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306e\u300c\u30d7\u30ed\u30d1\u30c6\u30a3\u300d\u2192\u300c\u30a2\u30a4\u30b3\u30f3\u306e\u5909\u66f4\u300d\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30a2\u30a4\u30b3\u30f3\u3092\u5272\u308a\u5f53\u3066\u308b\u306a\u3069\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u524a\u9664\u3057\u305f\u3044 \u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u524a\u9664\u3059\u308b\u306b\u306f\u3001WSL\u3078\u306e\u767b\u9332\u3092\u89e3\u9664\u3057\u305f\u5f8c\u306b\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664\u3057\u307e\u3059\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u524a\u9664 # wsl\u304b\u3089\u767b\u9332\u89e3\u9664 > wsl.exe --unregister CentOS > wsl.exe --unregister Fedora # \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30dd\u30fc\u30c8\u5148\u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664 > Remove-Item -Recurse $env:LOCALAPPDATA\\wsl\\CentOS\\8.1.1911\\ > Remove-Item -Recurse $env:LOCALAPPDATA\\wsl\\Fedora\\32-1.6\\ # \u624b\u52d5\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30c7\u30a3\u30b9\u30c8\u30ed\u5168\u3066\u3092\u524a\u9664\u3059\u308b\u5834\u5408 > Remove-Item -Recurse $env:LOCALAPPDATA\\wsl\\ 2020/06/04 \u66f4\u65b0\u524d\u306e\u8a18\u4e8b (\u30af\u30e9\u30a6\u30c9\u30fb\u30b3\u30f3\u30c6\u30ca\u7528\u30a4\u30e1\u30fc\u30b8\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408) CentOS8\u3092\u4f7f\u3044\u305f\u3044 => yum\u30b3\u30de\u30f3\u30c9\u3067rootfs\u3092\u4f5c\u6210 2019/12/08\u6642\u70b9\u3067\u306fCentOS8\u306e\u30af\u30e9\u30a6\u30c9\u7528\u30a4\u30e1\u30fc\u30b8\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u4f5c\u6210\u3057\u307e\u3059\u3002 CentOS7\u3078\u30ed\u30b0\u30a4\u30f3\u3057\u3001CentOS8\u306erootfs\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002 rootfs\u4f5c\u6210 # CentOS8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210 > cat << _END_ > ./centos8.repo [centos8-base] name=CentOS-8-Base baseurl=http://mirror.centos.org/centos/8/BaseOS/x86_64/os/ gpgcheck=0 _END_ # rootfs\u3092\u4f5c\u6210 > mkdir rootfs > sudo yum -y -c centos.repo --installroot = $PWD /rootfs \\ --disablerepo = \"*\" --enablerepo = \"centos8-base\" groupinstall \"Minimal Install\" # tar\u30dc\u30fc\u30eb\u306brootfs\u3092\u30a2\u30fc\u30ab\u30a4\u30d6 > tar cf centos8_rootfs.tar -C rootfs/ . # \u4f5c\u6210\u3057\u305frootfs\u306etar\u30d5\u30a1\u30a4\u30eb\u3092Windows\u5074\u306b\u79fb\u52d5 > mv centos8_rootfs.tar /mnt/c/Users/user/. \u4ee5\u964d\u306f\u3001CentOS7\u3068\u540c\u69d8\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3068CentOS8\u74b0\u5883\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002","title":"WSL\u3067CentOS/Fedora\u3092\u5229\u7528\u3059\u308b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#wslcentosfedora","text":"WSL\u3067Ubuntu\u3084Open SUSE\u306a\u3069\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\u3001Microsoft Store\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001 CentOS\u306f2019/12\u73fe\u5728\u3001Store\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 (2020/06/04 \u66f4\u65b0) \u6709\u5fd7\u306b\u3088\u3063\u3066\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u6709\u511f\u306e\u3088\u3046\u3067\u3059\u3002 \u3057\u304b\u3057\u3001WSL\u3067\u306f\u81ea\u8eab\u3067\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"WSL\u3067CentOS/Fedora\u3092\u5229\u7528\u3059\u308b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#_1","text":"WSL\u3078\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u306f\u3001rootfs\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002 \u4eca\u56de\u306fDocker\u306a\u3069\u306e\u30b3\u30f3\u30c6\u30ca\u7528\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308brootfs\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002 Windows\u4e0a\u306ePowershell\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 CentOS CentOS\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9Web\u30b5\u30a4\u30c8\u3067\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306eLayer\u306e\u4e2d\u8eab\u3060\u3051\u3092\u53d6\u308a\u51fa\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092rootfs\u3068\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd # \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 > curl.exe -O https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar.xz # \u65e2\u5b58\u306e\u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u5229\u7528\u3057\u3066xz\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd(`wsl.exe -e`= \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c7\u30a3\u30b9\u30c8\u30ed\u5185\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c) > wsl.exe -e unxz CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar.xz > Get-ChildItem CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar Directory: C: \\U sers \\R oy Mode LastWriteTime Length Name ---- ------------- ------ ---- -a--- 2020 /06/04 11 :32 256276480 CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar Fedora Fedora\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9Web\u30b5\u30a4\u30c8\u3067\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u3078\u30ed\u30fc\u30c9\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u304b\u3089rootfs\u3068\u306a\u308b\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd # \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 > curl.exe -O https://nrt.edge.kernel.org/fedora-buffet/fedora/linux/releases/32/Container/x86_64/images/Fedora-Container-Base-32-1.6.x86_64.tar.xz # layer.tar\u306e\u30d1\u30b9\u3092\u53d6\u5f97(`wsl.exe -e`= \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c7\u30a3\u30b9\u30c8\u30ed\u5185\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c) > $layer =( wsl.exe -e tar xf ./Fedora-Container-Base-32-1.6.x86_64.tar.xz manifest.json -O | ConvertFrom-Json ) .Layers # \u65e2\u5b58\u306e\u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u5229\u7528\u3057\u3066tar.xz\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u304b\u3089layer.tar\u3092\u89e3\u51cd > wsl.exe -e tar xf ./Fedora-Container-Base-32-1.6.x86_64.tar.xz $layer > Get-ChildItem $layer Directory: C: \\U sers \\R oy \\d 2b89e44ce52ccef64b35efd58302988a82469bf6c5cfeb1d6b3c7e7e0af6e07 Mode LastWriteTime Length Name ---- ------------- ------ ---- -a--- 2020 /04/23 7 :31 207544320 layer.tar 2020/06/04 \u66f4\u65b0\u524d\u306e\u8a18\u4e8b (raw\u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3059\u308b\u5834\u5408)","title":"\u30a4\u30e1\u30fc\u30b8\u5165\u624b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#_2","text":"\u3053\u3061\u3089\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3057\u307e\u3057\u3087\u3046\u3002 yuk7/CentWSL - GitHub","title":"\u9762\u5012\u306a\u3053\u3068\u306f\u30a4\u30e4\u3068\u3044\u3046\u65b9\u306b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#rootfs","text":"WSL\u3078\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u306f\u3001rootfs\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002 \u4eca\u56de\u306f\u30af\u30e9\u30a6\u30c9\u7528\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308brootfs\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u6d41\u7528\u3057\u307e\u3059\u3002 \u3053\u3053\u304b\u3089\u306f\u3001WSL\u4e0a\u306eUbuntu\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 rootfs\u4f5c\u6210 # \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd > curl -O https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1907.raw.tar.gz > tar xf CentOS-7-x86_64-GenericCloud.raw.tar.gz # \u300closetup -l\u300d\u3067\u7a7a\u304dLoop\u30c7\u30d0\u30a4\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u3001raw\u30d5\u30a1\u30a4\u30eb\u3092\u5272\u5f53\u3066 > losetup -l > sudo losetup --partscan /dev/loop0 CentOS-7-x86_64-GenericCloud-1907.raw # \u30de\u30a6\u30f3\u30c8 > mkdir rootfs > sudo mount /dev/loop0p1 rootfs # tar\u30dc\u30fc\u30eb\u306brootfs\u3092\u30a2\u30fc\u30ab\u30a4\u30d6 > tar cf centos7_rootfs.tar -C rootfs/ . # \u5f8c\u7247\u4ed8\u3051 > sudo umount rootfs > sudo losetup -d /dev/loop0 # \u4f5c\u6210\u3057\u305frootfs\u306etar\u30d5\u30a1\u30a4\u30eb\u3092Windows\u5074\u306b\u79fb\u52d5 > mv centos7_rootfs.tar /mnt/c/Users/user/.","title":"rootfs\u306e\u4f5c\u6210"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#rootfs_1","text":"\u4f5c\u6210\u3057\u305frootfs\u3092WSL\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u3001Windows\u4e0a\u306ePowershell\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 CentOS rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 # \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210 > New-Item $env :LOCALAPPDATA \\w sl \\C entOS \\8 .1.1911 -ItemType Directory # rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 > wsl.exe --import CentOS $env :LOCALAPPDATA \\w sl \\C entOS \\8 .1.1911 . \\C entOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar # \u78ba\u8a8d > wsl.exe -d CentOS grep PRETTY_NAME /etc/os-release PRETTY_NAME = \"CentOS Linux 8 (Core)\" Fedora rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 # \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210 > New-Item $env :LOCALAPPDATA \\w sl \\F edora \\3 2 -1.6 -ItemType Directory # rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 > wsl.exe --import Fedora $env :LOCALAPPDATA \\w sl \\F edora \\3 2 -1.6 . \\d 2b89e44ce52ccef64b35efd58302988a82469bf6c5cfeb1d6b3c7e7e0af6e07 \\l ayer.tar # \u78ba\u8a8d > wsl.exe -d Fedora grep PRETTY_NAME /etc/os-release PRETTY_NAME = \"Fedora 32 (Container Image)\"","title":"rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#centosfedora","text":"\u4efb\u610f\u306e\u30d5\u30a9\u30eb\u30c0\u3082\u3057\u304f\u306f\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u300c\u65b0\u898f\u4f5c\u6210\u300d\u2192\u300c\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u300d\u3092\u9078\u629e\u3057\u3001 CentOS/Fedora\u3078\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u305f\u3081\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u9805\u76ee\u306e\u5834\u6240 C:\\Windows\\System32\\wsl.exe -d CentOS C:\\Windows\\System32\\wsl.exe -d Fedora \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306e\u540d\u524d CentOS 8.1 Fedora 32 \u4f5c\u6210\u3057\u305f\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u304b\u3089\u8d77\u52d5\u3057\u307e\u3059\u3002","title":"CentOS/Fedora\u306b\u30ed\u30b0\u30a4\u30f3"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#sudo","text":"\u521d\u671f\u72b6\u614b\u3067\u306froot\u30e6\u30fc\u30b6\u3057\u304b\u306a\u3044\u305f\u3081\u3001\u4f5c\u696d\u7528\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3066sudo\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u4f5c\u6210\u3059\u308b\u30e6\u30fc\u30b6\u540d\u306f\u300c roy \u300d\u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u4f5c\u6210\u3068sudo\u306e\u6709\u52b9\u5316 # group\u4f5c\u6210 > groupadd -g 1000 roy # \u30e6\u30fc\u30b6\u4f5c\u6210 > useradd -g 1000 -u 1000 roy # wheel\u30b0\u30eb\u30fc\u30d7\u306b\u30e6\u30fc\u30b6\u3092\u8ffd\u52a0 > usermod -G wheel roy # roy\u30e6\u30fc\u30b6\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a > passwd roy # roy\u30e6\u30fc\u30b6\u306b\u5207\u308a\u66ff\u3048 > su - roy # sudo\u304c\u5229\u7528\u51fa\u6765\u308b\u304b\u78ba\u8a8d > sudo yum update","title":"\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\u3068sudo\u306e\u6709\u52b9\u5316"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#wsl","text":"\u73fe\u5728\u306e\u8a2d\u5b9a\u3067\u306fCentOS\u3092\u8d77\u52d5\u3057\u305f\u6642\u306b\u306froot\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3092\u5909\u66f4\u3059\u308b\u306b\u306fWindows\u4e0a\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u304b\u3001 \u5404\u30c7\u30a3\u30b9\u30c8\u30ed\u306e /etc/wsl.conf \u306b\u8a2d\u5b9a \u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002 \u30ec\u30b8\u30b9\u30c8\u30ea\u30a8\u30c7\u30a3\u30bf\u3092\u958b\u304d\u3001 HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Lxss \u3092\u958b\u304d\u307e\u3059\u3002 \u305d\u306e\u4e0b\u306b\u3042\u308b\u30ad\u30fc(\u30d5\u30a9\u30eb\u30c0)\u306e\u4e2d\u304b\u3089\u3001 DistributionName \u306e\u5024\u304c\u300c CentOS \u300d\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u3092\u63a2\u3057\u307e\u3059\u3002 \u540c\u3058\u30ad\u30fc(\u30d5\u30a9\u30eb\u30c0)\u5185\u306b\u3042\u308b DefaultUid \u306e\u5024\u3092\u300c0\u300d\u304b\u3089\u300c1000(10\u9032\u6570)\u300d\u306b\u5909\u66f4\u3057\u307e\u3059\u3002 \u30ec\u30b8\u30b9\u30c8\u30ea\u30a8\u30c7\u30a3\u30bf\u3092\u9589\u3058\u307e\u3059\u3002 \u305d\u306e\u5f8c\u3001\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u304b\u3089CentOS\u3092\u8d77\u52d5\u3059\u308b\u3068\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6 roy \u3067\u30ed\u30b0\u30a4\u30f3\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","title":"wsl\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u306e\u5909\u66f4"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#_3","text":"CentOS/Fedora\u306eWeb\u30b5\u30a4\u30c8\u304b\u3089\u30ed\u30b4\u30a4\u30e1\u30fc\u30b8\u306a\u3069\u3092\u5165\u624b\u3057\u3066\u3001\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306e\u300c\u30d7\u30ed\u30d1\u30c6\u30a3\u300d\u2192\u300c\u30a2\u30a4\u30b3\u30f3\u306e\u5909\u66f4\u300d\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30a2\u30a4\u30b3\u30f3\u3092\u5272\u308a\u5f53\u3066\u308b\u306a\u3069\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30a2\u30a4\u30b3\u30f3\u3092\u5909\u66f4\u3057\u305f\u3044"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#_4","text":"\u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u524a\u9664\u3059\u308b\u306b\u306f\u3001WSL\u3078\u306e\u767b\u9332\u3092\u89e3\u9664\u3057\u305f\u5f8c\u306b\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664\u3057\u307e\u3059\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u524a\u9664 # wsl\u304b\u3089\u767b\u9332\u89e3\u9664 > wsl.exe --unregister CentOS > wsl.exe --unregister Fedora # \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30dd\u30fc\u30c8\u5148\u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664 > Remove-Item -Recurse $env:LOCALAPPDATA\\wsl\\CentOS\\8.1.1911\\ > Remove-Item -Recurse $env:LOCALAPPDATA\\wsl\\Fedora\\32-1.6\\ # \u624b\u52d5\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30c7\u30a3\u30b9\u30c8\u30ed\u5168\u3066\u3092\u524a\u9664\u3059\u308b\u5834\u5408 > Remove-Item -Recurse $env:LOCALAPPDATA\\wsl\\ 2020/06/04 \u66f4\u65b0\u524d\u306e\u8a18\u4e8b (\u30af\u30e9\u30a6\u30c9\u30fb\u30b3\u30f3\u30c6\u30ca\u7528\u30a4\u30e1\u30fc\u30b8\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408)","title":"\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u524a\u9664\u3057\u305f\u3044"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/centos/#centos8-yumrootfs","text":"2019/12/08\u6642\u70b9\u3067\u306fCentOS8\u306e\u30af\u30e9\u30a6\u30c9\u7528\u30a4\u30e1\u30fc\u30b8\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u4f5c\u6210\u3057\u307e\u3059\u3002 CentOS7\u3078\u30ed\u30b0\u30a4\u30f3\u3057\u3001CentOS8\u306erootfs\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002 rootfs\u4f5c\u6210 # CentOS8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210 > cat << _END_ > ./centos8.repo [centos8-base] name=CentOS-8-Base baseurl=http://mirror.centos.org/centos/8/BaseOS/x86_64/os/ gpgcheck=0 _END_ # rootfs\u3092\u4f5c\u6210 > mkdir rootfs > sudo yum -y -c centos.repo --installroot = $PWD /rootfs \\ --disablerepo = \"*\" --enablerepo = \"centos8-base\" groupinstall \"Minimal Install\" # tar\u30dc\u30fc\u30eb\u306brootfs\u3092\u30a2\u30fc\u30ab\u30a4\u30d6 > tar cf centos8_rootfs.tar -C rootfs/ . # \u4f5c\u6210\u3057\u305frootfs\u306etar\u30d5\u30a1\u30a4\u30eb\u3092Windows\u5074\u306b\u79fb\u52d5 > mv centos8_rootfs.tar /mnt/c/Users/user/. \u4ee5\u964d\u306f\u3001CentOS7\u3068\u540c\u69d8\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3068CentOS8\u74b0\u5883\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002","title":"CentOS8\u3092\u4f7f\u3044\u305f\u3044 =&gt; yum\u30b3\u30de\u30f3\u30c9\u3067rootfs\u3092\u4f5c\u6210"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/rhel/","text":"WSL\u3067Red Hat Enterprise Linux\u3092\u5229\u7528\u3059\u308b Red Hat Enterprise Linux\u306f\u3001\u958b\u767a\u8005\u5411\u3051\u306eRed Hat Developer Program 1 \u306b\u53c2\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u7121\u511f\u3067\u5165\u624b\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4eca\u56de\u306f\u3053\u3061\u3089\u3092\u5229\u7528\u3057\u3066\u3001WSL\u3078Red Hat Enterprise Linux(RHEL) 9.1\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u30a4\u30e1\u30fc\u30b8\u5165\u624b WSL\u3078\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u306f\u3001rootfs\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002 RHEL\u306erootfs\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u3001dnf\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3067\u304d\u308bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3(Fedora\u7b49)\u4e0a\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 rootfs\u4f5c\u6210 # RHEL\u30e1\u30c7\u30a3\u30a2\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210 > cat << _END_ > ./media.repo [InstallMedia-BaseOS] name=Red Hat Enterprise Linux 9.1.0 - BaseOS mediaid=None metadata_expire=-1 gpgcheck=0 cost=500 baseurl=file://$PWD/rhel9-iso/BaseOS/ gpgkey=file://$PWD/rhel9-iso/RPM-GPG-KEY-redhat-release _END_ # rootfs\u3092\u4f5c\u6210 > mkdir rootfs > sudo dnf -y -c media.repo --installroot $PWD /rhel9-rootfs \\ --disablerepo \"*\" --enablerepo \"InstallMedia-BaseOS\" groupinstall \"Minimal Install\" # tar\u30dc\u30fc\u30eb\u306brootfs\u3092\u30a2\u30fc\u30ab\u30a4\u30d6 > tar cf rhel9-rootfs.tar -C rhel9-rootfs/ . # \u4f5c\u6210\u3057\u305frootfs\u306etar\u30d5\u30a1\u30a4\u30eb\u3092Windows\u5074\u306b\u79fb\u52d5 > mv rhel9-rootfs.tar /mnt/c/Users/user/. rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 \u4f5c\u6210\u3057\u305frootfs\u3092WSL\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u3001Windows\u4e0a\u306ePowershell\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 # \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210 > New-Item $env:LOCALAPPDATA \\ wsl \\ RHEL \\ 9 -ItemType Directory # rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 > wsl . exe - -import RHEL $env:LOCALAPPDATA \\ wsl \\ RHEL \\ 9 .\\ rhel9-rootfs . tar # \u78ba\u8a8d > wsl . exe -d RHEL grep PRETTY_NAME / etc / os-release PRETTY_NAME = \"Red Hat Enterprise Linux 9.1 (Plow)\" \u30e6\u30fc\u30b6\u306e\u4f5c\u6210\u3068sudo\u306e\u6709\u52b9\u5316 \u521d\u671f\u72b6\u614b\u3067\u306froot\u30e6\u30fc\u30b6\u3057\u304b\u306a\u3044\u305f\u3081\u3001\u4f5c\u696d\u7528\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3066sudo\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u4f5c\u6210\u3059\u308b\u30e6\u30fc\u30b6\u540d\u306f\u300c roy \u300d\u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u4f5c\u6210\u3068sudo\u306e\u6709\u52b9\u5316 # group\u4f5c\u6210 > groupadd -g 1000 roy # \u30e6\u30fc\u30b6\u4f5c\u6210 > useradd -g 1000 -u 1000 roy # wheel\u30b0\u30eb\u30fc\u30d7\u306b\u30e6\u30fc\u30b6\u3092\u8ffd\u52a0 > usermod -G wheel roy # roy\u30e6\u30fc\u30b6\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a > passwd roy # roy\u30e6\u30fc\u30b6\u306b\u5207\u308a\u66ff\u3048 > su - roy # sudo\u304c\u5229\u7528\u51fa\u6765\u308b\u304b\u78ba\u8a8d > sudo subscription-manager status wsl\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u306e\u5909\u66f4 \u73fe\u5728\u306e\u8a2d\u5b9a\u3067\u306fRHEL\u3092\u8d77\u52d5\u3057\u305f\u6642\u306b\u306froot\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3092\u5909\u66f4\u3059\u308b\u306b\u306fWindows\u4e0a\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u304b\u3001 \u5404\u30c7\u30a3\u30b9\u30c8\u30ed\u306e /etc/wsl.conf \u306b\u8a2d\u5b9a \u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002Windows\u4e0a\u306ePowershell\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u306e\u5909\u66f4 # RHEL\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u30ad\u30fc\u3092\u691c\u7d22 > $reg_key =( reg . exe query HKCU \\ SOFTWARE \\ Microsoft \\ Windows \\ CurrentVersion \\ Lxss / s / d / f RHEL )[ 1 ] # \u30ec\u30b8\u30b9\u30c8\u30ea\u30ad\u30fc\u3092\u78ba\u8a8d > reg . exe query $reg_key # \u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u306eUID\u3092\u8a2d\u5b9a > reg . exe add $reg_key / v DefaultUid / t REG_DWORD / d 1000 / f \u305d\u306e\u5f8c\u3001WSL\u306eRHEL\u3092\u8d77\u52d5\u3059\u308b\u3068\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6 roy \u3067\u30ed\u30b0\u30a4\u30f3\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332 \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u3001\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3092\u5229\u7528\u3057\u3066\u767b\u9332\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u767b\u9332\u306e\u65b9\u6cd5\u306fRHRL\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 2 \u3092\u53c2\u7167\u3057\u307e\u3059\u3002 \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332 # \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332 > subscription-manager register ## \u30e6\u30fc\u30b6ID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b # \u30d1\u30c3\u30b1\u30fc\u30b8\u66f4\u65b0 > sudo dnf update -y \u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305fRHEL\u3092WSL\u304b\u3089\u524a\u9664 \u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u524a\u9664\u3059\u308b\u306b\u306f\u3001WSL\u3078\u306e\u767b\u9332\u3092\u89e3\u9664\u3057\u305f\u5f8c\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664\u3057\u307e\u3059\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u524a\u9664 # wsl\u304b\u3089\u767b\u9332\u89e3\u9664 > wsl . exe - -unregister RHEL # \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30dd\u30fc\u30c8\u5148\u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664 > Remove-Item -Recurse $env:LOCALAPPDATA \\ wsl \\ RHEL \\ 9 # \u624b\u52d5\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30c7\u30a3\u30b9\u30c8\u30ed\u5168\u3066\u3092\u524a\u9664\u3059\u308b\u5834\u5408 > Remove-Item -Recurse $env:LOCALAPPDATA \\ wsl \\ Red Hat Developer Program\u306b\u53c2\u52a0\u3057\u3066\u6700\u65b0\u6280\u8853\u3092\u5b66\u7fd2\u3057\u3088\u3046 - \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0 \u21a9 \u7b2c4\u7ae0 \u30b7\u30b9\u30c6\u30e0\u767b\u9332\u304a\u3088\u3073\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u7ba1\u7406 Red Hat Enterprise Linux 9 - Red Hat Customer Portal \u21a9","title":"WSL\u3067Red Hat Enterprise Linux\u3092\u5229\u7528\u3059\u308b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/rhel/#wslred-hat-enterprise-linux","text":"Red Hat Enterprise Linux\u306f\u3001\u958b\u767a\u8005\u5411\u3051\u306eRed Hat Developer Program 1 \u306b\u53c2\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u7121\u511f\u3067\u5165\u624b\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4eca\u56de\u306f\u3053\u3061\u3089\u3092\u5229\u7528\u3057\u3066\u3001WSL\u3078Red Hat Enterprise Linux(RHEL) 9.1\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002","title":"WSL\u3067Red Hat Enterprise Linux\u3092\u5229\u7528\u3059\u308b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/rhel/#_1","text":"WSL\u3078\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u306f\u3001rootfs\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002 RHEL\u306erootfs\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u3001dnf\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3067\u304d\u308bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3(Fedora\u7b49)\u4e0a\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 rootfs\u4f5c\u6210 # RHEL\u30e1\u30c7\u30a3\u30a2\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210 > cat << _END_ > ./media.repo [InstallMedia-BaseOS] name=Red Hat Enterprise Linux 9.1.0 - BaseOS mediaid=None metadata_expire=-1 gpgcheck=0 cost=500 baseurl=file://$PWD/rhel9-iso/BaseOS/ gpgkey=file://$PWD/rhel9-iso/RPM-GPG-KEY-redhat-release _END_ # rootfs\u3092\u4f5c\u6210 > mkdir rootfs > sudo dnf -y -c media.repo --installroot $PWD /rhel9-rootfs \\ --disablerepo \"*\" --enablerepo \"InstallMedia-BaseOS\" groupinstall \"Minimal Install\" # tar\u30dc\u30fc\u30eb\u306brootfs\u3092\u30a2\u30fc\u30ab\u30a4\u30d6 > tar cf rhel9-rootfs.tar -C rhel9-rootfs/ . # \u4f5c\u6210\u3057\u305frootfs\u306etar\u30d5\u30a1\u30a4\u30eb\u3092Windows\u5074\u306b\u79fb\u52d5 > mv rhel9-rootfs.tar /mnt/c/Users/user/.","title":"\u30a4\u30e1\u30fc\u30b8\u5165\u624b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/rhel/#rootfs","text":"\u4f5c\u6210\u3057\u305frootfs\u3092WSL\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u3001Windows\u4e0a\u306ePowershell\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 # \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210 > New-Item $env:LOCALAPPDATA \\ wsl \\ RHEL \\ 9 -ItemType Directory # rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 > wsl . exe - -import RHEL $env:LOCALAPPDATA \\ wsl \\ RHEL \\ 9 .\\ rhel9-rootfs . tar # \u78ba\u8a8d > wsl . exe -d RHEL grep PRETTY_NAME / etc / os-release PRETTY_NAME = \"Red Hat Enterprise Linux 9.1 (Plow)\"","title":"rootfs\u306e\u30a4\u30f3\u30dd\u30fc\u30c8"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/rhel/#sudo","text":"\u521d\u671f\u72b6\u614b\u3067\u306froot\u30e6\u30fc\u30b6\u3057\u304b\u306a\u3044\u305f\u3081\u3001\u4f5c\u696d\u7528\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3066sudo\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u4f5c\u6210\u3059\u308b\u30e6\u30fc\u30b6\u540d\u306f\u300c roy \u300d\u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u4f5c\u6210\u3068sudo\u306e\u6709\u52b9\u5316 # group\u4f5c\u6210 > groupadd -g 1000 roy # \u30e6\u30fc\u30b6\u4f5c\u6210 > useradd -g 1000 -u 1000 roy # wheel\u30b0\u30eb\u30fc\u30d7\u306b\u30e6\u30fc\u30b6\u3092\u8ffd\u52a0 > usermod -G wheel roy # roy\u30e6\u30fc\u30b6\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a > passwd roy # roy\u30e6\u30fc\u30b6\u306b\u5207\u308a\u66ff\u3048 > su - roy # sudo\u304c\u5229\u7528\u51fa\u6765\u308b\u304b\u78ba\u8a8d > sudo subscription-manager status","title":"\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\u3068sudo\u306e\u6709\u52b9\u5316"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/rhel/#wsl","text":"\u73fe\u5728\u306e\u8a2d\u5b9a\u3067\u306fRHEL\u3092\u8d77\u52d5\u3057\u305f\u6642\u306b\u306froot\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3092\u5909\u66f4\u3059\u308b\u306b\u306fWindows\u4e0a\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u304b\u3001 \u5404\u30c7\u30a3\u30b9\u30c8\u30ed\u306e /etc/wsl.conf \u306b\u8a2d\u5b9a \u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002Windows\u4e0a\u306ePowershell\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u306e\u5909\u66f4 # RHEL\u306e\u30ec\u30b8\u30b9\u30c8\u30ea\u30ad\u30fc\u3092\u691c\u7d22 > $reg_key =( reg . exe query HKCU \\ SOFTWARE \\ Microsoft \\ Windows \\ CurrentVersion \\ Lxss / s / d / f RHEL )[ 1 ] # \u30ec\u30b8\u30b9\u30c8\u30ea\u30ad\u30fc\u3092\u78ba\u8a8d > reg . exe query $reg_key # \u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u306eUID\u3092\u8a2d\u5b9a > reg . exe add $reg_key / v DefaultUid / t REG_DWORD / d 1000 / f \u305d\u306e\u5f8c\u3001WSL\u306eRHEL\u3092\u8d77\u52d5\u3059\u308b\u3068\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6 roy \u3067\u30ed\u30b0\u30a4\u30f3\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","title":"wsl\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u306e\u5909\u66f4"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/rhel/#_2","text":"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u3001\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3092\u5229\u7528\u3057\u3066\u767b\u9332\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u767b\u9332\u306e\u65b9\u6cd5\u306fRHRL\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 2 \u3092\u53c2\u7167\u3057\u307e\u3059\u3002 \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332 # \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332 > subscription-manager register ## \u30e6\u30fc\u30b6ID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b # \u30d1\u30c3\u30b1\u30fc\u30b8\u66f4\u65b0 > sudo dnf update -y","title":"\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/rhel/#rhelwsl","text":"\u30c7\u30a3\u30b9\u30c8\u30ed\u3092\u524a\u9664\u3059\u308b\u306b\u306f\u3001WSL\u3078\u306e\u767b\u9332\u3092\u89e3\u9664\u3057\u305f\u5f8c\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664\u3057\u307e\u3059\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u524a\u9664 # wsl\u304b\u3089\u767b\u9332\u89e3\u9664 > wsl . exe - -unregister RHEL # \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30dd\u30fc\u30c8\u5148\u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664 > Remove-Item -Recurse $env:LOCALAPPDATA \\ wsl \\ RHEL \\ 9 # \u624b\u52d5\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30c7\u30a3\u30b9\u30c8\u30ed\u5168\u3066\u3092\u524a\u9664\u3059\u308b\u5834\u5408 > Remove-Item -Recurse $env:LOCALAPPDATA \\ wsl \\ Red Hat Developer Program\u306b\u53c2\u52a0\u3057\u3066\u6700\u65b0\u6280\u8853\u3092\u5b66\u7fd2\u3057\u3088\u3046 - \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0 \u21a9 \u7b2c4\u7ae0 \u30b7\u30b9\u30c6\u30e0\u767b\u9332\u304a\u3088\u3073\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u7ba1\u7406 Red Hat Enterprise Linux 9 - Red Hat Customer Portal \u21a9","title":"\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305fRHEL\u3092WSL\u304b\u3089\u524a\u9664"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/screenfetch/","text":"WSL\u3067screenFetch\u3092\u5b9f\u884c\u3055\u305b\u308b WSL\u3067\u7c21\u5358\u306b\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u3092\u78ba\u8a8d\u3057\u305f\u3044\u3002 \u203b\u3053\u306e\u8a18\u4e8b\u306f\u3001\u7279\u306b\u4e2d\u8eab\u304c\u3042\u308a\u307e\u305b\u3093\u3002 > ( curl.exe -s https://raw.githubusercontent.com/KittyKatt/screenFetch/master/screenfetch-dev ) -join \"`n\" | wsl -d Ubuntu -u root \u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u3067curl\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u305f\u3081\u3001Windows10\u4e0a\u306ecurl.exe\u3092\u5229\u7528\u3057\u307e\u3059\u3002 curl.exe\u3067\u53d6\u5f97\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3092WSL\u3078\u30d1\u30a4\u30d7\u3057\u307e\u3059\u3002 \u5c11\u3057\u3001\u304a\u304b\u3057\u3044\u3068\u3053\u308d\u3082\u6709\u308a\u307e\u3059\u304c 1 2 \u5b9f\u884c\u3067\u304d\u307e\u3057\u305f\u3002 \u203bAlpine Linux\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067bash\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 'Shell'\u304cinit\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306d\u3002 \u21a9 \u4f55\u304b\u304c': numeric argument required'\u3068\u8a00\u3063\u3066\u3044\u307e\u3059\u306d\u3002 \u21a9","title":"WSL\u3067screenFetch\u3092\u5b9f\u884c\u3055\u305b\u308b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/screenfetch/#wslscreenfetch","text":"WSL\u3067\u7c21\u5358\u306b\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u3092\u78ba\u8a8d\u3057\u305f\u3044\u3002 \u203b\u3053\u306e\u8a18\u4e8b\u306f\u3001\u7279\u306b\u4e2d\u8eab\u304c\u3042\u308a\u307e\u305b\u3093\u3002 > ( curl.exe -s https://raw.githubusercontent.com/KittyKatt/screenFetch/master/screenfetch-dev ) -join \"`n\" | wsl -d Ubuntu -u root \u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u3067curl\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u305f\u3081\u3001Windows10\u4e0a\u306ecurl.exe\u3092\u5229\u7528\u3057\u307e\u3059\u3002 curl.exe\u3067\u53d6\u5f97\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3092WSL\u3078\u30d1\u30a4\u30d7\u3057\u307e\u3059\u3002 \u5c11\u3057\u3001\u304a\u304b\u3057\u3044\u3068\u3053\u308d\u3082\u6709\u308a\u307e\u3059\u304c 1 2 \u5b9f\u884c\u3067\u304d\u307e\u3057\u305f\u3002 \u203bAlpine Linux\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067bash\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 'Shell'\u304cinit\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306d\u3002 \u21a9 \u4f55\u304b\u304c': numeric argument required'\u3068\u8a00\u3063\u3066\u3044\u307e\u3059\u306d\u3002 \u21a9","title":"WSL\u3067screenFetch\u3092\u5b9f\u884c\u3055\u305b\u308b"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/wslconfig/","text":"wsl.conf \u3068 .wslconfig WSL\u4e0a\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u6210\u306b\u3064\u3044\u3066\u3001 /etc/wsl.conf \u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001WSL2\u306e\u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u30db\u30b9\u30c8\u3059\u308b\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u69cb\u6210\u306b\u3064\u3044\u3066\u306f\u3001 \u5404\u30e6\u30fc\u30b6\u306e C:\\Users\\[username]\\.wslconfig \u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u306f\u3001 Microsoft\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u306a\u304a\u3001\u6700\u65b0\u30d3\u30eb\u30c9\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u3001 WSL\u306e\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8 \u3092\u53c2\u7167\u3059\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002 wsl.conf:\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u6bce\u306e\u69cb\u6210 /etc/wsl.conf [automount] enabled=true # C\u30c9\u30e9\u30a4\u30d6\u306a\u3069\u306e DrvFs \u306e\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u3059\u308b mountFsTab=true # WSL\u306e\u8d77\u52d5\u6642\u306b /etc/fstab \u3092\u8aad\u307f\u8fbc\u3093\u3067\u81ea\u52d5\u7684\u306b\u30de\u30a6\u30f3\u30c8\u3059\u308b root=\"/mnt/\" # DrvFs\u306e\u30de\u30a6\u30f3\u30c8\u5148 options=\"\" # DrvFs\u306e\u30de\u30a6\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3 # \u898f\u5b9a\u5024: `uid=1000,gid=1000,umask=000,fmask=000,dmask=000,metadata=disabled,case=off` crossDistro=true # \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8de8\u3044\u3060\u30de\u30a6\u30f3\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b (ver2004\u4ee5\u964d) [network] generateHosts=true # /etc/hosts \u3092\u81ea\u52d5\u751f\u6210\u3059\u308b generateResolvConf=true # /etc/resolv.conf \u3092\u81ea\u52d5\u751f\u6210\u3059\u308b hostname=<string> # WSL\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30db\u30b9\u30c8\u540d \u898f\u5b9a\u5024: Windows\u306e\u30db\u30b9\u30c8\u540d\u3068\u540c\u3058 [interop] enabled=true # WSL\u5185\u304b\u3089Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8d77\u52d5\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b (ver1809\u4ee5\u964d) appendWindowsPath=true # WSL\u5185\u306ePATH\u74b0\u5883\u5909\u6570\u306b\u3001Windows\u306ePATH\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\u3059\u308b (ver1809\u4ee5\u964d) [user] default=<string> # \u898f\u5b9a\u306e\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u540d\u3092\u6307\u5b9a\u3059\u308b (ver2004\u4ee5\u964d) \u898f\u5b9a\u5024: \u30ec\u30b8\u30b9\u30c8\u30ea\u5024\u306b\u5f93\u3046 [filesystem] umask=0022 # \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b (ver2004\u4ee5\u964d) [boot] systemd=true # Systemd\u3092\u6709\u52b9\u306b\u3059\u308b (WSL\u30d0\u30fc\u30b8\u30e7\u30f3 0.67.6\u4ee5\u964d) command=\"\" # WSL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u958b\u59cb\u6642\u306b\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3001root\u30e6\u30fc\u30b6\u3067\u5b9f\u884c\u3055\u308c\u308b (Windows11\u304a\u3088\u3073Windows Server 2022\u4ee5\u964d) .wslconf:WSL2\u306e\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u69cb\u6210 %USERPROFILE%\\.wslconfig [wsl2] kernel=<path> # \u30ab\u30b9\u30bf\u30e0Linux\u30ab\u30fc\u30cd\u30eb\u306e(Windows\u4e0a\u306e)\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b kernelCommandLine=<string> # \u30ab\u30fc\u30cd\u30eb\u30b3\u30de\u30f3\u30c9\u5f15\u6570\u3092\u6307\u5b9a\u3059\u308b memory=<size> # WSL2\u306e\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u6700\u5927\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b processors=<number> # WSL2\u306e\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u4f7f\u7528\u3059\u308bCPU\u6570\u3092\u6307\u5b9a\u3059\u308b swap=<size> # WSL2\u306e\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u30b9\u30ef\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b # 0\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u30b9\u30ef\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044 swapFile=<path> # \u30b9\u30ef\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u306b\u4f7f\u7528\u3059\u308bVHD\u30d5\u30a1\u30a4\u30eb\u306e(Windows\u4e0a\u306e)\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b localhostForwarding=true # WSL\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30dd\u30fc\u30c8\u5f85\u3061\u53d7\u3051\u3092\u3001\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u306b\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3059\u308b pageReporting=true # WSL2\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u672a\u4f7f\u7528\u306e\u30e1\u30e2\u30ea\u3092\u518d\u5229\u7528\u3059\u308b guiApplications=true # WSLg\u3092\u5229\u7528\u3057\u3066WSL\u4e0a\u3067GUI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u30b5\u30dd\u30fc\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b (Windows11\u306e\u307f) debugConsole=false # WSL2\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u8d77\u52d5\u6642\u306bdmesg\u306e\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b nestedVirtualization=true # WSL2\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u5185\u3067Nested Virtualization\u3092\u6709\u52b9\u5316\u3059\u308b (Windows11\u306e\u307f) vmIdleTimeout # WSL2\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u30a2\u30a4\u30c9\u30eb\u72b6\u614b\u306b\u306a\u3063\u3066\u304b\u3089\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3055\u308c\u308b\u307e\u3067\u306e\u6642\u9593(\u30df\u30ea\u79d2) (Windows11\u306e\u307f) # <path> entries must be absolute Windows paths with escaped backslashes, # for example C:\\\\Users\\\\Ben\\\\kernel # <size> entries must be size followed by unit, for example 8GB or 512MB","title":"wsl.conf \u3068 .wslconfig"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/wslconfig/#wslconf-wslconfig","text":"WSL\u4e0a\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u6210\u306b\u3064\u3044\u3066\u3001 /etc/wsl.conf \u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001WSL2\u306e\u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u30db\u30b9\u30c8\u3059\u308b\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u69cb\u6210\u306b\u3064\u3044\u3066\u306f\u3001 \u5404\u30e6\u30fc\u30b6\u306e C:\\Users\\[username]\\.wslconfig \u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u306f\u3001 Microsoft\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u306a\u304a\u3001\u6700\u65b0\u30d3\u30eb\u30c9\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u3001 WSL\u306e\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8 \u3092\u53c2\u7167\u3059\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002","title":"wsl.conf \u3068 .wslconfig"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/wslconfig/#wslconf","text":"/etc/wsl.conf [automount] enabled=true # C\u30c9\u30e9\u30a4\u30d6\u306a\u3069\u306e DrvFs \u306e\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u3059\u308b mountFsTab=true # WSL\u306e\u8d77\u52d5\u6642\u306b /etc/fstab \u3092\u8aad\u307f\u8fbc\u3093\u3067\u81ea\u52d5\u7684\u306b\u30de\u30a6\u30f3\u30c8\u3059\u308b root=\"/mnt/\" # DrvFs\u306e\u30de\u30a6\u30f3\u30c8\u5148 options=\"\" # DrvFs\u306e\u30de\u30a6\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3 # \u898f\u5b9a\u5024: `uid=1000,gid=1000,umask=000,fmask=000,dmask=000,metadata=disabled,case=off` crossDistro=true # \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8de8\u3044\u3060\u30de\u30a6\u30f3\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b (ver2004\u4ee5\u964d) [network] generateHosts=true # /etc/hosts \u3092\u81ea\u52d5\u751f\u6210\u3059\u308b generateResolvConf=true # /etc/resolv.conf \u3092\u81ea\u52d5\u751f\u6210\u3059\u308b hostname=<string> # WSL\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30db\u30b9\u30c8\u540d \u898f\u5b9a\u5024: Windows\u306e\u30db\u30b9\u30c8\u540d\u3068\u540c\u3058 [interop] enabled=true # WSL\u5185\u304b\u3089Windows\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8d77\u52d5\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b (ver1809\u4ee5\u964d) appendWindowsPath=true # WSL\u5185\u306ePATH\u74b0\u5883\u5909\u6570\u306b\u3001Windows\u306ePATH\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\u3059\u308b (ver1809\u4ee5\u964d) [user] default=<string> # \u898f\u5b9a\u306e\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u540d\u3092\u6307\u5b9a\u3059\u308b (ver2004\u4ee5\u964d) \u898f\u5b9a\u5024: \u30ec\u30b8\u30b9\u30c8\u30ea\u5024\u306b\u5f93\u3046 [filesystem] umask=0022 # \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b (ver2004\u4ee5\u964d) [boot] systemd=true # Systemd\u3092\u6709\u52b9\u306b\u3059\u308b (WSL\u30d0\u30fc\u30b8\u30e7\u30f3 0.67.6\u4ee5\u964d) command=\"\" # WSL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u958b\u59cb\u6642\u306b\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3001root\u30e6\u30fc\u30b6\u3067\u5b9f\u884c\u3055\u308c\u308b (Windows11\u304a\u3088\u3073Windows Server 2022\u4ee5\u964d)","title":"wsl.conf:\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u6bce\u306e\u69cb\u6210"},{"location":"Windows/WSL%EF%BC%86%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A/wslconfig/#wslconfwsl2","text":"%USERPROFILE%\\.wslconfig [wsl2] kernel=<path> # \u30ab\u30b9\u30bf\u30e0Linux\u30ab\u30fc\u30cd\u30eb\u306e(Windows\u4e0a\u306e)\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b kernelCommandLine=<string> # \u30ab\u30fc\u30cd\u30eb\u30b3\u30de\u30f3\u30c9\u5f15\u6570\u3092\u6307\u5b9a\u3059\u308b memory=<size> # WSL2\u306e\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u6700\u5927\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b processors=<number> # WSL2\u306e\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u4f7f\u7528\u3059\u308bCPU\u6570\u3092\u6307\u5b9a\u3059\u308b swap=<size> # WSL2\u306e\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u30b9\u30ef\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b # 0\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u30b9\u30ef\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044 swapFile=<path> # \u30b9\u30ef\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u306b\u4f7f\u7528\u3059\u308bVHD\u30d5\u30a1\u30a4\u30eb\u306e(Windows\u4e0a\u306e)\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b localhostForwarding=true # WSL\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30dd\u30fc\u30c8\u5f85\u3061\u53d7\u3051\u3092\u3001\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u306b\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3059\u308b pageReporting=true # WSL2\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u672a\u4f7f\u7528\u306e\u30e1\u30e2\u30ea\u3092\u518d\u5229\u7528\u3059\u308b guiApplications=true # WSLg\u3092\u5229\u7528\u3057\u3066WSL\u4e0a\u3067GUI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u30b5\u30dd\u30fc\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b (Windows11\u306e\u307f) debugConsole=false # WSL2\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u8d77\u52d5\u6642\u306bdmesg\u306e\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b nestedVirtualization=true # WSL2\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u5185\u3067Nested Virtualization\u3092\u6709\u52b9\u5316\u3059\u308b (Windows11\u306e\u307f) vmIdleTimeout # WSL2\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u30a2\u30a4\u30c9\u30eb\u72b6\u614b\u306b\u306a\u3063\u3066\u304b\u3089\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3055\u308c\u308b\u307e\u3067\u306e\u6642\u9593(\u30df\u30ea\u79d2) (Windows11\u306e\u307f) # <path> entries must be absolute Windows paths with escaped backslashes, # for example C:\\\\Users\\\\Ben\\\\kernel # <size> entries must be size followed by unit, for example 8GB or 512MB","title":".wslconf:WSL2\u306e\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u69cb\u6210"},{"location":"mkdocs/","text":"MkDocs Python\u88fd\u306e\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf Markdown\u30d5\u30a1\u30a4\u30eb\u304b\u3089html\u3092\u751f\u6210\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u751f\u6210\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u3092\u305d\u306e\u307e\u307eGitHub Pages\u3068\u3057\u3066\u516c\u958b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 MkDocs (https://www.mkdocs.org) Material for MkDocs MkDocs\u306b\u9069\u7528\u3067\u304d\u308b\u306e\u30c6\u30fc\u30de\u306e\u4e00\u3064\u3067\u3059\u3002 Google\u306e Material Design Guidelines \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002 Material for MkDocs (https://squidfunk.github.io/mkdocs-material) \u4e0a\u8a18\u30ea\u30f3\u30af\u5185\u306e\u300cGetting started\u300d\u306b\u5f93\u3063\u3066\u3044\u3051\u3070\u3001\u74b0\u5883\u3092\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002","title":"MkDocs"},{"location":"mkdocs/#mkdocs","text":"Python\u88fd\u306e\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf Markdown\u30d5\u30a1\u30a4\u30eb\u304b\u3089html\u3092\u751f\u6210\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u751f\u6210\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u3092\u305d\u306e\u307e\u307eGitHub Pages\u3068\u3057\u3066\u516c\u958b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 MkDocs (https://www.mkdocs.org)","title":"MkDocs"},{"location":"mkdocs/#material-for-mkdocs","text":"MkDocs\u306b\u9069\u7528\u3067\u304d\u308b\u306e\u30c6\u30fc\u30de\u306e\u4e00\u3064\u3067\u3059\u3002 Google\u306e Material Design Guidelines \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002 Material for MkDocs (https://squidfunk.github.io/mkdocs-material) \u4e0a\u8a18\u30ea\u30f3\u30af\u5185\u306e\u300cGetting started\u300d\u306b\u5f93\u3063\u3066\u3044\u3051\u3070\u3001\u74b0\u5883\u3092\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002","title":"Material for MkDocs"},{"location":"mkdocs/VSCode/","text":"Visual Studio Code\u3067\u306e\u7de8\u96c6\u74b0\u5883\u69cb\u7bc9 Debug Extension\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u3069\u3061\u3089\u304b\u304a\u597d\u307f\u3067 Debugger for Firefox - Visual Studio Marketplace Debugger for Chrome - Visual Studio Marketplace Python\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Windows10: Get Python 3.7 - Microsoft Store Ubuntu: sudo apt install python3 python3-pip mkdocs\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210 Getting started - Material for MkDocs \u3092\u53c2\u8003\u306b\u3001 mkdocs.yml \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 mkdocs\u74b0\u5883\u306e\u4f5c\u6210 \u307e\u3060MkDocs\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001poetry\u3067\u74b0\u5883\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u307e\u305a\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a pyproject.toml \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 pyproject.toml \u305d\u306e\u5f8c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a tasks.json , launch.json \u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u3001 Ctrl+Shift+P \u304b\u3089 task \u3068\u5165\u529b\u3057\u3001 \u30bf\u30b9\u30af\u306e\u5b9f\u884c \u3092\u9078\u629e\u5f8c\u3001Task: setup_poetry \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 .vscode/tasks.json .vscode/launch.json","title":"Visual Studio Code\u3067\u306e\u7de8\u96c6\u74b0\u5883\u69cb\u7bc9"},{"location":"mkdocs/VSCode/#visual-studio-code","text":"","title":"Visual Studio Code\u3067\u306e\u7de8\u96c6\u74b0\u5883\u69cb\u7bc9"},{"location":"mkdocs/VSCode/#debug-extension","text":"\u3069\u3061\u3089\u304b\u304a\u597d\u307f\u3067 Debugger for Firefox - Visual Studio Marketplace Debugger for Chrome - Visual Studio Marketplace","title":"Debug Extension\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"mkdocs/VSCode/#python","text":"Windows10: Get Python 3.7 - Microsoft Store Ubuntu: sudo apt install python3 python3-pip","title":"Python\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"mkdocs/VSCode/#mkdocs","text":"Getting started - Material for MkDocs \u3092\u53c2\u8003\u306b\u3001 mkdocs.yml \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002","title":"mkdocs\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210"},{"location":"mkdocs/VSCode/#mkdocs_1","text":"\u307e\u3060MkDocs\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001poetry\u3067\u74b0\u5883\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u307e\u305a\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a pyproject.toml \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 pyproject.toml \u305d\u306e\u5f8c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a tasks.json , launch.json \u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u3001 Ctrl+Shift+P \u304b\u3089 task \u3068\u5165\u529b\u3057\u3001 \u30bf\u30b9\u30af\u306e\u5b9f\u884c \u3092\u9078\u629e\u5f8c\u3001Task: setup_poetry \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 .vscode/tasks.json .vscode/launch.json","title":"mkdocs\u74b0\u5883\u306e\u4f5c\u6210"},{"location":"mkdocs/VSVode_debug_optout_googleAnalytics/","text":"Google Analytics\u306e\u8a2d\u5b9a mkdocs\u306ematerial\u30c6\u30fc\u30de\u306b\u306fGoogle Analytics\u306e\u30bf\u30b0\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Getting started - Material for MkDocs \u3092\u53c2\u8003\u306b\u3001 mkdocs.yml \u306b\u8ffd\u8a18\u3059\u308b\u3053\u3068\u3067\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002 \u30c7\u30d0\u30c3\u30b0\u7528\u30d6\u30e9\u30a6\u30b6\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u3068\u8a2d\u5b9a Google Analytics\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u30c7\u30d0\u30c3\u30b0\u6642\u306e\u30a2\u30af\u30bb\u30b9\u306f\u89e3\u6790\u5bfe\u8c61\u306b\u3057\u305f\u304f\u3042\u308a\u307e\u305b\u3093\u3002 \u305d\u3053\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u7528\u306e\u30d6\u30e9\u30a6\u30b6\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u305d\u3053\u306b Google \u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8 \u30a2\u30c9\u30aa\u30f3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001Firefox\u3067\u306e\u624b\u9806\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002 Firefox\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210 Mozilla\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 1 \u3092\u53c2\u8003\u306b\u3057\u3066\u3001Firefox\u306e\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u3068\u30a2\u30c9\u30aa\u30f3\u306e\u8ffd\u52a0\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u5225\u306ePC\u3067\u3082git\u3067\u540c\u671f\u3057\u3066\u5171\u901a\u306e\u8a2d\u5b9a\u3092\u5229\u7528\u3057\u305f\u3044\u305f\u3081\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306fgit\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u4e2d\u306e .vscode \u30d5\u30a9\u30eb\u30c0\u30fc\u5185\u306b\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002 \u4f5c\u696d\u306fPowershell\u3067\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002 cd [git\u30d5\u30a9\u30eb\u30c0\u30fc]\\.vscode mkdir firefox_debug_profile & 'C:\\Program Files\\Mozilla Firefox\\firefox.exe' -new-instance -CreateProfile \"debug $PWD\\firefox_debug_profile\" \u3053\u308c\u3067\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8\u30a2\u30c9\u30aa\u30f3\u306e\u8ffd\u52a0 \u7d9a\u3044\u3066\u3001\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u3001 Google \u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8 \u30a2\u30c9\u30aa\u30f3 \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 \u4eca\u56de\u306f\u4e0a\u8a18\u306e\u30ea\u30f3\u30af\u5148\u304b\u3089\u3001\u30a2\u30c9\u30aa\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u300cgaoptoutaddon_1.0.8.xpi\u300d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\u3002 \u6b21\u306b\u3001\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067Firefox\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 cd [git\u30d5\u30a9\u30eb\u30c0\u30fc]\\.vscode & 'C:\\Program Files\\Mozilla Firefox\\firefox.exe' -new-instance -Profile \"debug $PWD\\firefox_debug_profile\" \u305d\u3057\u3066\u3001\u8d77\u52d5\u3057\u305fFirefox\u306eURL\u6b04\u306b about:addons \u3068\u5165\u529b\u3057\u3001\u30a2\u30c9\u30aa\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002 \u30a2\u30c9\u30aa\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u753b\u9762\u304c\u958b\u3044\u305f\u3089\u3001\u753b\u9762\u53f3\u4e0a\u306e\u6b6f\u8eca\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u5f8c\u3001\u300c\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a2\u30c9\u30aa\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u3092\u9078\u629e\u3057\u3001\u5148\u307b\u3069\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u300cgaoptoutaddon_1.0.8.xpi\u300d\u3092\u958b\u304d\u307e\u3059\u3002 \u30a2\u30c9\u30aa\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u5f8c\u306b\u753b\u9762\u5de6\u30da\u30a4\u30f3\u3067\u300c\u62e1\u5f35\u6a5f\u80fd\u300d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u62e1\u5f35\u6a5f\u80fd\u306e\u7ba1\u7406\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u3001Google Analytics \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8 \u30a2\u30c9\u30aa\u30f3\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u30a2\u30c9\u30aa\u30f3\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u306e\u5b9f\u884c\u8a31\u53ef \u30c7\u30d0\u30c3\u30b0\u6642\u306f\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30e2\u30fc\u30c9\u3068\u3057\u3066Firefox\u304c\u8d77\u52d5\u3059\u308b\u305f\u3081\u3001\u30c7\u30d0\u30c3\u30b0\u6642\u306b\u30a2\u30c9\u30aa\u30f3\u3092\u6709\u52b9\u5316\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u306e\u5b9f\u884c\u8a31\u53ef\u3092\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u6642\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u753b\u9762\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306b\u8a2d\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4f5c\u696d\u306f\u5f15\u304d\u7d9a\u304d\u3001Firefox\u306e\u753b\u9762\u3067\u884c\u3044\u307e\u3059\u3002 \u30a2\u30c9\u30aa\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u753b\u9762\u5185\u306e\u62e1\u5f35\u6a5f\u80fd\u306e\u7ba1\u7406\u3092\u8868\u793a\u5f8c\u3001\u300cGoogle Analytics \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8 \u30a2\u30c9\u30aa\u30f3\u300d\u306e\u53f3\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u300c\u30fb\u30fb\u30fb\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u300c\u7ba1\u7406\u300d\u3092\u9078\u629e\u3059\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u3053\u3053\u3067\u3001\u300c\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u306e\u5b9f\u884c\u300d\u306e\u9805\u76ee\u3067\u300c\u8a31\u53ef\u300d\u3092\u9078\u629e\u3059\u308b\u3068\u3001\u30c7\u30d0\u30c3\u30b0\u6642\u306b\u3082\u30a2\u30c9\u30aa\u30f3\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002 \u30c7\u30d0\u30c3\u30b0\u6642\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u8a2d\u5b9a .vscode/launch.json \u3092\u958b\u304d\u3001\u30c7\u30d0\u30c3\u30b0\u8a2d\u5b9a\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a\u306e1\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 .vscode/launch.json { \"version\" : \"0.2.0\" , \"configurations\" : [ { \"name\" : \"mkdocs\" , \"type\" : \"firefox\" , \"request\" : \"launch\" , \"reAttach\" : true , \"profileDir\" : \"${workspaceFolder}\\\\.vscode\\\\firefox_debug_profile\" , \"url\" : \"http://localhost:8000/\" , \"webRoot\" : \"${workspaceFolder}/site\" , \"preLaunchTask\" : \"mkdocs-serve\" , \"postDebugTask\" : \"mkdocs-stop\" } ] } \u8a2d\u5b9a\u3092\u8ffd\u52a0\u5f8c\u3001\u30c7\u30d0\u30c3\u30b0\u5b9f\u884c\u3057\u3066\u307f\u3066Firefox\u4e0a\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3 - Mozilla | MDN \u21a9","title":"Google Analytics\u306e\u8a2d\u5b9a"},{"location":"mkdocs/VSVode_debug_optout_googleAnalytics/#google-analytics","text":"mkdocs\u306ematerial\u30c6\u30fc\u30de\u306b\u306fGoogle Analytics\u306e\u30bf\u30b0\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Getting started - Material for MkDocs \u3092\u53c2\u8003\u306b\u3001 mkdocs.yml \u306b\u8ffd\u8a18\u3059\u308b\u3053\u3068\u3067\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002","title":"Google Analytics\u306e\u8a2d\u5b9a"},{"location":"mkdocs/VSVode_debug_optout_googleAnalytics/#_1","text":"Google Analytics\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u30c7\u30d0\u30c3\u30b0\u6642\u306e\u30a2\u30af\u30bb\u30b9\u306f\u89e3\u6790\u5bfe\u8c61\u306b\u3057\u305f\u304f\u3042\u308a\u307e\u305b\u3093\u3002 \u305d\u3053\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u7528\u306e\u30d6\u30e9\u30a6\u30b6\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u305d\u3053\u306b Google \u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8 \u30a2\u30c9\u30aa\u30f3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001Firefox\u3067\u306e\u624b\u9806\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002","title":"\u30c7\u30d0\u30c3\u30b0\u7528\u30d6\u30e9\u30a6\u30b6\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u3068\u8a2d\u5b9a"},{"location":"mkdocs/VSVode_debug_optout_googleAnalytics/#firefox","text":"Mozilla\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 1 \u3092\u53c2\u8003\u306b\u3057\u3066\u3001Firefox\u306e\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u3068\u30a2\u30c9\u30aa\u30f3\u306e\u8ffd\u52a0\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u5225\u306ePC\u3067\u3082git\u3067\u540c\u671f\u3057\u3066\u5171\u901a\u306e\u8a2d\u5b9a\u3092\u5229\u7528\u3057\u305f\u3044\u305f\u3081\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306fgit\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u4e2d\u306e .vscode \u30d5\u30a9\u30eb\u30c0\u30fc\u5185\u306b\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002 \u4f5c\u696d\u306fPowershell\u3067\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002 cd [git\u30d5\u30a9\u30eb\u30c0\u30fc]\\.vscode mkdir firefox_debug_profile & 'C:\\Program Files\\Mozilla Firefox\\firefox.exe' -new-instance -CreateProfile \"debug $PWD\\firefox_debug_profile\" \u3053\u308c\u3067\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002","title":"Firefox\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210"},{"location":"mkdocs/VSVode_debug_optout_googleAnalytics/#_2","text":"\u7d9a\u3044\u3066\u3001\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u3001 Google \u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8 \u30a2\u30c9\u30aa\u30f3 \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 \u4eca\u56de\u306f\u4e0a\u8a18\u306e\u30ea\u30f3\u30af\u5148\u304b\u3089\u3001\u30a2\u30c9\u30aa\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u300cgaoptoutaddon_1.0.8.xpi\u300d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\u3002 \u6b21\u306b\u3001\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067Firefox\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 cd [git\u30d5\u30a9\u30eb\u30c0\u30fc]\\.vscode & 'C:\\Program Files\\Mozilla Firefox\\firefox.exe' -new-instance -Profile \"debug $PWD\\firefox_debug_profile\" \u305d\u3057\u3066\u3001\u8d77\u52d5\u3057\u305fFirefox\u306eURL\u6b04\u306b about:addons \u3068\u5165\u529b\u3057\u3001\u30a2\u30c9\u30aa\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002 \u30a2\u30c9\u30aa\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u753b\u9762\u304c\u958b\u3044\u305f\u3089\u3001\u753b\u9762\u53f3\u4e0a\u306e\u6b6f\u8eca\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u5f8c\u3001\u300c\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a2\u30c9\u30aa\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u3092\u9078\u629e\u3057\u3001\u5148\u307b\u3069\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u300cgaoptoutaddon_1.0.8.xpi\u300d\u3092\u958b\u304d\u307e\u3059\u3002 \u30a2\u30c9\u30aa\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u5f8c\u306b\u753b\u9762\u5de6\u30da\u30a4\u30f3\u3067\u300c\u62e1\u5f35\u6a5f\u80fd\u300d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u62e1\u5f35\u6a5f\u80fd\u306e\u7ba1\u7406\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u3001Google Analytics \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8 \u30a2\u30c9\u30aa\u30f3\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","title":"\u30aa\u30d7\u30c8\u30a2\u30a6\u30c8\u30a2\u30c9\u30aa\u30f3\u306e\u8ffd\u52a0"},{"location":"mkdocs/VSVode_debug_optout_googleAnalytics/#_3","text":"\u30c7\u30d0\u30c3\u30b0\u6642\u306f\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30e2\u30fc\u30c9\u3068\u3057\u3066Firefox\u304c\u8d77\u52d5\u3059\u308b\u305f\u3081\u3001\u30c7\u30d0\u30c3\u30b0\u6642\u306b\u30a2\u30c9\u30aa\u30f3\u3092\u6709\u52b9\u5316\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u306e\u5b9f\u884c\u8a31\u53ef\u3092\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u6642\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u753b\u9762\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306b\u8a2d\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4f5c\u696d\u306f\u5f15\u304d\u7d9a\u304d\u3001Firefox\u306e\u753b\u9762\u3067\u884c\u3044\u307e\u3059\u3002 \u30a2\u30c9\u30aa\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u753b\u9762\u5185\u306e\u62e1\u5f35\u6a5f\u80fd\u306e\u7ba1\u7406\u3092\u8868\u793a\u5f8c\u3001\u300cGoogle Analytics \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8 \u30a2\u30c9\u30aa\u30f3\u300d\u306e\u53f3\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u300c\u30fb\u30fb\u30fb\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u300c\u7ba1\u7406\u300d\u3092\u9078\u629e\u3059\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u3053\u3053\u3067\u3001\u300c\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u306e\u5b9f\u884c\u300d\u306e\u9805\u76ee\u3067\u300c\u8a31\u53ef\u300d\u3092\u9078\u629e\u3059\u308b\u3068\u3001\u30c7\u30d0\u30c3\u30b0\u6642\u306b\u3082\u30a2\u30c9\u30aa\u30f3\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002","title":"\u30a2\u30c9\u30aa\u30f3\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u306e\u5b9f\u884c\u8a31\u53ef"},{"location":"mkdocs/VSVode_debug_optout_googleAnalytics/#_4","text":".vscode/launch.json \u3092\u958b\u304d\u3001\u30c7\u30d0\u30c3\u30b0\u8a2d\u5b9a\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a\u306e1\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 .vscode/launch.json { \"version\" : \"0.2.0\" , \"configurations\" : [ { \"name\" : \"mkdocs\" , \"type\" : \"firefox\" , \"request\" : \"launch\" , \"reAttach\" : true , \"profileDir\" : \"${workspaceFolder}\\\\.vscode\\\\firefox_debug_profile\" , \"url\" : \"http://localhost:8000/\" , \"webRoot\" : \"${workspaceFolder}/site\" , \"preLaunchTask\" : \"mkdocs-serve\" , \"postDebugTask\" : \"mkdocs-stop\" } ] } \u8a2d\u5b9a\u3092\u8ffd\u52a0\u5f8c\u3001\u30c7\u30d0\u30c3\u30b0\u5b9f\u884c\u3057\u3066\u307f\u3066Firefox\u4e0a\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3 - Mozilla | MDN \u21a9","title":"\u30c7\u30d0\u30c3\u30b0\u6642\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u8a2d\u5b9a"},{"location":"mkdocs/gitRevisionDate/","text":"git-revision-date-localized\u30d7\u30e9\u30b0\u30a4\u30f3 timvink/mkdocs-git-revision-date-localized-plugin - GitHub MkDocs plugin that enables displaying the date of the last git modification of a page. The plugin uses babel and timeago.js to provide different localized date formats. Initial fork from mkdocs-git-revision-date-plugin. git-revision-date-localized\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001Git\u4e0a\u3067\u7ba1\u7406\u3057\u3066\u3044\u308bMarkdown\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u65e5\u6642\u3092\u30da\u30fc\u30b8\u4e0a\u306b\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 git-revision-date-localized\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001git-revision-date\u30d7\u30e9\u30b0\u30a4\u30f3\u304b\u3089\u6d3e\u751f\u3057\u305f\u3082\u306e\u3067\u3059\u3002 \u6d3e\u751f\u5143\u3068\u306e\u9055\u3044\u306f\u3001 2019-11-29 \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u305f\u3082\u306e\u304c\u3001\u8a2d\u5b9a\u306e\u8a00\u8a9e\u306b\u3088\u3063\u3066 \u82f1\u8a9e\u3067\u3042\u308c\u3070 28 November, 2019 \u3001\u65e5\u672c\u8a9e\u3067\u3042\u308c\u3070 2019\u5e7411\u670828\u65e5 \u3068\u3044\u3063\u305f\u69d8\u306b\u3001\u30ed\u30fc\u30ab\u30e9\u30a4\u30ba\u3055\u308c\u305f\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 pip install mkdocs-git-revision-date-localized-plugin \u7d9a\u3044\u3066\u3001 mkdocs.yml \u30d5\u30a1\u30a4\u30eb\u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002 plugins: - search - git-revision-date-localized \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u307e\u30601\u3064\u3082\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067search\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001search\u30d7\u30e9\u30b0\u30a4\u30f3\u3082\u660e\u793a\u7684\u306b\u8a18\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002 mkdocs-material\u30c6\u30fc\u30de\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001 mkdocs.yml \u306b\u8ffd\u8a18\u3059\u308b\u3068\u3001\u81ea\u52d5\u3067\u30da\u30fc\u30b8\u4e0b\u90e8\u306b\u6700\u7d42\u66f4\u65b0\u65e5\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 Markdown\u30d5\u30a1\u30a4\u30eb\u6bce\u306b\u8868\u793a\u3092\u8a2d\u5b9a Markdown\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u5165\u3059\u308b\u3053\u3068\u3067\u3001\u6700\u7d42\u66f4\u65b0\u65e5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 {{ git_revision_date }} => {{ git_revision_date }} \u305f\u3060\u3057\u3001\u3053\u306e\u65b9\u6cd5\u306e\u5834\u5408\u3001\u65e5\u4ed8\u3092\u8868\u793a\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u5168\u3066\u306b\u8a2d\u5b9a\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u57cb\u3081\u8fbc\u3080 Mkdocs\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u5165\u3059\u308b\u3053\u3068\u3067\u3001\u5168\u3066\u306e\u30da\u30fc\u30b8\u306b\u6700\u7d42\u66f4\u65b0\u65e5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 {{ page.meta.revision_date }} => {{ git_revision_date }} Material\u30c6\u30fc\u30de\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f34.6.0\u3067git-revision-date\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u305f\u3081\u3001 \u59cb\u3081\u304b\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u6700\u7d42\u66f4\u65b0\u65e5\u306e\u8868\u793a\u304c\u57cb\u3081\u8fbc\u307e\u308c\u3066\u304a\u308a\u3001\u7279\u306b\u7de8\u96c6\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002 \u81ea\u8eab\u3067\u57cb\u3081\u8fbc\u3080\u5834\u5408\u306f\u3001\u4e0b\u8a18\u3092\u958b\u3044\u3066\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u81ea\u8eab\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u57cb\u3081\u8fbc\u3080\u5834\u5408 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b \u3053\u306e\u30b5\u30a4\u30c8\u306e\u5834\u5408\u306f\u3001material\u30c6\u30fc\u30de\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3001material\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002 pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f pip show mkdocs-material \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 > pip show mkdocs-material Name: mkdocs-material Version: 4.4.3 Summary: A Material Design theme for MkDocs Home-page: https://squidfunk.github.io/mkdocs-material/ Author: Martin Donath Author-email: martin.donath@squidfunk.com License: MIT Location: c:\\users\\XXXX\\appdata\\local\\packages\\pythonsoftwarefoundation.python.3.7_qbz5n2kfra8p0\\localcache\\local-packages\\python37\\site-packages Requires: mkdocs, mkdocs-minify-plugin, Pygments, pymdown-extensions Required-by: \u4e0a\u8a18\u306e\u30d5\u30a9\u30eb\u30c0\u304b\u3089 base.html \u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3066\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u305d\u308c\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001\u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u4e0a\u90e8\u306b\u8868\u793a\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u3092 {% block content %} \u306e\u524d\u306b\u633f\u5165\u3057\u307e\u3057\u305f\u3002 base.html <article class=\"md-content__inner md-typeset\"> \u2003{% if page and page.meta and page.meta.revision_date and not page.meta.is_index and not page.is_homepage %} \u2003\u2003<div class=\"git_revision_date\"> \u2003\u2003\u6700\u7d42\u66f4\u65b0\u65e5: {{ page.meta.revision_date }} \u2003\u2003</div> \u2003{% endif %} \u2003{% block content %} \u306a\u304a\u3001git-revision-date\u30d7\u30e9\u30b0\u30a4\u30f3\u306eREADME\u3067\u306f\u3001 {% if page.meta.revision_date } \u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001 \u3053\u308c\u3060\u3051\u3060\u3068\u30d3\u30eb\u30c9\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u305f\u3081\u3001 \u2003{% if page and page.meta and page.meta.revision_date ... \u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u7279\u5b9a\u306e\u30da\u30fc\u30b8\u3067\u6700\u7d42\u66f4\u65b0\u65e5\u3092\u8868\u793a\u3057\u306a\u3044 \u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3067\u306f\u66f4\u65b0\u65e5\u6642\u3092\u8868\u793a\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eif\u6587\u306e\u90e8\u5206\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u3001\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3067\u306f\u8868\u793a\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u2003\u2003{% if page and page.meta and not page.is_homepage and ( \u2003\u2003\u2003\u2003page.meta.git_revision_date_localized or \u2003\u2003\u2003\u2003page.meta.revision_date \u2003\u2003)}","title":"git-revision-date-localized\u30d7\u30e9\u30b0\u30a4\u30f3"},{"location":"mkdocs/gitRevisionDate/#git-revision-date-localized","text":"timvink/mkdocs-git-revision-date-localized-plugin - GitHub MkDocs plugin that enables displaying the date of the last git modification of a page. The plugin uses babel and timeago.js to provide different localized date formats. Initial fork from mkdocs-git-revision-date-plugin. git-revision-date-localized\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001Git\u4e0a\u3067\u7ba1\u7406\u3057\u3066\u3044\u308bMarkdown\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u65e5\u6642\u3092\u30da\u30fc\u30b8\u4e0a\u306b\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 git-revision-date-localized\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001git-revision-date\u30d7\u30e9\u30b0\u30a4\u30f3\u304b\u3089\u6d3e\u751f\u3057\u305f\u3082\u306e\u3067\u3059\u3002 \u6d3e\u751f\u5143\u3068\u306e\u9055\u3044\u306f\u3001 2019-11-29 \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u305f\u3082\u306e\u304c\u3001\u8a2d\u5b9a\u306e\u8a00\u8a9e\u306b\u3088\u3063\u3066 \u82f1\u8a9e\u3067\u3042\u308c\u3070 28 November, 2019 \u3001\u65e5\u672c\u8a9e\u3067\u3042\u308c\u3070 2019\u5e7411\u670828\u65e5 \u3068\u3044\u3063\u305f\u69d8\u306b\u3001\u30ed\u30fc\u30ab\u30e9\u30a4\u30ba\u3055\u308c\u305f\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002","title":"git-revision-date-localized\u30d7\u30e9\u30b0\u30a4\u30f3"},{"location":"mkdocs/gitRevisionDate/#_1","text":"\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 pip install mkdocs-git-revision-date-localized-plugin \u7d9a\u3044\u3066\u3001 mkdocs.yml \u30d5\u30a1\u30a4\u30eb\u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002 plugins: - search - git-revision-date-localized \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u307e\u30601\u3064\u3082\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067search\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001search\u30d7\u30e9\u30b0\u30a4\u30f3\u3082\u660e\u793a\u7684\u306b\u8a18\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002 mkdocs-material\u30c6\u30fc\u30de\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001 mkdocs.yml \u306b\u8ffd\u8a18\u3059\u308b\u3068\u3001\u81ea\u52d5\u3067\u30da\u30fc\u30b8\u4e0b\u90e8\u306b\u6700\u7d42\u66f4\u65b0\u65e5\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"mkdocs/gitRevisionDate/#markdown","text":"Markdown\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u5165\u3059\u308b\u3053\u3068\u3067\u3001\u6700\u7d42\u66f4\u65b0\u65e5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 {{ git_revision_date }} => {{ git_revision_date }} \u305f\u3060\u3057\u3001\u3053\u306e\u65b9\u6cd5\u306e\u5834\u5408\u3001\u65e5\u4ed8\u3092\u8868\u793a\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u5168\u3066\u306b\u8a2d\u5b9a\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002","title":"Markdown\u30d5\u30a1\u30a4\u30eb\u6bce\u306b\u8868\u793a\u3092\u8a2d\u5b9a"},{"location":"mkdocs/gitRevisionDate/#_2","text":"Mkdocs\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u5165\u3059\u308b\u3053\u3068\u3067\u3001\u5168\u3066\u306e\u30da\u30fc\u30b8\u306b\u6700\u7d42\u66f4\u65b0\u65e5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 {{ page.meta.revision_date }} => {{ git_revision_date }} Material\u30c6\u30fc\u30de\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f34.6.0\u3067git-revision-date\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u305f\u3081\u3001 \u59cb\u3081\u304b\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u6700\u7d42\u66f4\u65b0\u65e5\u306e\u8868\u793a\u304c\u57cb\u3081\u8fbc\u307e\u308c\u3066\u304a\u308a\u3001\u7279\u306b\u7de8\u96c6\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002 \u81ea\u8eab\u3067\u57cb\u3081\u8fbc\u3080\u5834\u5408\u306f\u3001\u4e0b\u8a18\u3092\u958b\u3044\u3066\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u81ea\u8eab\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u57cb\u3081\u8fbc\u3080\u5834\u5408","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u57cb\u3081\u8fbc\u3080"},{"location":"mkdocs/gitRevisionDate/#_3","text":"\u3053\u306e\u30b5\u30a4\u30c8\u306e\u5834\u5408\u306f\u3001material\u30c6\u30fc\u30de\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3001material\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002 pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f pip show mkdocs-material \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 > pip show mkdocs-material Name: mkdocs-material Version: 4.4.3 Summary: A Material Design theme for MkDocs Home-page: https://squidfunk.github.io/mkdocs-material/ Author: Martin Donath Author-email: martin.donath@squidfunk.com License: MIT Location: c:\\users\\XXXX\\appdata\\local\\packages\\pythonsoftwarefoundation.python.3.7_qbz5n2kfra8p0\\localcache\\local-packages\\python37\\site-packages Requires: mkdocs, mkdocs-minify-plugin, Pygments, pymdown-extensions Required-by: \u4e0a\u8a18\u306e\u30d5\u30a9\u30eb\u30c0\u304b\u3089 base.html \u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3066\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u305d\u308c\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001\u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u4e0a\u90e8\u306b\u8868\u793a\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u3092 {% block content %} \u306e\u524d\u306b\u633f\u5165\u3057\u307e\u3057\u305f\u3002 base.html <article class=\"md-content__inner md-typeset\"> \u2003{% if page and page.meta and page.meta.revision_date and not page.meta.is_index and not page.is_homepage %} \u2003\u2003<div class=\"git_revision_date\"> \u2003\u2003\u6700\u7d42\u66f4\u65b0\u65e5: {{ page.meta.revision_date }} \u2003\u2003</div> \u2003{% endif %} \u2003{% block content %} \u306a\u304a\u3001git-revision-date\u30d7\u30e9\u30b0\u30a4\u30f3\u306eREADME\u3067\u306f\u3001 {% if page.meta.revision_date } \u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001 \u3053\u308c\u3060\u3051\u3060\u3068\u30d3\u30eb\u30c9\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u305f\u3081\u3001 \u2003{% if page and page.meta and page.meta.revision_date ... \u3068\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b"},{"location":"mkdocs/gitRevisionDate/#_4","text":"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3067\u306f\u66f4\u65b0\u65e5\u6642\u3092\u8868\u793a\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eif\u6587\u306e\u90e8\u5206\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u3001\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3067\u306f\u8868\u793a\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u2003\u2003{% if page and page.meta and not page.is_homepage and ( \u2003\u2003\u2003\u2003page.meta.git_revision_date_localized or \u2003\u2003\u2003\u2003page.meta.revision_date \u2003\u2003)}","title":"\u7279\u5b9a\u306e\u30da\u30fc\u30b8\u3067\u6700\u7d42\u66f4\u65b0\u65e5\u3092\u8868\u793a\u3057\u306a\u3044"},{"location":"mkdocs/githubActions/","text":"GitHub Actions\u3092\u5229\u7528\u3057\u305fMkDocs\u306e\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4 MkDocs\u3067Web\u30da\u30fc\u30b8\u3092\u7de8\u96c6\u3059\u308b\u969b\u3001\u4e0b\u8a18\u306e\u56f3\u306e\u3088\u3046\u306a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u63a1\u3063\u3066\u3044\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001GitHub Actions\u3092\u5229\u7528\u3057\u3066\u3001MkDocs\u3067\u306eGitHub Pages\u3078\u306e\u30da\u30fc\u30b8\u516c\u958b\u3092\u81ea\u52d5\u5316\u3057\u307e\u3057\u305f\u3002 Github Actions\u3092\u5229\u7528\u3059\u308b\u306b\u306f 2020\u5e742\u6708\u6642\u70b9\u3067\u3001GitHub\u306e\u30e6\u30fc\u30b6\u3067\u3042\u308c\u3070\u3001Github Actions\u3092\u5229\u7528\u3067\u304d\u3001 Free\u30d7\u30e9\u30f3\u3067\u306f\u30012,000\u5206/\u6708\u306e\u5b9f\u884c\u6642\u9593\u5185\u3067\u3042\u308c\u3070\u7121\u6599\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001Github Actions\u306e\u30da\u30fc\u30b8 1 \u3084\u30d8\u30eb\u30d7 2 \u3092\u53c2\u7167\u3059\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002 Github Actions\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u5bfe\u8c61\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u3044\u305a\u308c\u304b\u306e\u30d6\u30e9\u30f3\u30c1\u306b .github/workflow/[\u9069\u5f53\u306a\u30d5\u30a1\u30a4\u30eb\u540d].yml \u3092\u4f5c\u6210\u3057\u3066\u3001\u305d\u306e\u4e2d\u306b\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092Yaml\u5f62\u5f0f\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002 Github Actions\u306e\u30d8\u30eb\u30d7 1 \u5185\u306b\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002 \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u4f5c\u6210 \u4eca\u56de\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 Github Actions\u3067\u306f\u3001\u5b9f\u884c\u74b0\u5883\u3092Windows/MacOS/Ubuntu\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u304c\u3001 \u4eca\u56de\u306fWindows\u4e0a\u306eVSCode\u3067\u7de8\u96c6/MkDocs\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30c7\u30d7\u30ed\u30a4\u6642\u306e\u74b0\u5883\u3082Windows\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002 \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u5185\u306e\u5404\u30b9\u30c6\u30c3\u30d7\u306b\u3064\u3044\u3066\u306f\u3001Yaml\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 GitHub Actions\u306b\u3064\u3044\u3066 - GitHub\u30d8\u30eb\u30d7 \u21a9 \u21a9 Actions - GitHub \u21a9","title":"GitHub Actions\u3092\u5229\u7528\u3057\u305fMkDocs\u306e\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4"},{"location":"mkdocs/githubActions/#github-actionsmkdocs","text":"MkDocs\u3067Web\u30da\u30fc\u30b8\u3092\u7de8\u96c6\u3059\u308b\u969b\u3001\u4e0b\u8a18\u306e\u56f3\u306e\u3088\u3046\u306a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u63a1\u3063\u3066\u3044\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001GitHub Actions\u3092\u5229\u7528\u3057\u3066\u3001MkDocs\u3067\u306eGitHub Pages\u3078\u306e\u30da\u30fc\u30b8\u516c\u958b\u3092\u81ea\u52d5\u5316\u3057\u307e\u3057\u305f\u3002","title":"GitHub Actions\u3092\u5229\u7528\u3057\u305fMkDocs\u306e\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4"},{"location":"mkdocs/githubActions/#github-actions","text":"2020\u5e742\u6708\u6642\u70b9\u3067\u3001GitHub\u306e\u30e6\u30fc\u30b6\u3067\u3042\u308c\u3070\u3001Github Actions\u3092\u5229\u7528\u3067\u304d\u3001 Free\u30d7\u30e9\u30f3\u3067\u306f\u30012,000\u5206/\u6708\u306e\u5b9f\u884c\u6642\u9593\u5185\u3067\u3042\u308c\u3070\u7121\u6599\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001Github Actions\u306e\u30da\u30fc\u30b8 1 \u3084\u30d8\u30eb\u30d7 2 \u3092\u53c2\u7167\u3059\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002 Github Actions\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u5bfe\u8c61\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u3044\u305a\u308c\u304b\u306e\u30d6\u30e9\u30f3\u30c1\u306b .github/workflow/[\u9069\u5f53\u306a\u30d5\u30a1\u30a4\u30eb\u540d].yml \u3092\u4f5c\u6210\u3057\u3066\u3001\u305d\u306e\u4e2d\u306b\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092Yaml\u5f62\u5f0f\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002 Github Actions\u306e\u30d8\u30eb\u30d7 1 \u5185\u306b\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002","title":"Github Actions\u3092\u5229\u7528\u3059\u308b\u306b\u306f"},{"location":"mkdocs/githubActions/#_1","text":"\u4eca\u56de\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 Github Actions\u3067\u306f\u3001\u5b9f\u884c\u74b0\u5883\u3092Windows/MacOS/Ubuntu\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u304c\u3001 \u4eca\u56de\u306fWindows\u4e0a\u306eVSCode\u3067\u7de8\u96c6/MkDocs\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30c7\u30d7\u30ed\u30a4\u6642\u306e\u74b0\u5883\u3082Windows\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002 \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u5185\u306e\u5404\u30b9\u30c6\u30c3\u30d7\u306b\u3064\u3044\u3066\u306f\u3001Yaml\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 GitHub Actions\u306b\u3064\u3044\u3066 - GitHub\u30d8\u30eb\u30d7 \u21a9 \u21a9 Actions - GitHub \u21a9","title":"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u4f5c\u6210"},{"location":"mkdocs/lightbox2/","text":"lightbox2\u3092\u4f7f\u7528\u3057\u3066\u3001\u753b\u50cf\u3092\u30ae\u30e3\u30e9\u30ea\u30fc\u8868\u793a\u3059\u308b Lightbox2\u3068\u306f\u3001jQuery\u3067\u5199\u771f\u30ae\u30e3\u30e9\u30ea\u30fc\u7684\u306b\u826f\u3044\u611f\u3058\u306b\u8868\u793a\u3057\u3066\u304f\u308c\u308b\u3084\u3064\u3067\u3059\u3002 \u8a73\u7d30\u306f\u4e0b\u8a18\u53c2\u7167\u3002 Lightbox 2 - Lokesh Dhakar mkdocs\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066lithgbox2\u3092\u8ffd\u52a0\u3059\u308b submodule\u3068\u3057\u3066\u8ffd\u52a0\u3057\u3066\u3001docs\u306e\u4e2d\u304b\u3089\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3068\u3057\u3066\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 mkdir submodules git submodule add -b master https://github.com/lokesh/lightbox2.git submodules/lightbox2 cd submodules/lightbox2 # \u4f7f\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a git checkout v2.11.1 cd ../../ git add submodules/lightbox2 git commit -m \"Add lightbox2 v2.11.1\" cd docs # for command prompt git config core.symlinks true mklink /D lightbox2 ..\\submodules\\lightbox2\\dist # for bash ln -s submodules/lightbox2/dist lightbox2 mkdocs\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306blightbox2\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b Visual Studio Code\u3067\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u3001\u4e0b\u8a18\u306e4\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 code mkdocs.yml mkdocs.yml extra_javascript: - 'lightbox2/js/lightbox-plus-jquery.min.js' extra_css: - 'lightbox2/css/lightbox.min.css' \u4f7f\u7528\u65b9\u6cd5 lightbox2\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306bhtml\u306ea\u30bf\u30b0\u3067\u8a18\u5165\u3057\u307e\u3059\u3002 data-lightbox \u3067\u6307\u5b9a\u3057\u305f\u5024\u304c\u540c\u3058\u5834\u5408\u306f\u540c\u4e00\u306e\u30ae\u30e3\u30e9\u30ea\u30fc\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002 data-title \u3067\u6307\u5b9a\u3057\u305f\u5024\u306f\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002 < a href = \"/images/image_1.jpg\" data-lightbox = \"image\" data-title = \"Caption1\" > < img src = \"/images/thumb_1.jpg\" /> </ a > < a href = \"/images/image_2.jpg\" data-lightbox = \"image\" > < img src = \"/images/thumb_2.jpg\" /> </ a >","title":"Lightbox2"},{"location":"mkdocs/lightbox2/#lightbox2","text":"Lightbox2\u3068\u306f\u3001jQuery\u3067\u5199\u771f\u30ae\u30e3\u30e9\u30ea\u30fc\u7684\u306b\u826f\u3044\u611f\u3058\u306b\u8868\u793a\u3057\u3066\u304f\u308c\u308b\u3084\u3064\u3067\u3059\u3002 \u8a73\u7d30\u306f\u4e0b\u8a18\u53c2\u7167\u3002 Lightbox 2 - Lokesh Dhakar","title":"lightbox2\u3092\u4f7f\u7528\u3057\u3066\u3001\u753b\u50cf\u3092\u30ae\u30e3\u30e9\u30ea\u30fc\u8868\u793a\u3059\u308b"},{"location":"mkdocs/lightbox2/#mkdocslithgbox2","text":"submodule\u3068\u3057\u3066\u8ffd\u52a0\u3057\u3066\u3001docs\u306e\u4e2d\u304b\u3089\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3068\u3057\u3066\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 mkdir submodules git submodule add -b master https://github.com/lokesh/lightbox2.git submodules/lightbox2 cd submodules/lightbox2 # \u4f7f\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a git checkout v2.11.1 cd ../../ git add submodules/lightbox2 git commit -m \"Add lightbox2 v2.11.1\" cd docs # for command prompt git config core.symlinks true mklink /D lightbox2 ..\\submodules\\lightbox2\\dist # for bash ln -s submodules/lightbox2/dist lightbox2","title":"mkdocs\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066lithgbox2\u3092\u8ffd\u52a0\u3059\u308b"},{"location":"mkdocs/lightbox2/#mkdocslightbox2","text":"Visual Studio Code\u3067\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u3001\u4e0b\u8a18\u306e4\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 code mkdocs.yml mkdocs.yml extra_javascript: - 'lightbox2/js/lightbox-plus-jquery.min.js' extra_css: - 'lightbox2/css/lightbox.min.css'","title":"mkdocs\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306blightbox2\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b"},{"location":"mkdocs/lightbox2/#_1","text":"lightbox2\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306bhtml\u306ea\u30bf\u30b0\u3067\u8a18\u5165\u3057\u307e\u3059\u3002 data-lightbox \u3067\u6307\u5b9a\u3057\u305f\u5024\u304c\u540c\u3058\u5834\u5408\u306f\u540c\u4e00\u306e\u30ae\u30e3\u30e9\u30ea\u30fc\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002 data-title \u3067\u6307\u5b9a\u3057\u305f\u5024\u306f\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002 < a href = \"/images/image_1.jpg\" data-lightbox = \"image\" data-title = \"Caption1\" > < img src = \"/images/thumb_1.jpg\" /> </ a > < a href = \"/images/image_2.jpg\" data-lightbox = \"image\" > < img src = \"/images/thumb_2.jpg\" /> </ a >","title":"\u4f7f\u7528\u65b9\u6cd5"},{"location":"mkdocs/logo%E4%BD%9C%E6%88%90/","text":"\u30ed\u30b4\u30de\u30fc\u30af\u3092\u4f5c\u6210 \u4eca\u56de\u306fInkspace\u3092\u4f7f\u3063\u3066\u3001\u4e0b\u8a18\u306e\u69d8\u306a\u30aa\u30ea\u30b8\u30ca\u30eb\u30ed\u30b4\u30de\u30fc\u30af\u306eSVG\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 Getting started - Material for MkDocs \u306b\u3088\u308b\u3068\u3001\u6700\u4f4e\u3067\u3082128x128\u4ee5\u4e0a\u306e\u30b5\u30a4\u30ba\u3067\u3042\u308b\u65b9\u304c\u826f\u3044\u3088\u3046\u3067\u3059\u3002 Your logo should have rectangular shape with a minimum resolution of 128x128, leave some room towards the edges and be composed of high contrast areas on a transparent ground, as it will be placed on the colored header bar and drawer. favicon.ico\u3092\u4f5c\u6210 \u307e\u305a\u3001favicon\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001Inkspace\u3067PNG\u30d5\u30a1\u30a4\u30eb\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u3053\u306e\u6642\u306bPNG\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4eca\u56de\u306f\u300116x16\u300124x24\u300132x32\u300148x48\u300164x64\u300196x96\u3001128x128\u3001144x144\u3001152x152\u306e\u5408\u8a089\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 \u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30de\u30eb\u30c1\u30b5\u30a4\u30bafavicon\u306b\u5909\u63db\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u5909\u63db\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002 mkdocs.yml\u306e\u8a2d\u5b9a \u4f5c\u6210\u3057\u305fSVG\u30d5\u30a1\u30a4\u30eb\u3068favicon.ico\u30d5\u30a1\u30a4\u30eb\u3092mkdocs\u306edocs\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u306b\u914d\u7f6e\u3057\u307e\u3059\u3002 \u305d\u306e\u5f8c\u3001 mkdocs.yml \u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3001\u4e0b\u8a18\u306e\u69d8\u306b\u914d\u7f6e\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u76f8\u5bfe\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 theme: logo: 'imgs/logo.svg' favicon: 'favicon.ico' \u5f8c\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u5de6\u4e0a\u306e\u30ed\u30b4\u3068favicon\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3001\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u5b8c\u4e86\u3067\u3059\u3002","title":"Logo\u4f5c\u6210"},{"location":"mkdocs/logo%E4%BD%9C%E6%88%90/#_1","text":"\u4eca\u56de\u306fInkspace\u3092\u4f7f\u3063\u3066\u3001\u4e0b\u8a18\u306e\u69d8\u306a\u30aa\u30ea\u30b8\u30ca\u30eb\u30ed\u30b4\u30de\u30fc\u30af\u306eSVG\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 Getting started - Material for MkDocs \u306b\u3088\u308b\u3068\u3001\u6700\u4f4e\u3067\u3082128x128\u4ee5\u4e0a\u306e\u30b5\u30a4\u30ba\u3067\u3042\u308b\u65b9\u304c\u826f\u3044\u3088\u3046\u3067\u3059\u3002 Your logo should have rectangular shape with a minimum resolution of 128x128, leave some room towards the edges and be composed of high contrast areas on a transparent ground, as it will be placed on the colored header bar and drawer.","title":"\u30ed\u30b4\u30de\u30fc\u30af\u3092\u4f5c\u6210"},{"location":"mkdocs/logo%E4%BD%9C%E6%88%90/#faviconico","text":"\u307e\u305a\u3001favicon\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001Inkspace\u3067PNG\u30d5\u30a1\u30a4\u30eb\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u3053\u306e\u6642\u306bPNG\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4eca\u56de\u306f\u300116x16\u300124x24\u300132x32\u300148x48\u300164x64\u300196x96\u3001128x128\u3001144x144\u3001152x152\u306e\u5408\u8a089\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 \u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30de\u30eb\u30c1\u30b5\u30a4\u30bafavicon\u306b\u5909\u63db\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u5909\u63db\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002","title":"favicon.ico\u3092\u4f5c\u6210"},{"location":"mkdocs/logo%E4%BD%9C%E6%88%90/#mkdocsyml","text":"\u4f5c\u6210\u3057\u305fSVG\u30d5\u30a1\u30a4\u30eb\u3068favicon.ico\u30d5\u30a1\u30a4\u30eb\u3092mkdocs\u306edocs\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u306b\u914d\u7f6e\u3057\u307e\u3059\u3002 \u305d\u306e\u5f8c\u3001 mkdocs.yml \u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3001\u4e0b\u8a18\u306e\u69d8\u306b\u914d\u7f6e\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u76f8\u5bfe\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 theme: logo: 'imgs/logo.svg' favicon: 'favicon.ico' \u5f8c\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u5de6\u4e0a\u306e\u30ed\u30b4\u3068favicon\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3001\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u5b8c\u4e86\u3067\u3059\u3002","title":"mkdocs.yml\u306e\u8a2d\u5b9a"},{"location":"mkdocs/test/","text":"\u30ea\u30f3\u30af\u5207\u308c\u306e\u30c6\u30b9\u30c8 Markdown\u3067Web\u30b5\u30a4\u30c8\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u3001\u8a18\u4e8b\u3092\u30ab\u30c6\u30b4\u30ea\u5225\u306b\u5206\u985e\u3057\u305f\u308a\u3001\u30ab\u30c6\u30b4\u30ea\u3092\u7d71\u5408\u3057\u305f\u308a\u3057\u305f\u304f\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u3046\u306a\u308b\u3068\u73fe\u72b6\u3001\u30ab\u30c6\u30b4\u30ea\u5206\u985e\u306f\u30d5\u30a9\u30eb\u30c0\u3067\u884c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u8a18\u4e8b\u306eURL\u304c\u5909\u308f\u3063\u3066\u3057\u307e\u3044\u3001\u30ea\u30f3\u30af\u5207\u308c\u3092\u8d77\u3053\u3059\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002 \u304d\u3061\u3093\u3068\u30c6\u30b9\u30c8\u3057\u305f\u3044\u5834\u5408\u306f\u3001W3C\u306eValidator\u3092\u5229\u7528\u3059\u308b\u306e\u304c\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002 The W3C Markup Validation Service \u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u30ed\u30fc\u30ab\u30eb\u3067\u7c21\u5358\u306b\u30c1\u30a7\u30c3\u30af\u3057\u305f\u304b\u3063\u305f\u305f\u3081\u3001\u30ea\u30f3\u30af\u5207\u308c\u6709\u7121\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u30c6\u30b9\u30c8\u30c4\u30fc\u30eb\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 mkdocs\u306fPython\u88fd\u306e\u30c4\u30fc\u30eb\u306a\u306e\u3067\u3001\u3059\u3067\u306bPython\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u306a\u306e\u3067\u3001\u4eca\u56de\u306fPython\u88fd\u306e\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bpytest\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u307e\u305a\u306fpytest\u3092pip\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 pip install pytest \u7d9a\u3044\u3066\u3001\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3001HTML\u30d1\u30fc\u30b9\u7528\u306bbeautifulsoap4, requests, lxml\u3092\u3001 \u307e\u305f\u3001\u30c6\u30b9\u30c8\u5bfe\u8c61\u306e\u30da\u30fc\u30b8\u306f\u8907\u6570\u3042\u308b\u305f\u3081\u3001\u4e26\u5217\u5316\u3057\u3066\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u306baiohttp\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 pip install bs4 requests lxml aiohttp[speedups] \u7d9a\u3044\u3066\u3001pytest\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 pytest.ini \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u30d5\u30a9\u30eb\u30c0( mkdocs.yml \u3068\u540c\u3058\u968e\u5c64\u306e\u30d5\u30a9\u30eb\u30c0)\u306b\u4f5c\u6210\u3057\u3066\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002 [pytest] testpaths = ./tests python_files = test_*.py python_classes = Test python_functions = test_ \u3053\u308c\u3067\u3001pytest\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001 ${\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u30d5\u30a9\u30eb\u30c0}/tests/test_*.py \u306b\u30de\u30c3\u30c1\u3059\u308bPython\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u306e test_\uff5e \u304b\u3089\u59cb\u307e\u308b\u95a2\u6570\u304c\u3001\u30c6\u30b9\u30c8\u5bfe\u8c61\u3068\u3057\u3066\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 Visual Studio Code\u306e\u30c6\u30b9\u30c8\u30bf\u30b9\u30af\u8a2d\u5b9a Visual Studio Code(VSCode)\u3067\u30c6\u30b9\u30c8\u30bf\u30b9\u30af\u3068\u3057\u3066\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002 \u307e\u305a\u3001VSCode\u304b\u3089pytest\u3092\u547c\u3073\u51fa\u3059\u969b\u306e\u8a2d\u5b9a\u3092 .vscode/settings.json \u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 { \"python.testing.pytestArgs\": [], \"python.testing.unittestEnabled\": false, \"python.testing.nosetestsEnabled\": false, \"python.testing.pytestEnabled\": true } \u7d9a\u3044\u3066\u3001 .vscode/settings.json \u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002 { \"tasks\": [ { \"label\": \"mkdocs-test\", \"type\": \"shell\", \"command\": \"py.test\", \"group\": { \"kind\": \"test\", \"isDefault\": true } } ] } \u4ee5\u4e0a\u3067\u3001VSCode\u3067\u5bfe\u8c61\u306e\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092\u958b\u3044\u305f\u72b6\u614b\u3067\u3001 Ctrl+Shift+P \u304b\u3089\u300c\u30c6\u30b9\u30c8 \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u300d\u3092\u547c\u3073\u51fa\u3059\u3068pytest\u304c\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u4f5c\u6210 \u3053\u3053\u307e\u3067\u3067\u3001\u30c6\u30b9\u30c8\u74b0\u5883\u306f\u6574\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u3053\u3053\u304b\u3089\u306f\u30c6\u30b9\u30c8\u306e\u5185\u5bb9\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001\u30ea\u30f3\u30af\u5207\u308c\u306e\u30c6\u30b9\u30c8\u306e\u305f\u3081\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 \u6ce8\u610f\u3057\u305f\u30dd\u30a4\u30f3\u30c8: \u30c6\u30b9\u30c8\u30a8\u30e9\u30fc\u3092\u51fa\u529b\u3059\u308b assert \u6587\u306fasync\u95a2\u6570\u5185\u3067\u51fa\u529b\u3057\u3066\u3082 pytest\u304c\u30ad\u30e3\u30c3\u30c1\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u306e\u5834\u5408\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3067\u623b\u3059\u3002 aiohttp\u3067\u30ed\u30fc\u30ab\u30eb\u306emkdocs serve\u306b\u4e26\u5217\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u3001\u3044\u304f\u3089\u30ed\u30fc\u30ab\u30eb\u3068\u306f\u8a00\u3048\u4e26\u5217\u6570\u3092\u5236\u9650\u3057\u306a\u3044\u3068\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u304c\u4e0d\u8db3\u3059\u308b\u305f\u3081\u3001\u30bb\u30de\u30d5\u30a9\u3092\u5229\u7528\u3057\u3066\u4e26\u5217\u6570\u3092\u5236\u9650\u3059\u308b\u3002 \u5b9f\u884c\u7d50\u679c \u30b9\u30af\u30ea\u30d7\u30c8\u4f5c\u6210\u5f8c\u300127\u30da\u30fc\u30b8 \u7d0410,000\u306e\u30ea\u30f3\u30af\u3092\u5bfe\u8c61\u3068\u3057\u3066\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u305f\u3002 \u30ea\u30f3\u30af\u5207\u308c\u3092\u8d77\u3053\u3057\u305f\u5834\u5408\u306b\u306f\u3001\u30c6\u30b9\u30c8\u7d50\u679c\u3067\u30a8\u30e9\u30fc\u3068\u5bfe\u8c61\u306e\u30ea\u30f3\u30af\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u51e6\u7406\u6642\u9593\u306f\u4e0b\u8a18\u8868\u306e\u901a\u308a\u3067\u3059\u3002\u300c\u30b3\u30a2\u6570\u00d7\u5468\u6ce2\u6570\u306b\u5f71\u97ff\u3057\u3066\u30ea\u30cb\u30a2\u306b\u300d\u3068\u306f\u884c\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u6982\u306d\u4e26\u5217\u5316\u306e\u6069\u6075\u304c\u5f97\u3089\u308c\u3066\u3044\u305d\u3046\u3067\u3059\u3002 \u74b0\u5883 CPU \u30e1\u30e2\u30ea \u51e6\u7406\u6642\u9593 Surface GO Pentium 4415Y@1.60GHz 2Core 8GB 23.6\u79d2 \u30c7\u30b9\u30af\u30c8\u30c3\u30d7PC Ryzen 3600X@3.8GHz 6Core 32GB 7.3\u79d2 \u56f3. VSCode\u3067\u306e\u30c6\u30b9\u30c8\u6210\u529f\u6642\u3068\u30c6\u30b9\u30c8\u30a8\u30e9\u30fc\u6642","title":"\u30ea\u30f3\u30af\u5207\u308c\u306e\u30c6\u30b9\u30c8"},{"location":"mkdocs/test/#_1","text":"Markdown\u3067Web\u30b5\u30a4\u30c8\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u3001\u8a18\u4e8b\u3092\u30ab\u30c6\u30b4\u30ea\u5225\u306b\u5206\u985e\u3057\u305f\u308a\u3001\u30ab\u30c6\u30b4\u30ea\u3092\u7d71\u5408\u3057\u305f\u308a\u3057\u305f\u304f\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u3046\u306a\u308b\u3068\u73fe\u72b6\u3001\u30ab\u30c6\u30b4\u30ea\u5206\u985e\u306f\u30d5\u30a9\u30eb\u30c0\u3067\u884c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u8a18\u4e8b\u306eURL\u304c\u5909\u308f\u3063\u3066\u3057\u307e\u3044\u3001\u30ea\u30f3\u30af\u5207\u308c\u3092\u8d77\u3053\u3059\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002 \u304d\u3061\u3093\u3068\u30c6\u30b9\u30c8\u3057\u305f\u3044\u5834\u5408\u306f\u3001W3C\u306eValidator\u3092\u5229\u7528\u3059\u308b\u306e\u304c\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002 The W3C Markup Validation Service \u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u30ed\u30fc\u30ab\u30eb\u3067\u7c21\u5358\u306b\u30c1\u30a7\u30c3\u30af\u3057\u305f\u304b\u3063\u305f\u305f\u3081\u3001\u30ea\u30f3\u30af\u5207\u308c\u6709\u7121\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002","title":"\u30ea\u30f3\u30af\u5207\u308c\u306e\u30c6\u30b9\u30c8"},{"location":"mkdocs/test/#_2","text":"mkdocs\u306fPython\u88fd\u306e\u30c4\u30fc\u30eb\u306a\u306e\u3067\u3001\u3059\u3067\u306bPython\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u306a\u306e\u3067\u3001\u4eca\u56de\u306fPython\u88fd\u306e\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bpytest\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u307e\u305a\u306fpytest\u3092pip\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 pip install pytest \u7d9a\u3044\u3066\u3001\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3001HTML\u30d1\u30fc\u30b9\u7528\u306bbeautifulsoap4, requests, lxml\u3092\u3001 \u307e\u305f\u3001\u30c6\u30b9\u30c8\u5bfe\u8c61\u306e\u30da\u30fc\u30b8\u306f\u8907\u6570\u3042\u308b\u305f\u3081\u3001\u4e26\u5217\u5316\u3057\u3066\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u306baiohttp\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 pip install bs4 requests lxml aiohttp[speedups] \u7d9a\u3044\u3066\u3001pytest\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 pytest.ini \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u30d5\u30a9\u30eb\u30c0( mkdocs.yml \u3068\u540c\u3058\u968e\u5c64\u306e\u30d5\u30a9\u30eb\u30c0)\u306b\u4f5c\u6210\u3057\u3066\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002 [pytest] testpaths = ./tests python_files = test_*.py python_classes = Test python_functions = test_ \u3053\u308c\u3067\u3001pytest\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001 ${\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u30d5\u30a9\u30eb\u30c0}/tests/test_*.py \u306b\u30de\u30c3\u30c1\u3059\u308bPython\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u306e test_\uff5e \u304b\u3089\u59cb\u307e\u308b\u95a2\u6570\u304c\u3001\u30c6\u30b9\u30c8\u5bfe\u8c61\u3068\u3057\u3066\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002","title":"\u30c6\u30b9\u30c8\u30c4\u30fc\u30eb\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7"},{"location":"mkdocs/test/#visual-studio-code","text":"Visual Studio Code(VSCode)\u3067\u30c6\u30b9\u30c8\u30bf\u30b9\u30af\u3068\u3057\u3066\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002 \u307e\u305a\u3001VSCode\u304b\u3089pytest\u3092\u547c\u3073\u51fa\u3059\u969b\u306e\u8a2d\u5b9a\u3092 .vscode/settings.json \u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 { \"python.testing.pytestArgs\": [], \"python.testing.unittestEnabled\": false, \"python.testing.nosetestsEnabled\": false, \"python.testing.pytestEnabled\": true } \u7d9a\u3044\u3066\u3001 .vscode/settings.json \u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002 { \"tasks\": [ { \"label\": \"mkdocs-test\", \"type\": \"shell\", \"command\": \"py.test\", \"group\": { \"kind\": \"test\", \"isDefault\": true } } ] } \u4ee5\u4e0a\u3067\u3001VSCode\u3067\u5bfe\u8c61\u306e\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092\u958b\u3044\u305f\u72b6\u614b\u3067\u3001 Ctrl+Shift+P \u304b\u3089\u300c\u30c6\u30b9\u30c8 \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u300d\u3092\u547c\u3073\u51fa\u3059\u3068pytest\u304c\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002","title":"Visual Studio Code\u306e\u30c6\u30b9\u30c8\u30bf\u30b9\u30af\u8a2d\u5b9a"},{"location":"mkdocs/test/#_3","text":"\u3053\u3053\u307e\u3067\u3067\u3001\u30c6\u30b9\u30c8\u74b0\u5883\u306f\u6574\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u3053\u3053\u304b\u3089\u306f\u30c6\u30b9\u30c8\u306e\u5185\u5bb9\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001\u30ea\u30f3\u30af\u5207\u308c\u306e\u30c6\u30b9\u30c8\u306e\u305f\u3081\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 \u6ce8\u610f\u3057\u305f\u30dd\u30a4\u30f3\u30c8: \u30c6\u30b9\u30c8\u30a8\u30e9\u30fc\u3092\u51fa\u529b\u3059\u308b assert \u6587\u306fasync\u95a2\u6570\u5185\u3067\u51fa\u529b\u3057\u3066\u3082 pytest\u304c\u30ad\u30e3\u30c3\u30c1\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u306e\u5834\u5408\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3067\u623b\u3059\u3002 aiohttp\u3067\u30ed\u30fc\u30ab\u30eb\u306emkdocs serve\u306b\u4e26\u5217\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u3001\u3044\u304f\u3089\u30ed\u30fc\u30ab\u30eb\u3068\u306f\u8a00\u3048\u4e26\u5217\u6570\u3092\u5236\u9650\u3057\u306a\u3044\u3068\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u304c\u4e0d\u8db3\u3059\u308b\u305f\u3081\u3001\u30bb\u30de\u30d5\u30a9\u3092\u5229\u7528\u3057\u3066\u4e26\u5217\u6570\u3092\u5236\u9650\u3059\u308b\u3002","title":"\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u4f5c\u6210"},{"location":"mkdocs/test/#_4","text":"\u30b9\u30af\u30ea\u30d7\u30c8\u4f5c\u6210\u5f8c\u300127\u30da\u30fc\u30b8 \u7d0410,000\u306e\u30ea\u30f3\u30af\u3092\u5bfe\u8c61\u3068\u3057\u3066\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u305f\u3002 \u30ea\u30f3\u30af\u5207\u308c\u3092\u8d77\u3053\u3057\u305f\u5834\u5408\u306b\u306f\u3001\u30c6\u30b9\u30c8\u7d50\u679c\u3067\u30a8\u30e9\u30fc\u3068\u5bfe\u8c61\u306e\u30ea\u30f3\u30af\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u51e6\u7406\u6642\u9593\u306f\u4e0b\u8a18\u8868\u306e\u901a\u308a\u3067\u3059\u3002\u300c\u30b3\u30a2\u6570\u00d7\u5468\u6ce2\u6570\u306b\u5f71\u97ff\u3057\u3066\u30ea\u30cb\u30a2\u306b\u300d\u3068\u306f\u884c\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u6982\u306d\u4e26\u5217\u5316\u306e\u6069\u6075\u304c\u5f97\u3089\u308c\u3066\u3044\u305d\u3046\u3067\u3059\u3002 \u74b0\u5883 CPU \u30e1\u30e2\u30ea \u51e6\u7406\u6642\u9593 Surface GO Pentium 4415Y@1.60GHz 2Core 8GB 23.6\u79d2 \u30c7\u30b9\u30af\u30c8\u30c3\u30d7PC Ryzen 3600X@3.8GHz 6Core 32GB 7.3\u79d2 \u56f3. VSCode\u3067\u306e\u30c6\u30b9\u30c8\u6210\u529f\u6642\u3068\u30c6\u30b9\u30c8\u30a8\u30e9\u30fc\u6642","title":"\u5b9f\u884c\u7d50\u679c"},{"location":"%E3%83%97%E3%83%A9%E3%82%A4%E3%83%90%E3%82%B7%E3%83%BC%E3%83%BB%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC/","text":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc \u672c\u30b5\u30a4\u30c8\u3067\u306f\u3001\u30b5\u30a4\u30c8\u306e\u5206\u6790\u3068\u6539\u5584\u306e\u305f\u3081\u306bGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u969b\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u306e\u305f\u3081\u306bGoogle \u304c\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u306b cookie \u3092\u8a2d\u5b9a\u3057\u305f\u308a\u3001\u65e2\u5b58\u306ecookie\u3092\u8aad\u307f\u53d6\u3063\u305f\u308a\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u672c\u30b5\u30a4\u30c8\u3092\u3054\u5229\u7528\u4e2d\u306e\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u306f\u3001Google\u306b\u7279\u5b9a\u306e\u975e\u500b\u4eba\u60c5\u5831\uff08\u305f\u3068\u3048\u3070\u3001\u30a2\u30af\u30bb\u30b9\u3057\u305f\u30da\u30fc\u30b8\u306e\u30a6\u30a7\u30d6 \u30a2\u30c9\u30ec\u30b9\u3084 IP \u30a2\u30c9\u30ec\u30b9\u306a\u3069\uff09\u3092\u81ea\u52d5\u7684\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u5f53\u30b5\u30a4\u30c8\u306f\u305d\u308c\u3089\u306e\u60c5\u5831\u3092\u3001\u30b5\u30a4\u30c8\u5229\u7528\u72b6\u6cc1\u306e\u628a\u63e1\u3084\u30b5\u30a4\u30c8\u5229\u7528\u4f53\u9a13\u306e\u6539\u5584\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u50be\u5411\u3092\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u3057\u3066\u7d39\u4ecb\u3059\u308b\u3068\u3044\u3063\u305f\u7528\u9014\u3067\u5229\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u672c\u30b5\u30a4\u30c8\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u672c\u30b5\u30a4\u30c8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u4e0a\u8a18\u65b9\u6cd5\u304a\u3088\u3073\u76ee\u7684\u306b\u304a\u3044\u3066Google\u3068\u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u304c\u884c\u3046\u3053\u3046\u3057\u305f\u30c7\u30fc\u30bf\u51e6\u7406\u306b\u5bfe\u3057\u3066\u3001\u8a31\u53ef\u3092\u4e0e\u3048\u305f\u3082\u306e\u3068\u307f\u306a\u3057\u307e\u3059\u3002 Google\u793e\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u60c5\u5831\u306e\u53ce\u96c6\u65b9\u6cd5\u304a\u3088\u3073\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001 Google Analytics\u30b5\u30fc\u30d3\u30b9\u5229\u7528\u898f\u7d04 \u304a\u3088\u3073 Google\u793e\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc \u306b\u3088\u3063\u3066\u5b9a\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002 cookie\u306b\u3064\u3044\u3066 cookie\u3068\u306f\u3001\u30b5\u30a4\u30c8\uff08\u3082\u3057\u304f\u306fGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u306e\u3088\u3046\u306a\u7b2c\u4e09\u8005\u30b5\u30fc\u30d3\u30b9\uff09\u304c\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u304c\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30d6\u30e9\u30a6\u30b6\u306b\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u3001\u3042\u3068\u3067\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u7b26\u53f7\u3067\u3059\u3002\u305f\u3060\u3057\u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u306f\u3001\u5f53\u30b5\u30a4\u30c8\u3067\u8a2d\u5b9a\u3059\u308bcookie\u304b\u3089\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u500b\u4eba\u60c5\u5831\uff08\u6c0f\u540d\u3001\u751f\u5e74\u6708\u65e5\u3001\u96fb\u8a71\u756a\u53f7\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u7b49\uff09\u3092\u628a\u63e1\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u306e\u3067\u3054\u5b89\u5fc3\u304f\u3060\u3055\u3044\u3002 \u306a\u304a\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u306b\u3088\u308acookie\u306e\u53d7\u3051\u53d6\u308a\u3092\u62d2\u5426\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u306ecookie\u3092\u53d7\u3051\u53d6\u308a\u62d2\u5426\u3055\u308c\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u30ea\u30f3\u30af\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8\u30a2\u30c9\u30aa\u30f3 https://tools.google.com/dlpage/gaoptout","title":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc"},{"location":"%E3%83%97%E3%83%A9%E3%82%A4%E3%83%90%E3%82%B7%E3%83%BC%E3%83%BB%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC/#_1","text":"\u672c\u30b5\u30a4\u30c8\u3067\u306f\u3001\u30b5\u30a4\u30c8\u306e\u5206\u6790\u3068\u6539\u5584\u306e\u305f\u3081\u306bGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u969b\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u306e\u305f\u3081\u306bGoogle \u304c\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u306b cookie \u3092\u8a2d\u5b9a\u3057\u305f\u308a\u3001\u65e2\u5b58\u306ecookie\u3092\u8aad\u307f\u53d6\u3063\u305f\u308a\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u672c\u30b5\u30a4\u30c8\u3092\u3054\u5229\u7528\u4e2d\u306e\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u306f\u3001Google\u306b\u7279\u5b9a\u306e\u975e\u500b\u4eba\u60c5\u5831\uff08\u305f\u3068\u3048\u3070\u3001\u30a2\u30af\u30bb\u30b9\u3057\u305f\u30da\u30fc\u30b8\u306e\u30a6\u30a7\u30d6 \u30a2\u30c9\u30ec\u30b9\u3084 IP \u30a2\u30c9\u30ec\u30b9\u306a\u3069\uff09\u3092\u81ea\u52d5\u7684\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u5f53\u30b5\u30a4\u30c8\u306f\u305d\u308c\u3089\u306e\u60c5\u5831\u3092\u3001\u30b5\u30a4\u30c8\u5229\u7528\u72b6\u6cc1\u306e\u628a\u63e1\u3084\u30b5\u30a4\u30c8\u5229\u7528\u4f53\u9a13\u306e\u6539\u5584\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u50be\u5411\u3092\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u3057\u3066\u7d39\u4ecb\u3059\u308b\u3068\u3044\u3063\u305f\u7528\u9014\u3067\u5229\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u672c\u30b5\u30a4\u30c8\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u672c\u30b5\u30a4\u30c8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u4e0a\u8a18\u65b9\u6cd5\u304a\u3088\u3073\u76ee\u7684\u306b\u304a\u3044\u3066Google\u3068\u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u304c\u884c\u3046\u3053\u3046\u3057\u305f\u30c7\u30fc\u30bf\u51e6\u7406\u306b\u5bfe\u3057\u3066\u3001\u8a31\u53ef\u3092\u4e0e\u3048\u305f\u3082\u306e\u3068\u307f\u306a\u3057\u307e\u3059\u3002 Google\u793e\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u60c5\u5831\u306e\u53ce\u96c6\u65b9\u6cd5\u304a\u3088\u3073\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001 Google Analytics\u30b5\u30fc\u30d3\u30b9\u5229\u7528\u898f\u7d04 \u304a\u3088\u3073 Google\u793e\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc \u306b\u3088\u3063\u3066\u5b9a\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002","title":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc"},{"location":"%E3%83%97%E3%83%A9%E3%82%A4%E3%83%90%E3%82%B7%E3%83%BC%E3%83%BB%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC/#cookie","text":"cookie\u3068\u306f\u3001\u30b5\u30a4\u30c8\uff08\u3082\u3057\u304f\u306fGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u306e\u3088\u3046\u306a\u7b2c\u4e09\u8005\u30b5\u30fc\u30d3\u30b9\uff09\u304c\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u304c\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30d6\u30e9\u30a6\u30b6\u306b\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u3001\u3042\u3068\u3067\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u7b26\u53f7\u3067\u3059\u3002\u305f\u3060\u3057\u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u306f\u3001\u5f53\u30b5\u30a4\u30c8\u3067\u8a2d\u5b9a\u3059\u308bcookie\u304b\u3089\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u500b\u4eba\u60c5\u5831\uff08\u6c0f\u540d\u3001\u751f\u5e74\u6708\u65e5\u3001\u96fb\u8a71\u756a\u53f7\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u7b49\uff09\u3092\u628a\u63e1\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u306e\u3067\u3054\u5b89\u5fc3\u304f\u3060\u3055\u3044\u3002 \u306a\u304a\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u306b\u3088\u308acookie\u306e\u53d7\u3051\u53d6\u308a\u3092\u62d2\u5426\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u306ecookie\u3092\u53d7\u3051\u53d6\u308a\u62d2\u5426\u3055\u308c\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u30ea\u30f3\u30af\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8\u30a2\u30c9\u30aa\u30f3 https://tools.google.com/dlpage/gaoptout","title":"cookie\u306b\u3064\u3044\u3066"}]}
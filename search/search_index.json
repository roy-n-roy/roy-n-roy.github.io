{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"HomeServer Windows\u3067\u306e\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306a\u3069\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066 Raspberry Pi Raspberry Pi\u306e\u8a2d\u5b9a\u3084\u3042\u308c\u3053\u308c RouterOS Linux\u30d9\u30fc\u30b9\u306e\u30eb\u30fc\u30bf\u30fc\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3001RouterOS\u306b\u3064\u3044\u3066 Docker docker-compose\u30d5\u30a1\u30a4\u30eb\u306e\u5bc4\u305b\u96c6\u3081 MkDocs \u3053\u306e\u30b5\u30a4\u30c8\u4f5c\u6210\u306b\u4f7f\u7528\u3057\u305fMkDocs\u3092\u4f7f\u7528\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u306e\u4f5c\u6210\u65b9\u6cd5","title":"Home"},{"location":"#homeserver","text":"Windows\u3067\u306e\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306a\u3069\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066","title":"HomeServer"},{"location":"#raspberry-pi","text":"Raspberry Pi\u306e\u8a2d\u5b9a\u3084\u3042\u308c\u3053\u308c","title":"Raspberry Pi"},{"location":"#routeros","text":"Linux\u30d9\u30fc\u30b9\u306e\u30eb\u30fc\u30bf\u30fc\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3001RouterOS\u306b\u3064\u3044\u3066","title":"RouterOS"},{"location":"#docker","text":"docker-compose\u30d5\u30a1\u30a4\u30eb\u306e\u5bc4\u305b\u96c6\u3081","title":"Docker"},{"location":"#mkdocs","text":"\u3053\u306e\u30b5\u30a4\u30c8\u4f5c\u6210\u306b\u4f7f\u7528\u3057\u305fMkDocs\u3092\u4f7f\u7528\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u306e\u4f5c\u6210\u65b9\u6cd5","title":"MkDocs"},{"location":"vpn/","text":"VPN\u30b5\u30fc\u30d0\u306e\u4ee3\u66ff\u8a2d\u5b9a \u30d7\u30e9\u30a4\u30de\u30eaVPN\u30b5\u30fc\u30d0\u304c\u843d\u3061\u305f\u6642\u306bRaspberry Pi\u306a\u3069\u3067\u81ea\u52d5\u3067PPPoE\u63a5\u7d9a\u3057\u3001\u4ee3\u66ffVPN\u30b5\u30fc\u30d0\u304c\u7acb\u3061\u4e0a\u304c\u308b\u3088\u3046\u306b\u8a2d\u5b9a PPPoE\u63a5\u7d9a+VPN\u30b5\u30fc\u30d0\u8d77\u52d5&\u505c\u6b62\u30b9\u30af\u30ea\u30d7\u30c8 check_vpn.sh Systemd\u81ea\u52d5\u8d77\u52d5 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb check_vpn.service","title":"VPN\u30b5\u30fc\u30d0\u306e\u4ee3\u66ff\u8a2d\u5b9a"},{"location":"vpn/#vpn","text":"\u30d7\u30e9\u30a4\u30de\u30eaVPN\u30b5\u30fc\u30d0\u304c\u843d\u3061\u305f\u6642\u306bRaspberry Pi\u306a\u3069\u3067\u81ea\u52d5\u3067PPPoE\u63a5\u7d9a\u3057\u3001\u4ee3\u66ffVPN\u30b5\u30fc\u30d0\u304c\u7acb\u3061\u4e0a\u304c\u308b\u3088\u3046\u306b\u8a2d\u5b9a PPPoE\u63a5\u7d9a+VPN\u30b5\u30fc\u30d0\u8d77\u52d5&\u505c\u6b62\u30b9\u30af\u30ea\u30d7\u30c8 check_vpn.sh Systemd\u81ea\u52d5\u8d77\u52d5 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb check_vpn.service","title":"VPN\u30b5\u30fc\u30d0\u306e\u4ee3\u66ff\u8a2d\u5b9a"},{"location":"Docker/","text":"Docker docker-compose\u30d5\u30a1\u30a4\u30eb\u3092\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\u4fdd\u7ba1\u3059\u308b\u3002","title":"Docker"},{"location":"Docker/#docker","text":"docker-compose\u30d5\u30a1\u30a4\u30eb\u3092\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\u4fdd\u7ba1\u3059\u308b\u3002","title":"Docker"},{"location":"Docker/fluentd+kibana/","text":"Fluentd+Elasticsearch+Kibana Fluentd\u3067\u30ed\u30b0\u53ce\u96c6(Fluentd+syslog)\u3057\u3001Elasticsearch\u306b\u30c7\u30fc\u30bf\u84c4\u7a4d\u3001Kibana\u3067\u53ef\u8996\u5316\u3059\u308b\u3002 \u30ed\u30b0\u53ce\u96c6+\u53ef\u8996\u5316 docker-compose.yml fluent.conf Dockerfile","title":"Fluentd+Elasticsearch+Kibana"},{"location":"Docker/fluentd+kibana/#fluentdelasticsearchkibana","text":"Fluentd\u3067\u30ed\u30b0\u53ce\u96c6(Fluentd+syslog)\u3057\u3001Elasticsearch\u306b\u30c7\u30fc\u30bf\u84c4\u7a4d\u3001Kibana\u3067\u53ef\u8996\u5316\u3059\u308b\u3002 \u30ed\u30b0\u53ce\u96c6+\u53ef\u8996\u5316 docker-compose.yml fluent.conf Dockerfile","title":"Fluentd+Elasticsearch+Kibana"},{"location":"Docker/wordpress/","text":"Wordpress Wordpress Web\u30b5\u30a4\u30c8\u3092\u4f5c\u6210\u3057\u3001https-portal\u3067Let's Encrypt\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u81ea\u52d5\u53d6\u5f97/\u516c\u958b\u3059\u308b\u3002\u5916\u90e8\u304b\u3089\u306e80,443/TCP\u63a5\u7d9a\u3092\u89e3\u653e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u307e\u305f\u3001ddclient\u3067\u3001Dynamic DNS\u306e\u30ec\u30b3\u30fc\u30c9\u66f4\u65b0\u3092\u884c\u3046\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8 wp_backup.sh \u306f\u3001Wordpress\u3067\u4f7f\u7528\u3057\u3066\u3044\u308b /var/run/html \u3068MySQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u3002 Weblog\u30b5\u30a4\u30c8\u4f5c\u6210&\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 docker-compose.yml wp_backup.sh","title":"Wordpress"},{"location":"Docker/wordpress/#wordpress","text":"Wordpress Web\u30b5\u30a4\u30c8\u3092\u4f5c\u6210\u3057\u3001https-portal\u3067Let's Encrypt\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u81ea\u52d5\u53d6\u5f97/\u516c\u958b\u3059\u308b\u3002\u5916\u90e8\u304b\u3089\u306e80,443/TCP\u63a5\u7d9a\u3092\u89e3\u653e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u307e\u305f\u3001ddclient\u3067\u3001Dynamic DNS\u306e\u30ec\u30b3\u30fc\u30c9\u66f4\u65b0\u3092\u884c\u3046\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8 wp_backup.sh \u306f\u3001Wordpress\u3067\u4f7f\u7528\u3057\u3066\u3044\u308b /var/run/html \u3068MySQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u3002 Weblog\u30b5\u30a4\u30c8\u4f5c\u6210&\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 docker-compose.yml wp_backup.sh","title":"Wordpress"},{"location":"HomeServer/","text":"\u304a\u5bb6\u30b5\u30fc\u30d0 \u304a\u5bb6\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS Windows\u3067\u5229\u7528\u3067\u304d\u308b\u30c7\u30a3\u30b9\u30af\u5197\u9577\u5316\u6a5f\u80fd\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u300d\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u300cReFS\u300d\u306b\u3064\u3044\u3066","title":"\u304a\u5bb6\u30b5\u30fc\u30d0"},{"location":"HomeServer/#_1","text":"\u304a\u5bb6\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066","title":"\u304a\u5bb6\u30b5\u30fc\u30d0"},{"location":"HomeServer/#refs","text":"Windows\u3067\u5229\u7528\u3067\u304d\u308b\u30c7\u30a3\u30b9\u30af\u5197\u9577\u5316\u6a5f\u80fd\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u300d\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u300cReFS\u300d\u306b\u3064\u3044\u3066","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/","text":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u307e\u305a\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306b\u3064\u3044\u3066\u306f\u3001\u79c1\u306e\u8a18\u4e8b\u3088\u308a\u3082\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u8aad\u3080\u65b9\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 - \u85a9\u6469\u85e9\u4e2d\u4ed9\u9053\u8568\u5bbf\u5225\u90b8 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068\u306fWindows8, 10/Windows Server 2012\u4ee5\u964d\u3067\u5229\u7528\u3067\u304d\u308b\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5197\u9577\u5316\u6a5f\u80fd\u3067\u3059\u3002 \u8907\u6570\u306eHDD\u3084SSD\u3092\u675f\u306d\u3066\u3001\u5197\u9577\u6027\u306e\u3042\u308b\u30c7\u30a3\u30b9\u30af\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f3c\u305f\u3088\u3046\u306a\u6a5f\u80fd\u3068\u3057\u3066\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e0b\u8a18\u306e\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u30b5\u30a4\u30ba\u306e\u7570\u306a\u308b\u30c7\u30a3\u30b9\u30af\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3082\u5229\u7528\u3067\u304d\u308b \u5b9f\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u4ee5\u4e0a\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3067\u304d\u308b \u904b\u7528\u958b\u59cb\u5f8c\u306bHDD/SSD\u306e\u8ffd\u52a0\u3057\u3066\u3001\u5bb9\u91cf\u306e\u8ffd\u52a0\u304c\u3067\u304d\u308b \u30c7\u30fc\u30bf\u91cd\u8907\u9664\u53bb\u6a5f\u80fd\u304c\u3042\u308b \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u3088\u308a\u306f\u3001Linux\u306eLVM\u304c\u8fd1\u3044\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002 \u307e\u305f\u3001\u5f8c\u8ff0\u306eReFS\u3068\u4f75\u305b\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30ec\u30d9\u30eb\u3067\u306e\u6574\u5408\u6027\u306e\u62c5\u4fdd\u3001\u30a8\u30e9\u30fc\u6642\u306e\u81ea\u52d5\u4fee\u6b63\u304c\u53ef\u80fd\u3067\u3059\u3002 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u69cb\u6210\u8981\u7d20 \u7269\u7406\u30c7\u30a3\u30b9\u30af(Physical Disk) \u7269\u7406\u7684\u306aHDD\u3001SSD\u3092\u6307\u3057\u307e\u3059\u3002\u63a5\u7d9a\u65b9\u6cd5\u306fSAS,iSCSI,Fiber Channel\u306a\u3069\u306e\u30b5\u30fc\u30d0\u5411\u3051\u306e\u3082\u306e\u304b\u3089NVMe,SATA,USB\u306a\u3069\u3067\u3082(\u4e00\u5fdc)\u69cb\u6210\u53ef\u80fd\u3067\u3059\u3002 \u307e\u305f\u3001Windows Server 2019\u3067\u306fIntel\u306eOptane DC Persistent Memory\u3084NVDIMM-N\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af(Virtual Disk) \u5b9f\u969b\u306b\u30e6\u30fc\u30b6\u304c\u5229\u7528\u3059\u308b\u3001\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u7684\u306a\u30c7\u30a3\u30b9\u30af\u3067\u3059\u3002 \u5f8c\u8ff0\u306e\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0(Thin Provisioning)\u3068\u3044\u3046\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u4ee5\u4e0a\u306e\u30b5\u30a4\u30ba\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb(Storage Pool) \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u307e\u3068\u3081\u3066\u30d7\u30fc\u30eb\u306b\u3057\u305f\u3082\u306e\u3067\u3059\u3002 \u3053\u3053\u304b\u3089\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u5207\u308a\u51fa\u3057\u3066\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u8a18\u61b6\u57df\u968e\u5c64(Storage Tier) SSD\u3068HDD\u306a\u3069\u306e\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u306e\u7570\u306a\u308b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u968e\u5c64\u69cb\u9020\u3092\u3068\u308b\u3053\u3068\u3067\u3001 SSD\u3092\u8aad\u307f\u53d6\u308a\u30fb\u66f8\u304d\u8fbc\u307f\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u3088\u3046\u306b\u5229\u7528\u3057\u3066\u5197\u9577\u5316\u306b\u3088\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u4f4e\u4e0b\u3092\u88dc\u306a\u3046\u3053\u3068\u306e\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001SSD\u968e\u5c64\u3068HDD\u968e\u5c64\u306e\u305d\u308c\u305e\u308c\u3067\u7570\u306a\u308b\u5197\u9577\u5316\u65b9\u6cd5\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u95a2\u9023\u3059\u308b\u6a5f\u80fd\u3068\u3057\u3066\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u30c0\u30a4\u30ec\u30af\u30c8\u300d\u3001\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u30ec\u30d7\u30ea\u30ab\u300d\u3068\u3044\u3063\u305f\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002 \u5197\u9577\u5316\u306e\u7a2e\u985e \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30c7\u30a3\u30b9\u30af\u306e\u5197\u9577\u5316\u306b\u3064\u3044\u3066\u3001\u4e0b\u8a18\u306e4\u7a2e\u985e\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u3002 \u7a2e\u985e \u5197\u9577\u5316 \u5229\u7528\u53ef\u80fd\u306a \u30c7\u30a3\u30b9\u30af\u5bb9\u91cf \u6700\u4f4e\u9650\u5fc5\u8981\u306a \u30c7\u30a3\u30b9\u30af\u672c\u6570 \u30b7\u30f3\u30d7\u30eb \u5197\u9577\u5316\u3092\u884c\u308f\u306a\u3044\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3068\u540c\u7b49 1\u672c \u53cc\u65b9\u5411\u30df\u30e9\u30fc \u30c7\u30fc\u30bf\u30922\u672c\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u534a\u5206 2\u672c 3\u65b9\u5411\u30df\u30e9\u30fc \u30c7\u30fc\u30bf\u30923\u672c\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e1/3 3\u672c \u30d1\u30ea\u30c6\u30a3 \u30c7\u30fc\u30bf\u30923\u672c\u4ee5\u4e0a\u306e\u30c7\u30a3\u30b9\u30af\u306b \u5206\u6563\u3057\u3066\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e2/3\uff5e7/8 3\u672c \u30c7\u30e5\u30a2\u30eb\u30d1\u30ea\u30c6\u30a3 \u30c7\u30fc\u30bf\u30927\u672c\u4ee5\u4e0a\u306e\u30c7\u30a3\u30b9\u30af\u306b \u5206\u6563\u3057\u3066\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e4/7\uff5e 7\u672c \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u5272\u308a\u5f53\u3066 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30012\u7a2e\u985e\u306e\u30c7\u30a3\u30b9\u30af\u5272\u308a\u5f53\u3066\u65b9\u5f0f\u304c\u3042\u308a\u307e\u3059\u3002 \u56fa\u5b9a(Fixed) \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u65b9\u5f0f\u3002\u3044\u305f\u3063\u3066\u30b7\u30f3\u30d7\u30eb\u3002 \u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0(Thin Provisioning) \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u3067\u306f\u306a\u304f\u3001\u30c7\u30fc\u30bf\u66f8\u304d\u8fbc\u307f\u6642\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3078\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u65b9\u5f0f\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u7dcf\u5bb9\u91cf\u3088\u308a\u3082\u5927\u304d\u306a\u30b5\u30a4\u30ba\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u306b\u306f\u30d7\u30fc\u30eb\u3078\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3088\u3044\u3002 \u53cd\u9762\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5bb9\u91cf\u306b\u4f59\u88d5\u304c\u3042\u308b\u3088\u3046\u306b\u898b\u3048\u3066\u3082\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u3066\u30c7\u30fc\u30bf\u304c\u66f8\u304d\u8fbc\u3081\u306a\u3044\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u767a\u751f\u3057\u3046\u308b\u3002 \u30c7\u30a3\u30b9\u30af\u6545\u969c\u6642\u306e\u56de\u5fa9 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u3001\u30c7\u30a3\u30b9\u30af\u304c\u6545\u969c\u3057\u305f\u5834\u5408\u306b\u81ea\u52d5\u7684\u306b\u5197\u9577\u6027\u3092\u56de\u5fa9\u3059\u308b\u305f\u3081\u306e\u300c\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u300d\u30c7\u30a3\u30b9\u30af\u3092\u5272\u308a\u5f53\u3066\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u30c7\u30a3\u30b9\u30af\u306e\u6545\u969c\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u3067\u3082\u3001\u6545\u969c\u524d\u3068\u540c\u3058\u72b6\u614b\u306b\u623b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3001\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u5272\u308a\u5f53\u3066\u305a\u306b\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u3053\u306e\u5834\u5408\u3001\u30c7\u30a3\u30b9\u30af\u6545\u969c\u6642\u306b\u306f\u30d7\u30fc\u30eb\u5185\u306e\u4ed6\u306e\u30c7\u30a3\u30b9\u30af\u306b\u30df\u30e9\u30fc\u3084\u30d1\u30ea\u30c6\u30a3\u60c5\u5831\u3092\u5206\u6563\u3055\u305b\u3066\u5197\u9577\u6027\u3092\u56de\u5fa9\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u69cb\u6210\u306e\u4f8b \u4e0b\u8a18\u306e\u56f3\u3067\u306f200GB\u306eSSD\u30922\u672c\u3001500GB\u306eHDD\u30922\u672c\u30011TB\u306eHDD\u30922\u672c\u3092\u4f7f\u7528\u3057\u3066\u5408\u8a08\u30b5\u30a4\u30ba3.4TB\u306e\u30d7\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001HDD\u304c\u6545\u969c\u3057\u305f\u3068\u304d\u306e\u305f\u3081\u306b\u30011TB\u306eHDD\u3092\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3068\u3057\u3066\u5272\u308a\u5f53\u3066\u3066\u3044\u307e\u3059\u3002 \u56f3\u306e\u5de6\u4e0a \u4f8b1 \u3067\u306f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u30661TB\u306e\u30df\u30e9\u30fc\u3067\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u300c\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u300d\u3092\u7528\u3044\u305a\u306b\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u4f5c\u6210\u6642\u306b1TB\u00d72(\u30df\u30e9\u30fc\u306a\u306e\u30672\u500d)\u306e\u5bb9\u91cf\u5206\u306e\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u78ba\u4fdd\u3057\u3066\u3044\u307e\u3059\u3002 \u4e00\u65b9\u3001\u56f3\u306e\u53f3\u4e0a \u4f8b2 \u306e\u3088\u3046\u306b\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u7528\u3044\u305a\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u3053\u3061\u3089\u306f\u300c\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u300d\u3092\u7528\u3044\u3066\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u3088\u308a\u3082\u5927\u304d\u30444TB\u306e\u30d1\u30ea\u30c6\u30a3\u3067\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u56f3\uff1a \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u69cb\u6210\u4f8b \u4f8b\uff11\u306e\u30c7\u30a3\u30b9\u30af\u306e\u69cb\u6210\u65b9\u6cd5 # \u30d7\u30fc\u30eb\u306b\u8a2d\u5b9a\u3059\u308b SSD / HDD\u3092\u53d6\u5f97 $ PhysicalDisks = Get - PhysicalDisk 200 GB - SSD - 1 , 200 GB - SSD - 2 , 500 GB - HDD - 1 , 500 GB - HDD - 2 , 1 TB - HDD - 1 , 1 TB - HDD - 2 , 1 TB - HDD - 3 # \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 Get - StorageSubSystem | New - StoragePool \u2013 FriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' \u2013 PhysicalDisks $ PhysicalDisks # \u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u8a2d\u5b9a Set - PhysicalDisk 1 TB - HDD - 3 - Usase HotSpare # SSD\u306e\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f5c\u6210 $ SSDTier = New - StorageTier - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FriendlyName 'SSD\u968e\u5c64' - MediaType SSD - ResiliencySettingName Mirror - ProvisioningType Fixed # HDD\u306e\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f5c\u6210 $ HDDTier = New - StorageTier - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FriendlyName 'HDD\u968e\u5c64' - MediaType HDD - ResiliencySettingName Parity - ProvisioningType Fixed - NumberOfColumns 4 # ReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 # \u30b5\u30a4\u30ba\u6307\u5b9a\u306f SSD : 200 GB \u3001 HDD : 1 TB ( \u30d0\u30a4\u30c8\u5358\u4f4d ) New - Volume - FriendlyName '\u4f8b\uff11' - WriteCacheSize 16 GB - StorageTiers $ SSDTier , $ HDDTier - StorageTierSizes 214748364800 , 1099511627776 \u4f8b\uff12\u306e\u30c7\u30a3\u30b9\u30af\u306e\u69cb\u6210\u65b9\u6cd5 # \u30d7\u30fc\u30eb\u306b\u8a2d\u5b9a\u3059\u308b SSD / HDD\u3092\u53d6\u5f97 $ PhysicalDisks = Get - PhysicalDisk 200 GB - SSD - 1 , 200 GB - SSD - 2 , 500 GB - HDD - 1 , 500 GB - HDD - 2 , 1 TB - HDD - 1 , 1 TB - HDD - 2 , 1 TB - HDD - 3 # \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 Get - StorageSubSystem | New - StoragePool \u2013 FriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' \u2013 PhysicalDisks $ PhysicalDisks # \u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u8a2d\u5b9a ( \u3053\u3053\u307e\u3067\u306f\u4f8b 1 \u3068\u540c\u3058 ) Set - PhysicalDisk 1 TB - HDD - 3 - Usase HotSpare # NTFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 New - Volume - FriendlyName '\u4f8b\uff12' - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FileSystem NTFS - DriveLetter G - Size 4 TB - ResiliencySettingName Mirror - ProvisioningType Thin Resilient File System(ReFS) Windows Server 2012\u4ee5\u964d\u3001\u3082\u3057\u304f\u306f Windows10 Pro for Workstation\u304a\u3088\u3073Enterprise \u3067\u5229\u7528\u3067\u304d\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u5f93\u6765\u306eWindows\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3042\u308bNTFS\u3068\u6bd4\u8f03\u3057\u3066\u3001\u4fe1\u983c\u6027\u30fb\u53ef\u7528\u6027\u30fb\u62e1\u5f35\u6027\u306b\u512a\u308c\u3066\u3044\u308b\u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u500b\u4eba\u3067\u5229\u7528\u3059\u308b\u5834\u5408\u3001Windows10 Pro for Workstation\u3067\u306e\u5229\u7528\u304c\u6700\u6709\u529b\u306e\u5019\u88dc\u3068\u306a\u308a\u307e\u3059\u3002 ReFS\u306e\u7279\u5fb4 \u4fe1\u983c\u6027 \u300c\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u300d\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u6642\u306b\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u306e\u691c\u8a3c\u3068\u30a8\u30e9\u30fc\u4fee\u6b63\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u5168\u4f53\u3001\u30d5\u30a9\u30eb\u30c0\u5358\u4f4d\u307e\u305f\u306f\u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u3067\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u30a8\u30e9\u30fc\u306e\u30c1\u30a7\u30c3\u30af\u3068\u4fee\u6b63\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u53ef\u7528\u6027 \u7a3c\u50cd\u72b6\u614b\u3067\u306e\u30c7\u30fc\u30bf\u306e\u30a8\u30e9\u30fc\u4fee\u6b63\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4fdd\u5b88\u6027 \u3082\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3067\u7834\u640d\u3057\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3001Windows\u306b\u6a19\u6e96\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b refsutil \u3068\u3044\u3046\u30c4\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u53ef\u80fd\u306a\u9650\u308a\u306e\u30c7\u30fc\u30bf\u30fb\u30b5\u30eb\u30d9\u30fc\u30b8\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u6027\u80fd \u30b3\u30d4\u30fc\u30fb\u30aa\u30f3\u30fb\u30e9\u30a4\u30c8\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\u3001Hyper-V\u306a\u3069\u3067\u4f7f\u7528\u3055\u308c\u308b\u56fa\u5b9a\u30b5\u30a4\u30ba\u306evhdx\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306a\u3069\u306f\u6570\u79d2\u3067\u5b8c\u4e86\u3057\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u7d30\u304b\u3044\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u306e\u901f\u5ea6\u306a\u3069\u306b\u3064\u3044\u3066\u306f\u3042\u307e\u308a\u5f97\u610f\u3067\u7121\u304f\u3001\u3042\u304f\u307e\u3067\u30b5\u30fc\u30d0\u306a\u3069\u3067\u306e\u4fe1\u983c\u6027\u306b\u91cd\u70b9\u3092\u304a\u3044\u305f\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001Windows OS\u306e\u8d77\u52d5\u30c7\u30a3\u30b9\u30af\u306bReFS\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6709\u52b9\u5316\u65b9\u6cd5 ReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u4f5c\u6210\u3057\u305f\u6bb5\u968e\u3067\u306f\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u7121\u52b9\u306e\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u6709\u52b9\u5316\u3059\u308b\u305f\u3081\u306b\u306f\u3001PowerShell\u4e0a\u3067 Set-FileIntegrity \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u5168\u4f53\u30fb\u30d5\u30a9\u30eb\u30c0\u5358\u4f4d\u30fb\u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u306e\u3044\u305a\u308c\u3067\u3082\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3068\u78ba\u8a8d # E\u30c9\u30e9\u30a4\u30d6\u5168\u4f53\u3067\u6709\u52b9\u5316 Set - FileIntegrity E : - Enable $ True # F : \\ Docs\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u3092\u6709\u52b9\u5316 Set - FileIntegrity F : \\ Docs \\ - Enable $ True # F : \\ Secret \\ Movie . mp4\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3067\u6709\u52b9\u5316 Set - FileIntegrity F : \\ Secret \\ Movie . mp4 - Enable $ True # \u78ba\u8a8d Get - FileIntegrity - FileName 'F:\\Secret\\Movie.mp4' Get - ChildItem - Recurse F : \\ Docs \\ | Get - FileIntegrity \u307e\u305f\u3001\u300cData Integrity Scan\u300d\u3068\u547c\u3070\u308c\u308b\u30bf\u30b9\u30af\u304c\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306b\u767b\u9332\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u306e\u30bf\u30b9\u30af\u3067\u5b9a\u671f\u7684\u306b\u5168\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u53d6\u308a\u30c1\u30a7\u30c3\u30af\u3068\u30a8\u30e9\u30fc\u4fee\u6b63\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001Windows10\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u30c8\u30ea\u30ac\u30fc\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u6709\u52b9\u5316\u304c\u5fc5\u8981\u3067\u3059\u3002 Tip \u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u304b\u3089\u3001\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30e9\u30a4\u30d6\u30e9\u30ea\u2192Microsoft\u2192Windows\u2192Data Integrity Scan\u5185\u306e\u30bf\u30b9\u30af\u300cData Integrity Scan\u300d\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3001\u30c8\u30ea\u30ac\u30fc\u30bf\u30d6\u3067\u5404\u30c8\u30ea\u30ac\u30fc\u306e\u7de8\u96c6\u753b\u9762\u304b\u3089\u300c\u6709\u52b9\u300d\u306b\u30c1\u30a7\u30c3\u30af \u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3(Mirror-accelerated Parity) \u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3068\u306f\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u6a5f\u80fd\u3067\u3001\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u7570\u306a\u308b\u306e\u56de\u5fa9\u6027\u3092\u5099\u3048\u305f\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u3053\u308c\u306f\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3001\u304a\u3088\u3073ReFS\u3068\u3044\u3063\u305f\u6a5f\u80fd\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 Windows Server 2016 Datacenter/Windows Server 2019 Datacenter\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3 - Microsoft Docs \u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8 \u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u3001\u305d\u308c\u305e\u308c\u306e\u56de\u5fa9\u6027\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u56de\u5fa9\u6027\u306e\u7a2e\u985e \u30e1\u30ea\u30c3\u30c8 \u30c7\u30e1\u30ea\u30c3\u30c8 \u30df\u30e9\u30fc \u66f8\u304d\u8fbc\u307f\u6027\u80fd\u304c\u9ad8\u3044 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u5229\u7528\u52b9\u7387\u304c\u60aa\u3044 \u30d1\u30ea\u30c6\u30a3 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u5229\u7528\u52b9\u7387\u304c\u826f\u3044 \u66f8\u304d\u8fbc\u307f\u6bce\u306b\u30d1\u30ea\u30c6\u30a3\u3092\u518d\u8a08\u7b97\u3059\u308b\u305f\u3081 \u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u304c\u4f4e\u3044 \u4e0a\u8a18\u306e\u30c7\u30e1\u30ea\u30c3\u30c8\u3092\u88dc\u3046\u305f\u3081\u306b\u3001\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u4e21\u65b9\u306e\u56de\u5fa9\u6027\u3092\u6301\u305f\u305b\u3066\u3001 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u9ad8\u5229\u7528\u52b9\u7387\u3068\u9ad8\u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u3092\u4e21\u7acb \u3059\u308b\u6a5f\u80fd\u304c\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3067\u3059\u3002 \u304a\u3053\u3068\u308f\u308a \u672c\u6765\u3001\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001Windows Server2016 Datacenter\u4ee5\u964d\u306eOS\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306fWindows10 Pro for Workstation\u3067\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u305f\u3002 \u516c\u5f0f\u306b\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u74b0\u5883\u3067\u3059\u306e\u3067\u3001\u5c06\u6765\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306a\u3069\u3067\u6b63\u5e38\u306b\u5229\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u6709\u308b\u3053\u3068\u3092\u3001\u4e8b\u524d\u306b\u304a\u65ad\u308a\u3057\u3066\u304a\u304d\u307e\u3059\u3002 \u30c7\u30a3\u30b9\u30af\u69cb\u7bc9 \u4f7f\u7528\u3057\u305f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u4ed5\u69d8\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002 CPU Intel Pentium Gold G4500@3.5GHz Memory DDR4-2400 32GBGB (Dual Channel) SSD AGI 256G16AI198 256GB x2 (PCI-E 3.0 x4) HDD WDC WD60EZRZ 6TB x6 (5400rpm SATA) + ST10000VN0004 10TB x7 (7200rpm SATA) OS Windows 10 Pro for Workstations \u4e0b\u8a18\u306e\u56f3\u306e\u69d8\u306a\u69cb\u6210\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002 \u56f3: \u3067\u306f\u3001\u5b9f\u969b\u306bSSD:200GB + HDD:32TB \u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3059\u3002 # SSD\u968e\u5c64\u3092\u4f5c\u6210 $ SSDTier = New - StorageTier - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FriendlyName 'SSD\u968e\u5c64' - MediaType SSD - ResiliencySettingName Mirror - ProvisioningType Fixed # HDD\u968e\u5c64\u3092\u4f5c\u6210 NumberOfColumns\u306fHDD\u306e\u672c\u6570\u306b\u5408\u308f\u305b\u3066 '6' \u3092\u8a2d\u5b9a $ HDDTier = New - StorageTier - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FriendlyName 'HDD\u968e\u5c64' - MediaType HDD - ResiliencySettingName Parity - ProvisioningType Fixed - NumberOfColumns 6 # \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 \u30c9\u30e9\u30a4\u30d6\u30ec\u30bf\u30fc\u306f 'Z' \u3092\u5272\u5f53\u3066 New - Volume - FriendlyName 'Disk' - DriveLetter Z - FileSystem ReFS - WriteCacheSize 16 GB - StorageTiers $ SSDTier , $ HDDTier - StorageTierSizes 214748364800 , 35184372088832 # \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u3092 ON Set - FileIntegrity Z : - Enable $ true \u30d9\u30f3\u30c1\u30de\u30fc\u30af \u3068\u308a\u3042\u3048\u305a\u3001\u30a8\u30e9\u30fc\u7121\u304f\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u6761\u4ef6\u3067\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u53d6\u3063\u3066\u307f\u307e\u3059\u3002 \u4f7f\u7528\u30bd\u30d5\u30c8: CrystalDiskMark 6.0.3 \u8a66\u884c\u56de\u6570: 5\u56de ReFS\u306e\u5834\u5408\u3001\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0ON WriteCache: 16GB table#benchmark_teble th { text-align: center; vertical-align: middle; } table#benchmark_teble td { text-align: center; vertical-align: middle; } table#benchmark_teble td.top { font-weight: bold; color: red; } table#benchmark_teble td.bottom { font-weight: bold; color: blue; } \u8a18\u61b6\u57df\u968e\u5c64 \u30d5\u30a1\u30a4\u30eb \u30b7\u30b9\u30c6\u30e0 Sequential Random (MB/s) Read Write Read Write \u306a\u3057 ReFS 850.4 54.64 5.11 24.63 NTFS 718.3 499.8 4.52 0.95 \u3042\u308a ReFS 520.5 780.2 3.49 84.6 NTFS 3192.1 734.1 258.8 96.40 \u30df\u30e9\u30fc\u968e\u5c64\u3068\u30d1\u30ea\u30c6\u30a3\u968e\u5c64\u306e\u4e21\u65b9\u3092\u542b\u3093\u3060\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3067\u3001NTFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u306f\u4f5c\u6210\u3067\u304d\u306a\u3044\u306e\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4f5c\u6210\u3067\u304d\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002 \u7d50\u679c\u3068\u3057\u3066\u3001\u4e88\u671f\u3057\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u3067\u4e00\u756a\u9ad8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306a\u306e\u306f\u300c\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305fNTFS\u300d\u306e\u30d1\u30bf\u30fc\u30f3\u3068\u306a\u308a\u307e\u3057\u305f\u3002 \u8003\u5bdf \u66f8\u304d\u8fbc\u307f\u306b\u3064\u3044\u3066\u306f\u6709\u610f\u306a\u5dee\u304c\u898b\u3089\u308c\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305f\u65b9\u304c\u9ad8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u307e\u305f\u8aad\u307f\u8fbc\u307f\u306b\u3064\u3044\u3066\u306f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305fReFS\u304c\u4e00\u756a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u4f4e\u304f\u306a\u308a\u307e\u3057\u305f\u3002 \u3053\u308c\u306f\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u304c\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306e\u5229\u7528\u3092\u524d\u63d0\u3068\u3057\u3066\u304a\u308a\u3001 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u8aad\u307f\u8fbc\u307f\u30ad\u30e3\u30c3\u30b7\u30e5\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u6027\u80fd\u5411\u4e0a\u3055\u305b\u308b\u8a2d\u8a08\u306a\u306e\u304b\u3068\u601d\u3044\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u304a\u304d\u306a\u304c\u3089\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\u306f\u6b63\u5f0f\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f\u74b0\u5883\u3067\u306e\u6e2c\u5b9a\u3055\u308c\u305f\u3082\u306e\u3067\u306f\u306a\u3044\u305f\u3081\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u304c\u6b63\u3057\u304f\u69cb\u7bc9\u3067\u304d\u305f\u7d50\u679c\u306a\u306e\u304b\u306f\u4e0d\u660e\u3067\u3059\u3002 \u4f59\u8ac7 \u3061\u306a\u307f\u306b\u3001\u4e0b\u8a18\u3092\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001Not Supported\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 \u8a18\u61b6\u57df\u968e\u5c64\u4f5c\u6210\u6642\u306eProvisioningType\u3092Thin(\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0)\u306b\u8a2d\u5b9a \u6050\u3089\u304f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u601d\u3044\u307e\u3059\u3002 \u3082\u3057\u3001\u5b9f\u904b\u7528\u4e0a\u3067\u5bb9\u91cf\u306e\u62e1\u5f35\u304c\u5fc5\u8981\u3068\u306a\u3063\u305f\u5834\u5408\u306b\u306f\u3001\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u62e1\u5f35\u3068\u3044\u3046\u904b\u7528\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u306bReadCacheSize\u3092\u8a2d\u5b9a \u3053\u308c\u306f\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306a\u3044\u3068\u5229\u7528\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u62e1\u5f35 \u904b\u7528\u4e2d\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30d1\u30bf\u30fc\u30f31: \u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408 \u3042\u3089\u304b\u3058\u3081\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u306b\u4f59\u88d5\u3092\u3082\u3063\u3066\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u30c7\u30a3\u30b9\u30af\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get - PhysicalDisk - CanPool $ true | Add - PhysicalDisk - StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb \u30d1\u30bf\u30fc\u30f32: \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u306a\u3044\u3001\u56fa\u5b9a\u30b5\u30a4\u30ba\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3057\u307e\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get - PhysicalDisk - CanPool $ true | Add - PhysicalDisk - StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb # \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u3092 4 TB\u306b\u62e1\u5f35 $ virtialDisk = Get - VirtualDisk \u4eee\u60f3\u30c7\u30a3\u30b9\u30af $ virtialDisk | Resize - VirtualDisk - Size 4 TB # \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35 $ partition = $ virtialDisk | Get - Disk | Get - Partition | Where - Object Type - eq Basic $ partition | Resize - Partition - Size ( $ partition | Get - PartitionSupportedSize ). SizeMax \u30d1\u30bf\u30fc\u30f33: \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u3001\u5bfe\u8c61\u306e\u8a18\u61b6\u57df\u968e\u5c64\u306e\u30b5\u30a4\u30ba\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3057\u307e\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get - PhysicalDisk - CanPool $ true | Add - PhysicalDisk - StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb # HDD\u968e\u5c64\u306e\u30b5\u30a4\u30ba\u309232TB\u306b\u62e1\u5f35 $ virtialDisk = Get - VirtualDisk \u4eee\u60f3\u30c7\u30a3\u30b9\u30af $ virtialDisk | Get - StorageTier - MediaType HDD | Resize - StorageTier - Size 32 TB # \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35 $ partition = $ virtialDisk | Get - Disk | Get - Partition | Where - Object Type - eq Basic $ partition | Resize - Partition - Size ( $ partition | Get - PartitionSupportedSize ). SizeMax","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#refs","text":"","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068ReFS"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_1","text":"\u307e\u305a\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306b\u3064\u3044\u3066\u306f\u3001\u79c1\u306e\u8a18\u4e8b\u3088\u308a\u3082\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u8aad\u3080\u65b9\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 - \u85a9\u6469\u85e9\u4e2d\u4ed9\u9053\u8568\u5bbf\u5225\u90b8 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3068\u306fWindows8, 10/Windows Server 2012\u4ee5\u964d\u3067\u5229\u7528\u3067\u304d\u308b\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5197\u9577\u5316\u6a5f\u80fd\u3067\u3059\u3002 \u8907\u6570\u306eHDD\u3084SSD\u3092\u675f\u306d\u3066\u3001\u5197\u9577\u6027\u306e\u3042\u308b\u30c7\u30a3\u30b9\u30af\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f3c\u305f\u3088\u3046\u306a\u6a5f\u80fd\u3068\u3057\u3066\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e0b\u8a18\u306e\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u30b5\u30a4\u30ba\u306e\u7570\u306a\u308b\u30c7\u30a3\u30b9\u30af\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3082\u5229\u7528\u3067\u304d\u308b \u5b9f\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u4ee5\u4e0a\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3067\u304d\u308b \u904b\u7528\u958b\u59cb\u5f8c\u306bHDD/SSD\u306e\u8ffd\u52a0\u3057\u3066\u3001\u5bb9\u91cf\u306e\u8ffd\u52a0\u304c\u3067\u304d\u308b \u30c7\u30fc\u30bf\u91cd\u8907\u9664\u53bb\u6a5f\u80fd\u304c\u3042\u308b \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u3088\u308a\u306f\u3001Linux\u306eLVM\u304c\u8fd1\u3044\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002 \u307e\u305f\u3001\u5f8c\u8ff0\u306eReFS\u3068\u4f75\u305b\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30ec\u30d9\u30eb\u3067\u306e\u6574\u5408\u6027\u306e\u62c5\u4fdd\u3001\u30a8\u30e9\u30fc\u6642\u306e\u81ea\u52d5\u4fee\u6b63\u304c\u53ef\u80fd\u3067\u3059\u3002","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_2","text":"\u7269\u7406\u30c7\u30a3\u30b9\u30af(Physical Disk) \u7269\u7406\u7684\u306aHDD\u3001SSD\u3092\u6307\u3057\u307e\u3059\u3002\u63a5\u7d9a\u65b9\u6cd5\u306fSAS,iSCSI,Fiber Channel\u306a\u3069\u306e\u30b5\u30fc\u30d0\u5411\u3051\u306e\u3082\u306e\u304b\u3089NVMe,SATA,USB\u306a\u3069\u3067\u3082(\u4e00\u5fdc)\u69cb\u6210\u53ef\u80fd\u3067\u3059\u3002 \u307e\u305f\u3001Windows Server 2019\u3067\u306fIntel\u306eOptane DC Persistent Memory\u3084NVDIMM-N\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af(Virtual Disk) \u5b9f\u969b\u306b\u30e6\u30fc\u30b6\u304c\u5229\u7528\u3059\u308b\u3001\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u7684\u306a\u30c7\u30a3\u30b9\u30af\u3067\u3059\u3002 \u5f8c\u8ff0\u306e\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0(Thin Provisioning)\u3068\u3044\u3046\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u4ee5\u4e0a\u306e\u30b5\u30a4\u30ba\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u8a18\u61b6\u57df\u30d7\u30fc\u30eb(Storage Pool) \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u307e\u3068\u3081\u3066\u30d7\u30fc\u30eb\u306b\u3057\u305f\u3082\u306e\u3067\u3059\u3002 \u3053\u3053\u304b\u3089\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u5207\u308a\u51fa\u3057\u3066\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u8a18\u61b6\u57df\u968e\u5c64(Storage Tier) SSD\u3068HDD\u306a\u3069\u306e\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u306e\u7570\u306a\u308b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u968e\u5c64\u69cb\u9020\u3092\u3068\u308b\u3053\u3068\u3067\u3001 SSD\u3092\u8aad\u307f\u53d6\u308a\u30fb\u66f8\u304d\u8fbc\u307f\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u3088\u3046\u306b\u5229\u7528\u3057\u3066\u5197\u9577\u5316\u306b\u3088\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u4f4e\u4e0b\u3092\u88dc\u306a\u3046\u3053\u3068\u306e\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001SSD\u968e\u5c64\u3068HDD\u968e\u5c64\u306e\u305d\u308c\u305e\u308c\u3067\u7570\u306a\u308b\u5197\u9577\u5316\u65b9\u6cd5\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u95a2\u9023\u3059\u308b\u6a5f\u80fd\u3068\u3057\u3066\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u30c0\u30a4\u30ec\u30af\u30c8\u300d\u3001\u300c\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9 \u30ec\u30d7\u30ea\u30ab\u300d\u3068\u3044\u3063\u305f\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002","title":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u69cb\u6210\u8981\u7d20"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_3","text":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30c7\u30a3\u30b9\u30af\u306e\u5197\u9577\u5316\u306b\u3064\u3044\u3066\u3001\u4e0b\u8a18\u306e4\u7a2e\u985e\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u3002 \u7a2e\u985e \u5197\u9577\u5316 \u5229\u7528\u53ef\u80fd\u306a \u30c7\u30a3\u30b9\u30af\u5bb9\u91cf \u6700\u4f4e\u9650\u5fc5\u8981\u306a \u30c7\u30a3\u30b9\u30af\u672c\u6570 \u30b7\u30f3\u30d7\u30eb \u5197\u9577\u5316\u3092\u884c\u308f\u306a\u3044\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3068\u540c\u7b49 1\u672c \u53cc\u65b9\u5411\u30df\u30e9\u30fc \u30c7\u30fc\u30bf\u30922\u672c\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u534a\u5206 2\u672c 3\u65b9\u5411\u30df\u30e9\u30fc \u30c7\u30fc\u30bf\u30923\u672c\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e1/3 3\u672c \u30d1\u30ea\u30c6\u30a3 \u30c7\u30fc\u30bf\u30923\u672c\u4ee5\u4e0a\u306e\u30c7\u30a3\u30b9\u30af\u306b \u5206\u6563\u3057\u3066\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e2/3\uff5e7/8 3\u672c \u30c7\u30e5\u30a2\u30eb\u30d1\u30ea\u30c6\u30a3 \u30c7\u30fc\u30bf\u30927\u672c\u4ee5\u4e0a\u306e\u30c7\u30a3\u30b9\u30af\u306b \u5206\u6563\u3057\u3066\u5197\u9577\u5316\u3059\u308b\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e4/7\uff5e 7\u672c","title":"\u5197\u9577\u5316\u306e\u7a2e\u985e"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_4","text":"\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30012\u7a2e\u985e\u306e\u30c7\u30a3\u30b9\u30af\u5272\u308a\u5f53\u3066\u65b9\u5f0f\u304c\u3042\u308a\u307e\u3059\u3002 \u56fa\u5b9a(Fixed) \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u65b9\u5f0f\u3002\u3044\u305f\u3063\u3066\u30b7\u30f3\u30d7\u30eb\u3002 \u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0(Thin Provisioning) \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u3067\u306f\u306a\u304f\u3001\u30c7\u30fc\u30bf\u66f8\u304d\u8fbc\u307f\u6642\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3078\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u65b9\u5f0f\u3002 \u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u7dcf\u5bb9\u91cf\u3088\u308a\u3082\u5927\u304d\u306a\u30b5\u30a4\u30ba\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u306b\u306f\u30d7\u30fc\u30eb\u3078\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3088\u3044\u3002 \u53cd\u9762\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5bb9\u91cf\u306b\u4f59\u88d5\u304c\u3042\u308b\u3088\u3046\u306b\u898b\u3048\u3066\u3082\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u3066\u30c7\u30fc\u30bf\u304c\u66f8\u304d\u8fbc\u3081\u306a\u3044\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u767a\u751f\u3057\u3046\u308b\u3002","title":"\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u5272\u308a\u5f53\u3066"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_5","text":"\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u3001\u30c7\u30a3\u30b9\u30af\u304c\u6545\u969c\u3057\u305f\u5834\u5408\u306b\u81ea\u52d5\u7684\u306b\u5197\u9577\u6027\u3092\u56de\u5fa9\u3059\u308b\u305f\u3081\u306e\u300c\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u300d\u30c7\u30a3\u30b9\u30af\u3092\u5272\u308a\u5f53\u3066\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u30c7\u30a3\u30b9\u30af\u306e\u6545\u969c\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u3067\u3082\u3001\u6545\u969c\u524d\u3068\u540c\u3058\u72b6\u614b\u306b\u623b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3001\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u5272\u308a\u5f53\u3066\u305a\u306b\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u3053\u306e\u5834\u5408\u3001\u30c7\u30a3\u30b9\u30af\u6545\u969c\u6642\u306b\u306f\u30d7\u30fc\u30eb\u5185\u306e\u4ed6\u306e\u30c7\u30a3\u30b9\u30af\u306b\u30df\u30e9\u30fc\u3084\u30d1\u30ea\u30c6\u30a3\u60c5\u5831\u3092\u5206\u6563\u3055\u305b\u3066\u5197\u9577\u6027\u3092\u56de\u5fa9\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002","title":"\u30c7\u30a3\u30b9\u30af\u6545\u969c\u6642\u306e\u56de\u5fa9"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_6","text":"\u4e0b\u8a18\u306e\u56f3\u3067\u306f200GB\u306eSSD\u30922\u672c\u3001500GB\u306eHDD\u30922\u672c\u30011TB\u306eHDD\u30922\u672c\u3092\u4f7f\u7528\u3057\u3066\u5408\u8a08\u30b5\u30a4\u30ba3.4TB\u306e\u30d7\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001HDD\u304c\u6545\u969c\u3057\u305f\u3068\u304d\u306e\u305f\u3081\u306b\u30011TB\u306eHDD\u3092\u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3068\u3057\u3066\u5272\u308a\u5f53\u3066\u3066\u3044\u307e\u3059\u3002 \u56f3\u306e\u5de6\u4e0a \u4f8b1 \u3067\u306f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u30661TB\u306e\u30df\u30e9\u30fc\u3067\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u300c\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u300d\u3092\u7528\u3044\u305a\u306b\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u4f5c\u6210\u6642\u306b1TB\u00d72(\u30df\u30e9\u30fc\u306a\u306e\u30672\u500d)\u306e\u5bb9\u91cf\u5206\u306e\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u78ba\u4fdd\u3057\u3066\u3044\u307e\u3059\u3002 \u4e00\u65b9\u3001\u56f3\u306e\u53f3\u4e0a \u4f8b2 \u306e\u3088\u3046\u306b\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u7528\u3044\u305a\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u3053\u3061\u3089\u306f\u300c\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u300d\u3092\u7528\u3044\u3066\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u3088\u308a\u3082\u5927\u304d\u30444TB\u306e\u30d1\u30ea\u30c6\u30a3\u3067\u5197\u9577\u5316\u3055\u308c\u305f\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 \u56f3\uff1a \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u306e\u69cb\u6210\u4f8b \u4f8b\uff11\u306e\u30c7\u30a3\u30b9\u30af\u306e\u69cb\u6210\u65b9\u6cd5 # \u30d7\u30fc\u30eb\u306b\u8a2d\u5b9a\u3059\u308b SSD / HDD\u3092\u53d6\u5f97 $ PhysicalDisks = Get - PhysicalDisk 200 GB - SSD - 1 , 200 GB - SSD - 2 , 500 GB - HDD - 1 , 500 GB - HDD - 2 , 1 TB - HDD - 1 , 1 TB - HDD - 2 , 1 TB - HDD - 3 # \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 Get - StorageSubSystem | New - StoragePool \u2013 FriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' \u2013 PhysicalDisks $ PhysicalDisks # \u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u8a2d\u5b9a Set - PhysicalDisk 1 TB - HDD - 3 - Usase HotSpare # SSD\u306e\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f5c\u6210 $ SSDTier = New - StorageTier - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FriendlyName 'SSD\u968e\u5c64' - MediaType SSD - ResiliencySettingName Mirror - ProvisioningType Fixed # HDD\u306e\u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f5c\u6210 $ HDDTier = New - StorageTier - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FriendlyName 'HDD\u968e\u5c64' - MediaType HDD - ResiliencySettingName Parity - ProvisioningType Fixed - NumberOfColumns 4 # ReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 # \u30b5\u30a4\u30ba\u6307\u5b9a\u306f SSD : 200 GB \u3001 HDD : 1 TB ( \u30d0\u30a4\u30c8\u5358\u4f4d ) New - Volume - FriendlyName '\u4f8b\uff11' - WriteCacheSize 16 GB - StorageTiers $ SSDTier , $ HDDTier - StorageTierSizes 214748364800 , 1099511627776 \u4f8b\uff12\u306e\u30c7\u30a3\u30b9\u30af\u306e\u69cb\u6210\u65b9\u6cd5 # \u30d7\u30fc\u30eb\u306b\u8a2d\u5b9a\u3059\u308b SSD / HDD\u3092\u53d6\u5f97 $ PhysicalDisks = Get - PhysicalDisk 200 GB - SSD - 1 , 200 GB - SSD - 2 , 500 GB - HDD - 1 , 500 GB - HDD - 2 , 1 TB - HDD - 1 , 1 TB - HDD - 2 , 1 TB - HDD - 3 # \u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 Get - StorageSubSystem | New - StoragePool \u2013 FriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' \u2013 PhysicalDisks $ PhysicalDisks # \u30db\u30c3\u30c8\u30b9\u30da\u30a2\u3092\u8a2d\u5b9a ( \u3053\u3053\u307e\u3067\u306f\u4f8b 1 \u3068\u540c\u3058 ) Set - PhysicalDisk 1 TB - HDD - 3 - Usase HotSpare # NTFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 New - Volume - FriendlyName '\u4f8b\uff12' - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FileSystem NTFS - DriveLetter G - Size 4 TB - ResiliencySettingName Mirror - ProvisioningType Thin","title":"\u69cb\u6210\u306e\u4f8b"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#resilient-file-systemrefs","text":"Windows Server 2012\u4ee5\u964d\u3001\u3082\u3057\u304f\u306f Windows10 Pro for Workstation\u304a\u3088\u3073Enterprise \u3067\u5229\u7528\u3067\u304d\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u5f93\u6765\u306eWindows\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3042\u308bNTFS\u3068\u6bd4\u8f03\u3057\u3066\u3001\u4fe1\u983c\u6027\u30fb\u53ef\u7528\u6027\u30fb\u62e1\u5f35\u6027\u306b\u512a\u308c\u3066\u3044\u308b\u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u500b\u4eba\u3067\u5229\u7528\u3059\u308b\u5834\u5408\u3001Windows10 Pro for Workstation\u3067\u306e\u5229\u7528\u304c\u6700\u6709\u529b\u306e\u5019\u88dc\u3068\u306a\u308a\u307e\u3059\u3002","title":"Resilient File System(ReFS)"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#refs_1","text":"\u4fe1\u983c\u6027 \u300c\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u300d\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u6642\u306b\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u306e\u691c\u8a3c\u3068\u30a8\u30e9\u30fc\u4fee\u6b63\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u5168\u4f53\u3001\u30d5\u30a9\u30eb\u30c0\u5358\u4f4d\u307e\u305f\u306f\u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u3067\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u30a8\u30e9\u30fc\u306e\u30c1\u30a7\u30c3\u30af\u3068\u4fee\u6b63\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u53ef\u7528\u6027 \u7a3c\u50cd\u72b6\u614b\u3067\u306e\u30c7\u30fc\u30bf\u306e\u30a8\u30e9\u30fc\u4fee\u6b63\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4fdd\u5b88\u6027 \u3082\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3067\u7834\u640d\u3057\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3001Windows\u306b\u6a19\u6e96\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b refsutil \u3068\u3044\u3046\u30c4\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u53ef\u80fd\u306a\u9650\u308a\u306e\u30c7\u30fc\u30bf\u30fb\u30b5\u30eb\u30d9\u30fc\u30b8\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u6027\u80fd \u30b3\u30d4\u30fc\u30fb\u30aa\u30f3\u30fb\u30e9\u30a4\u30c8\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\u3001Hyper-V\u306a\u3069\u3067\u4f7f\u7528\u3055\u308c\u308b\u56fa\u5b9a\u30b5\u30a4\u30ba\u306evhdx\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306a\u3069\u306f\u6570\u79d2\u3067\u5b8c\u4e86\u3057\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u7d30\u304b\u3044\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u306e\u901f\u5ea6\u306a\u3069\u306b\u3064\u3044\u3066\u306f\u3042\u307e\u308a\u5f97\u610f\u3067\u7121\u304f\u3001\u3042\u304f\u307e\u3067\u30b5\u30fc\u30d0\u306a\u3069\u3067\u306e\u4fe1\u983c\u6027\u306b\u91cd\u70b9\u3092\u304a\u3044\u305f\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001Windows OS\u306e\u8d77\u52d5\u30c7\u30a3\u30b9\u30af\u306bReFS\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002","title":"ReFS\u306e\u7279\u5fb4"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_7","text":"ReFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u4f5c\u6210\u3057\u305f\u6bb5\u968e\u3067\u306f\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u7121\u52b9\u306e\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u6709\u52b9\u5316\u3059\u308b\u305f\u3081\u306b\u306f\u3001PowerShell\u4e0a\u3067 Set-FileIntegrity \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u5168\u4f53\u30fb\u30d5\u30a9\u30eb\u30c0\u5358\u4f4d\u30fb\u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u306e\u3044\u305a\u308c\u3067\u3082\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3068\u78ba\u8a8d # E\u30c9\u30e9\u30a4\u30d6\u5168\u4f53\u3067\u6709\u52b9\u5316 Set - FileIntegrity E : - Enable $ True # F : \\ Docs\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u3092\u6709\u52b9\u5316 Set - FileIntegrity F : \\ Docs \\ - Enable $ True # F : \\ Secret \\ Movie . mp4\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3067\u6709\u52b9\u5316 Set - FileIntegrity F : \\ Secret \\ Movie . mp4 - Enable $ True # \u78ba\u8a8d Get - FileIntegrity - FileName 'F:\\Secret\\Movie.mp4' Get - ChildItem - Recurse F : \\ Docs \\ | Get - FileIntegrity \u307e\u305f\u3001\u300cData Integrity Scan\u300d\u3068\u547c\u3070\u308c\u308b\u30bf\u30b9\u30af\u304c\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306b\u767b\u9332\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u306e\u30bf\u30b9\u30af\u3067\u5b9a\u671f\u7684\u306b\u5168\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u53d6\u308a\u30c1\u30a7\u30c3\u30af\u3068\u30a8\u30e9\u30fc\u4fee\u6b63\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u3001Windows10\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u30c8\u30ea\u30ac\u30fc\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u6709\u52b9\u5316\u304c\u5fc5\u8981\u3067\u3059\u3002 Tip \u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u304b\u3089\u3001\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30e9\u30a4\u30d6\u30e9\u30ea\u2192Microsoft\u2192Windows\u2192Data Integrity Scan\u5185\u306e\u30bf\u30b9\u30af\u300cData Integrity Scan\u300d\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3001\u30c8\u30ea\u30ac\u30fc\u30bf\u30d6\u3067\u5404\u30c8\u30ea\u30ac\u30fc\u306e\u7de8\u96c6\u753b\u9762\u304b\u3089\u300c\u6709\u52b9\u300d\u306b\u30c1\u30a7\u30c3\u30af","title":"\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6709\u52b9\u5316\u65b9\u6cd5"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#mirror-accelerated-parity","text":"\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3068\u306f\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u6a5f\u80fd\u3067\u3001\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u7570\u306a\u308b\u306e\u56de\u5fa9\u6027\u3092\u5099\u3048\u305f\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u3053\u308c\u306f\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3001\u304a\u3088\u3073ReFS\u3068\u3044\u3063\u305f\u6a5f\u80fd\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002 Windows Server 2016 Datacenter/Windows Server 2019 Datacenter\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3 - Microsoft Docs","title":"\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3(Mirror-accelerated Parity)"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_8","text":"\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u3001\u305d\u308c\u305e\u308c\u306e\u56de\u5fa9\u6027\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u56de\u5fa9\u6027\u306e\u7a2e\u985e \u30e1\u30ea\u30c3\u30c8 \u30c7\u30e1\u30ea\u30c3\u30c8 \u30df\u30e9\u30fc \u66f8\u304d\u8fbc\u307f\u6027\u80fd\u304c\u9ad8\u3044 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u5229\u7528\u52b9\u7387\u304c\u60aa\u3044 \u30d1\u30ea\u30c6\u30a3 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u5229\u7528\u52b9\u7387\u304c\u826f\u3044 \u66f8\u304d\u8fbc\u307f\u6bce\u306b\u30d1\u30ea\u30c6\u30a3\u3092\u518d\u8a08\u7b97\u3059\u308b\u305f\u3081 \u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u304c\u4f4e\u3044 \u4e0a\u8a18\u306e\u30c7\u30e1\u30ea\u30c3\u30c8\u3092\u88dc\u3046\u305f\u3081\u306b\u3001\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u4e21\u65b9\u306e\u56de\u5fa9\u6027\u3092\u6301\u305f\u305b\u3066\u3001 \u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u9ad8\u5229\u7528\u52b9\u7387\u3068\u9ad8\u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u3092\u4e21\u7acb \u3059\u308b\u6a5f\u80fd\u304c\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3067\u3059\u3002","title":"\u30df\u30e9\u30fc\u3068\u30d1\u30ea\u30c6\u30a3\u306e\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_9","text":"\u672c\u6765\u3001\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001Windows Server2016 Datacenter\u4ee5\u964d\u306eOS\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306fWindows10 Pro for Workstation\u3067\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u305f\u3002 \u516c\u5f0f\u306b\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u74b0\u5883\u3067\u3059\u306e\u3067\u3001\u5c06\u6765\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306a\u3069\u3067\u6b63\u5e38\u306b\u5229\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u6709\u308b\u3053\u3068\u3092\u3001\u4e8b\u524d\u306b\u304a\u65ad\u308a\u3057\u3066\u304a\u304d\u307e\u3059\u3002","title":"\u304a\u3053\u3068\u308f\u308a"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_10","text":"\u4f7f\u7528\u3057\u305f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u4ed5\u69d8\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002 CPU Intel Pentium Gold G4500@3.5GHz Memory DDR4-2400 32GBGB (Dual Channel) SSD AGI 256G16AI198 256GB x2 (PCI-E 3.0 x4) HDD WDC WD60EZRZ 6TB x6 (5400rpm SATA) + ST10000VN0004 10TB x7 (7200rpm SATA) OS Windows 10 Pro for Workstations \u4e0b\u8a18\u306e\u56f3\u306e\u69d8\u306a\u69cb\u6210\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002 \u56f3: \u3067\u306f\u3001\u5b9f\u969b\u306bSSD:200GB + HDD:32TB \u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3059\u3002 # SSD\u968e\u5c64\u3092\u4f5c\u6210 $ SSDTier = New - StorageTier - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FriendlyName 'SSD\u968e\u5c64' - MediaType SSD - ResiliencySettingName Mirror - ProvisioningType Fixed # HDD\u968e\u5c64\u3092\u4f5c\u6210 NumberOfColumns\u306fHDD\u306e\u672c\u6570\u306b\u5408\u308f\u305b\u3066 '6' \u3092\u8a2d\u5b9a $ HDDTier = New - StorageTier - StoragePoolFriendlyName '\u8a18\u61b6\u57df\u30d7\u30fc\u30eb' - FriendlyName 'HDD\u968e\u5c64' - MediaType HDD - ResiliencySettingName Parity - ProvisioningType Fixed - NumberOfColumns 6 # \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210 \u30c9\u30e9\u30a4\u30d6\u30ec\u30bf\u30fc\u306f 'Z' \u3092\u5272\u5f53\u3066 New - Volume - FriendlyName 'Disk' - DriveLetter Z - FileSystem ReFS - WriteCacheSize 16 GB - StorageTiers $ SSDTier , $ HDDTier - StorageTierSizes 214748364800 , 35184372088832 # \u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0\u3092 ON Set - FileIntegrity Z : - Enable $ true","title":"\u30c7\u30a3\u30b9\u30af\u69cb\u7bc9"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_11","text":"\u3068\u308a\u3042\u3048\u305a\u3001\u30a8\u30e9\u30fc\u7121\u304f\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u6761\u4ef6\u3067\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u53d6\u3063\u3066\u307f\u307e\u3059\u3002 \u4f7f\u7528\u30bd\u30d5\u30c8: CrystalDiskMark 6.0.3 \u8a66\u884c\u56de\u6570: 5\u56de ReFS\u306e\u5834\u5408\u3001\u6574\u5408\u6027\u30b9\u30c8\u30ea\u30fc\u30e0ON WriteCache: 16GB table#benchmark_teble th { text-align: center; vertical-align: middle; } table#benchmark_teble td { text-align: center; vertical-align: middle; } table#benchmark_teble td.top { font-weight: bold; color: red; } table#benchmark_teble td.bottom { font-weight: bold; color: blue; } \u8a18\u61b6\u57df\u968e\u5c64 \u30d5\u30a1\u30a4\u30eb \u30b7\u30b9\u30c6\u30e0 Sequential Random (MB/s) Read Write Read Write \u306a\u3057 ReFS 850.4 54.64 5.11 24.63 NTFS 718.3 499.8 4.52 0.95 \u3042\u308a ReFS 520.5 780.2 3.49 84.6 NTFS 3192.1 734.1 258.8 96.40 \u30df\u30e9\u30fc\u968e\u5c64\u3068\u30d1\u30ea\u30c6\u30a3\u968e\u5c64\u306e\u4e21\u65b9\u3092\u542b\u3093\u3060\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3067\u3001NTFS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u306f\u4f5c\u6210\u3067\u304d\u306a\u3044\u306e\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4f5c\u6210\u3067\u304d\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002 \u7d50\u679c\u3068\u3057\u3066\u3001\u4e88\u671f\u3057\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u30e9\u30f3\u30c0\u30e0\u66f8\u304d\u8fbc\u307f\u3067\u4e00\u756a\u9ad8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306a\u306e\u306f\u300c\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305fNTFS\u300d\u306e\u30d1\u30bf\u30fc\u30f3\u3068\u306a\u308a\u307e\u3057\u305f\u3002","title":"\u30d9\u30f3\u30c1\u30de\u30fc\u30af"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_12","text":"\u66f8\u304d\u8fbc\u307f\u306b\u3064\u3044\u3066\u306f\u6709\u610f\u306a\u5dee\u304c\u898b\u3089\u308c\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305f\u65b9\u304c\u9ad8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u307e\u305f\u8aad\u307f\u8fbc\u307f\u306b\u3064\u3044\u3066\u306f\u3001\u8a18\u61b6\u57df\u968e\u5c64\u3092\u5229\u7528\u3057\u305fReFS\u304c\u4e00\u756a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u4f4e\u304f\u306a\u308a\u307e\u3057\u305f\u3002 \u3053\u308c\u306f\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u304c\u3001\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306e\u5229\u7528\u3092\u524d\u63d0\u3068\u3057\u3066\u304a\u308a\u3001 \u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u8aad\u307f\u8fbc\u307f\u30ad\u30e3\u30c3\u30b7\u30e5\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u6027\u80fd\u5411\u4e0a\u3055\u305b\u308b\u8a2d\u8a08\u306a\u306e\u304b\u3068\u601d\u3044\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u304a\u304d\u306a\u304c\u3089\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\u306f\u6b63\u5f0f\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f\u74b0\u5883\u3067\u306e\u6e2c\u5b9a\u3055\u308c\u305f\u3082\u306e\u3067\u306f\u306a\u3044\u305f\u3081\u300c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u9ad8\u901f\u5316\u3055\u308c\u305f\u30d1\u30ea\u30c6\u30a3\u300d\u304c\u6b63\u3057\u304f\u69cb\u7bc9\u3067\u304d\u305f\u7d50\u679c\u306a\u306e\u304b\u306f\u4e0d\u660e\u3067\u3059\u3002","title":"\u8003\u5bdf"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_13","text":"\u3061\u306a\u307f\u306b\u3001\u4e0b\u8a18\u3092\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001Not Supported\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 \u8a18\u61b6\u57df\u968e\u5c64\u4f5c\u6210\u6642\u306eProvisioningType\u3092Thin(\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0)\u306b\u8a2d\u5b9a \u6050\u3089\u304f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u601d\u3044\u307e\u3059\u3002 \u3082\u3057\u3001\u5b9f\u904b\u7528\u4e0a\u3067\u5bb9\u91cf\u306e\u62e1\u5f35\u304c\u5fc5\u8981\u3068\u306a\u3063\u305f\u5834\u5408\u306b\u306f\u3001\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u62e1\u5f35\u3068\u3044\u3046\u904b\u7528\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u4f5c\u6210\u6642\u306bReadCacheSize\u3092\u8a2d\u5b9a \u3053\u308c\u306f\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306a\u3044\u3068\u5229\u7528\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002","title":"\u4f59\u8ac7"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#_14","text":"\u904b\u7528\u4e2d\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5bb9\u91cf\u304c\u4e0d\u8db3\u3057\u305f\u5834\u5408\u3001\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u62e1\u5f35"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#1","text":"\u3042\u3089\u304b\u3058\u3081\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u306b\u4f59\u88d5\u3092\u3082\u3063\u3066\u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u30c7\u30a3\u30b9\u30af\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get - PhysicalDisk - CanPool $ true | Add - PhysicalDisk - StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb","title":"\u30d1\u30bf\u30fc\u30f31: \u30b7\u30f3\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#2","text":"\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u3001\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3057\u307e\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get - PhysicalDisk - CanPool $ true | Add - PhysicalDisk - StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb # \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u3092 4 TB\u306b\u62e1\u5f35 $ virtialDisk = Get - VirtualDisk \u4eee\u60f3\u30c7\u30a3\u30b9\u30af $ virtialDisk | Resize - VirtualDisk - Size 4 TB # \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35 $ partition = $ virtialDisk | Get - Disk | Get - Partition | Where - Object Type - eq Basic $ partition | Resize - Partition - Size ( $ partition | Get - PartitionSupportedSize ). SizeMax","title":"\u30d1\u30bf\u30fc\u30f32: \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u306a\u3044\u3001\u56fa\u5b9a\u30b5\u30a4\u30ba\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408"},{"location":"HomeServer/\u8a18\u61b6\u57df\u30b9\u30da\u30fc\u30b9/#3","text":"\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8ffd\u52a0\u5f8c\u3001\u5bfe\u8c61\u306e\u8a18\u61b6\u57df\u968e\u5c64\u306e\u30b5\u30a4\u30ba\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\u3057\u307e\u3059\u3002 # \u7269\u7406\u30c7\u30a3\u30b9\u30af\u3092\u8a18\u61b6\u57df\u30d7\u30fc\u30eb\u306b\u8ffd\u52a0 Get - PhysicalDisk - CanPool $ true | Add - PhysicalDisk - StoragePoolFriendlyName \u8a18\u61b6\u57df\u30d7\u30fc\u30eb # HDD\u968e\u5c64\u306e\u30b5\u30a4\u30ba\u309232TB\u306b\u62e1\u5f35 $ virtialDisk = Get - VirtualDisk \u4eee\u60f3\u30c7\u30a3\u30b9\u30af $ virtialDisk | Get - StorageTier - MediaType HDD | Resize - StorageTier - Size 32 TB # \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u3092\u62e1\u5f35 $ partition = $ virtialDisk | Get - Disk | Get - Partition | Where - Object Type - eq Basic $ partition | Resize - Partition - Size ( $ partition | Get - PartitionSupportedSize ). SizeMax","title":"\u30d1\u30bf\u30fc\u30f33: \u8a18\u61b6\u57df\u968e\u5c64\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408"},{"location":"Raspberry Pi/","text":"Raspberry Pi \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a Raspberry Pi4\u306e\u6709\u7ddaLAN\u63a5\u7d9a\u3001USB On the Go\u7d4c\u7531\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3001\u7121\u7ddaLAN AP\u5316\u3068 \u305d\u308c\u305e\u308c\u306e\u63a5\u7d9a\u512a\u5148\u5ea6\u8a2d\u5b9a Web Console Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u306e\u9ad8\u3044\u52d5\u753b\u914d\u4fe1\u304c\u53ef\u80fd\u306a\u6280\u8853\u3067\u3042\u308bWebRTC\u3068\u3001 Raspberry Pi\u306eCSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9(\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63a5\u7d9a\u3059\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9)\u30fcHDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305f Raspberry Pi\u306eWeb Console\u5316","title":"Raspberry Pi"},{"location":"Raspberry Pi/#raspberry-pi","text":"","title":"Raspberry Pi"},{"location":"Raspberry Pi/#_1","text":"Raspberry Pi4\u306e\u6709\u7ddaLAN\u63a5\u7d9a\u3001USB On the Go\u7d4c\u7531\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3001\u7121\u7ddaLAN AP\u5316\u3068 \u305d\u308c\u305e\u308c\u306e\u63a5\u7d9a\u512a\u5148\u5ea6\u8a2d\u5b9a","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a"},{"location":"Raspberry Pi/#web-console","text":"Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u306e\u9ad8\u3044\u52d5\u753b\u914d\u4fe1\u304c\u53ef\u80fd\u306a\u6280\u8853\u3067\u3042\u308bWebRTC\u3068\u3001 Raspberry Pi\u306eCSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9(\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63a5\u7d9a\u3059\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9)\u30fcHDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305f Raspberry Pi\u306eWeb Console\u5316","title":"Web Console"},{"location":"Raspberry Pi/Network/","text":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a \u74b0\u5883 \u30e2\u30c7\u30eb Raspberry Pi4 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Raspbian 10 Buster \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 eth0, usb0(USB-OTG), wlan0 \u63a5\u7d9a\u512a\u5148\u5ea6 \u6709\u7ddaLAN \u21d2 USB-LAN \u21d2 \u3069\u3061\u3089\u3082\u63a5\u7d9a\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u306e\u307f\u7121\u7ddaLAN AP\u3092\u8d77\u52d5 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306f\u4e0b\u8a18\u3068\u3059\u308b\u3002 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a eth0 DHCP\u3067IP\u30a2\u30c9\u30ec\u30b9/\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3092\u53d6\u5f97 usb0 1\u5bfe1\u63a5\u7d9a\u306e\u305f\u3081\u3001Raspberry Pi\u3092DHCP\u30b5\u30fc\u30d0\u3068\u3057\u3066\u6a5f\u80fd\u3055\u305b\u308b\u3002 Raspberry PI: 192.168.255.254/30 \u5bfe\u5411PC: 192.168.255.253/30 wlan0 1\u5bfe\u591a\u63a5\u7d9a\u3001Raspberry Pi\u3092DHCP\u30b5\u30fc\u30d0\u3068\u3057\u3066\u6a5f\u80fd\u3055\u305b\u308b\u3002 Raspberry PI: 192.168.253.1/24 \u7121\u7ddaLAN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8: 192.168.253.2\uff5e254/24 Systemd-networkd \u30c7\u30d5\u30a9\u30eb\u30c8\u306eDHCP Client daemon\u3092\u524a\u9664\u3057\u3066\u3001systemd-networkd\u3092\u6709\u52b9\u5316\u3059\u308b\u3002 dhcpcd\u3092\u524a\u9664 sudo apt purge dhcpcd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u914d\u7f6e mv eth . network usb0 . network wlan0 . network / etc / systemd / network / . eth.network usb0.network wlan0.network systemd-networkd, systemd-resolved\u3092\u6709\u52b9\u5316 sudo systemctl enable systemd - networkd sudo systemctl enable systemd - resolved USB on the Go\u306eEthernet\u30a2\u30c0\u30d7\u30bf\u6709\u52b9\u5316 \u4e0b\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092 /usr/local/bin \u306b\u914d\u7f6e init_usb_otg.sh \u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046systemd service\u30d5\u30a1\u30a4\u30eb\u3092 /etc/systemd/system \u306b\u914d\u7f6e usb_init.service usb_init\u3092\u6709\u52b9\u5316 systemd daemon - reload systemd enable usb_init Raspberry Pi\u306e\u7121\u7ddaLAN AP\u5316 networkd-dispatcher, hostapd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install hostapd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e mv hostapd . conf / etc / hostapd / . hostapd\u3092\u6709\u52b9\u5316 sudo systemctl unmask hostapd \u63a5\u7d9a\u512a\u5148\u5ea6\u306b\u3088\u308b\u7121\u7ddaLAN AP \u8d77\u52d5/\u505c\u6b62\u306e\u8a2d\u5b9a networkd-dispatcher, hostapd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install networkd - dispatcher \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e \u4ed6\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a(eth0,usb0)\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b(routable)\u5834\u5408\u306f\u7121\u7ddaLAN AP\u3092\u505c\u6b62\u3001 \u4ed6\u304c\u5207\u65ad\u3055\u308c\u305f\u5834\u5408\u306f\u7121\u7ddaLAN AP\u3092\u8d77\u52d5\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3002 mv stop_ap . sh / etc / networkd - dispatcher / routable . d / . mv start_ap . sh / etc / networkd - dispatcher / off . d / . stop_ap.sh start_ap.sh USB\u63a5\u7d9a\u6642\u306ePC\u5074\u30c9\u30e9\u30a4\u30d0 USB\u63a5\u7d9a\u3055\u308c\u305fRaspberry Pi\u306e\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u30dd\u30fc\u30c8 usb0 \u306f\u3001RNDIS(Remote Network Driver Interface Specification)\u3068\u547c\u3070\u308c\u308b\u898f\u683c\u306b\u5247\u3063\u305f\u3082\u306e\u3067\u3042\u308b\u305f\u3081\u3001Windows10\u3067\u3042\u308c\u3070\u5225\u9014\u30c9\u30e9\u30a4\u30d0\u3092\u6e96\u5099\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u3002 \u3057\u304b\u3057\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u60c5\u5831\u30d5\u30a1\u30a4\u30eb(INF)\u30d5\u30a1\u30a4\u30eb\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u63a5\u7d9a\u3057\u305f\u3060\u3051\u3067\u306f\u30c9\u30e9\u30a4\u30d0\u304c\u9069\u7528\u3055\u308c\u306a\u3044\u3002 \u305d\u306e\u305f\u3081\u3001\u521d\u56de\u63a5\u7d9a\u6642\u306b\u306f\u4e0b\u8a18\u306e\u624b\u9806\u3067\u30c9\u30e9\u30a4\u30d0\u3092\u9069\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u306a\u304a\u3001\u3053\u306e\u60c5\u5831\u306f2019/10\u6642\u70b9\u306e\u3082\u306e\u3067\u3042\u308a\u3001\u5c06\u6765\u7684\u306b\u306f\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u70b9\u3092\u4e8b\u524d\u306b\u65ad\u3063\u3066\u304a\u304f\u3002 \u30c7\u30d0\u30a4\u30b9\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u958b\u304f \u300cRNDIS\u300d\u3068\u3044\u3046\u30c7\u30d0\u30a4\u30b9\u306b\u8b66\u544a\u30a2\u30a4\u30b3\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3002\u3053\u308c\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u958b\u59cb \u300c\u30c9\u30e9\u30a4\u30d0\u306e\u66f4\u65b0\u300d\u30dc\u30bf\u30f3\u304b\u3089\u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u3092\u958b\u59cb\u3059\u308b\u3002 \u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u3092\u53c2\u7167\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u30fc\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u691c\u7d22\u300d\u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u4e0a\u306e\u5229\u7528\u53ef\u80fd\u306a\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u4e00\u89a7\u304b\u3089\u9078\u629e\u3057\u307e\u3059\u300d\u3068\u9806\u306b\u9078\u629e\u3057\u3066\u3044\u304f\u3002 \u30c9\u30e9\u30a4\u30d0\u7a2e\u5225\u306e\u9078\u629e \u7d9a\u3044\u3066\u3001\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u300d\u9078\u629e\u3057\u3066\u6b21\u3078 \u30c9\u30e9\u30a4\u30d0\u306e\u9078\u629e \u88fd\u9020\u5143\u306e\u4e00\u89a7\u304b\u3089\u300cMicrosoft\u300d\u3092\u9078\u629e\u3057\u3001\u3055\u3089\u306b\u300c\u30ea\u30e2\u30fc\u30c8NDIS\u4e92\u63db\u30c7\u30d0\u30a4\u30b9\u300d\u3092\u9078\u629e\u3057\u3066\u6b21\u3078 \u300c\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u66f4\u65b0\u8b66\u544a\u300d\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u304c\u3001\u7121\u8996\u3057\u3066\u300c\u306f\u3044\u300d\u3092\u9078\u629e \u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u5b8c\u4e86 \u300c\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u6b63\u5e38\u306b\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u300d\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u66f4\u65b0\u5b8c\u4e86\u3067\u3042\u308b","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a"},{"location":"Raspberry Pi/Network/#_1","text":"\u74b0\u5883 \u30e2\u30c7\u30eb Raspberry Pi4 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Raspbian 10 Buster \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 eth0, usb0(USB-OTG), wlan0 \u63a5\u7d9a\u512a\u5148\u5ea6 \u6709\u7ddaLAN \u21d2 USB-LAN \u21d2 \u3069\u3061\u3089\u3082\u63a5\u7d9a\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u306e\u307f\u7121\u7ddaLAN AP\u3092\u8d77\u52d5 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306f\u4e0b\u8a18\u3068\u3059\u308b\u3002 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a eth0 DHCP\u3067IP\u30a2\u30c9\u30ec\u30b9/\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3092\u53d6\u5f97 usb0 1\u5bfe1\u63a5\u7d9a\u306e\u305f\u3081\u3001Raspberry Pi\u3092DHCP\u30b5\u30fc\u30d0\u3068\u3057\u3066\u6a5f\u80fd\u3055\u305b\u308b\u3002 Raspberry PI: 192.168.255.254/30 \u5bfe\u5411PC: 192.168.255.253/30 wlan0 1\u5bfe\u591a\u63a5\u7d9a\u3001Raspberry Pi\u3092DHCP\u30b5\u30fc\u30d0\u3068\u3057\u3066\u6a5f\u80fd\u3055\u305b\u308b\u3002 Raspberry PI: 192.168.253.1/24 \u7121\u7ddaLAN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8: 192.168.253.2\uff5e254/24","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a"},{"location":"Raspberry Pi/Network/#systemd-networkd","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u306eDHCP Client daemon\u3092\u524a\u9664\u3057\u3066\u3001systemd-networkd\u3092\u6709\u52b9\u5316\u3059\u308b\u3002 dhcpcd\u3092\u524a\u9664 sudo apt purge dhcpcd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u914d\u7f6e mv eth . network usb0 . network wlan0 . network / etc / systemd / network / . eth.network usb0.network wlan0.network systemd-networkd, systemd-resolved\u3092\u6709\u52b9\u5316 sudo systemctl enable systemd - networkd sudo systemctl enable systemd - resolved","title":"Systemd-networkd"},{"location":"Raspberry Pi/Network/#usb-on-the-goethernet","text":"\u4e0b\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092 /usr/local/bin \u306b\u914d\u7f6e init_usb_otg.sh \u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046systemd service\u30d5\u30a1\u30a4\u30eb\u3092 /etc/systemd/system \u306b\u914d\u7f6e usb_init.service usb_init\u3092\u6709\u52b9\u5316 systemd daemon - reload systemd enable usb_init","title":"USB on the Go\u306eEthernet\u30a2\u30c0\u30d7\u30bf\u6709\u52b9\u5316"},{"location":"Raspberry Pi/Network/#raspberry-pilan-ap","text":"networkd-dispatcher, hostapd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install hostapd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e mv hostapd . conf / etc / hostapd / . hostapd\u3092\u6709\u52b9\u5316 sudo systemctl unmask hostapd","title":"Raspberry Pi\u306e\u7121\u7ddaLAN AP\u5316"},{"location":"Raspberry Pi/Network/#lan-ap","text":"networkd-dispatcher, hostapd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install networkd - dispatcher \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e \u4ed6\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a(eth0,usb0)\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b(routable)\u5834\u5408\u306f\u7121\u7ddaLAN AP\u3092\u505c\u6b62\u3001 \u4ed6\u304c\u5207\u65ad\u3055\u308c\u305f\u5834\u5408\u306f\u7121\u7ddaLAN AP\u3092\u8d77\u52d5\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3002 mv stop_ap . sh / etc / networkd - dispatcher / routable . d / . mv start_ap . sh / etc / networkd - dispatcher / off . d / . stop_ap.sh start_ap.sh","title":"\u63a5\u7d9a\u512a\u5148\u5ea6\u306b\u3088\u308b\u7121\u7ddaLAN AP \u8d77\u52d5/\u505c\u6b62\u306e\u8a2d\u5b9a"},{"location":"Raspberry Pi/Network/#usbpc","text":"USB\u63a5\u7d9a\u3055\u308c\u305fRaspberry Pi\u306e\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u30dd\u30fc\u30c8 usb0 \u306f\u3001RNDIS(Remote Network Driver Interface Specification)\u3068\u547c\u3070\u308c\u308b\u898f\u683c\u306b\u5247\u3063\u305f\u3082\u306e\u3067\u3042\u308b\u305f\u3081\u3001Windows10\u3067\u3042\u308c\u3070\u5225\u9014\u30c9\u30e9\u30a4\u30d0\u3092\u6e96\u5099\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u3002 \u3057\u304b\u3057\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u60c5\u5831\u30d5\u30a1\u30a4\u30eb(INF)\u30d5\u30a1\u30a4\u30eb\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u63a5\u7d9a\u3057\u305f\u3060\u3051\u3067\u306f\u30c9\u30e9\u30a4\u30d0\u304c\u9069\u7528\u3055\u308c\u306a\u3044\u3002 \u305d\u306e\u305f\u3081\u3001\u521d\u56de\u63a5\u7d9a\u6642\u306b\u306f\u4e0b\u8a18\u306e\u624b\u9806\u3067\u30c9\u30e9\u30a4\u30d0\u3092\u9069\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u306a\u304a\u3001\u3053\u306e\u60c5\u5831\u306f2019/10\u6642\u70b9\u306e\u3082\u306e\u3067\u3042\u308a\u3001\u5c06\u6765\u7684\u306b\u306f\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u70b9\u3092\u4e8b\u524d\u306b\u65ad\u3063\u3066\u304a\u304f\u3002 \u30c7\u30d0\u30a4\u30b9\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u958b\u304f \u300cRNDIS\u300d\u3068\u3044\u3046\u30c7\u30d0\u30a4\u30b9\u306b\u8b66\u544a\u30a2\u30a4\u30b3\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3002\u3053\u308c\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u958b\u59cb \u300c\u30c9\u30e9\u30a4\u30d0\u306e\u66f4\u65b0\u300d\u30dc\u30bf\u30f3\u304b\u3089\u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u3092\u958b\u59cb\u3059\u308b\u3002 \u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u3092\u53c2\u7167\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u30fc\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u691c\u7d22\u300d\u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u4e0a\u306e\u5229\u7528\u53ef\u80fd\u306a\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u4e00\u89a7\u304b\u3089\u9078\u629e\u3057\u307e\u3059\u300d\u3068\u9806\u306b\u9078\u629e\u3057\u3066\u3044\u304f\u3002 \u30c9\u30e9\u30a4\u30d0\u7a2e\u5225\u306e\u9078\u629e \u7d9a\u3044\u3066\u3001\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u30fc\u300d\u9078\u629e\u3057\u3066\u6b21\u3078 \u30c9\u30e9\u30a4\u30d0\u306e\u9078\u629e \u88fd\u9020\u5143\u306e\u4e00\u89a7\u304b\u3089\u300cMicrosoft\u300d\u3092\u9078\u629e\u3057\u3001\u3055\u3089\u306b\u300c\u30ea\u30e2\u30fc\u30c8NDIS\u4e92\u63db\u30c7\u30d0\u30a4\u30b9\u300d\u3092\u9078\u629e\u3057\u3066\u6b21\u3078 \u300c\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u66f4\u65b0\u8b66\u544a\u300d\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u304c\u3001\u7121\u8996\u3057\u3066\u300c\u306f\u3044\u300d\u3092\u9078\u629e \u30c9\u30e9\u30a4\u30d0\u66f4\u65b0\u5b8c\u4e86 \u300c\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u6b63\u5e38\u306b\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u300d\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u66f4\u65b0\u5b8c\u4e86\u3067\u3042\u308b","title":"USB\u63a5\u7d9a\u6642\u306ePC\u5074\u30c9\u30e9\u30a4\u30d0"},{"location":"Raspberry Pi/WebConsole/","text":"Web Console \u6982\u8981 Raspberry Pi\u3068PC\u3092\u63a5\u7d9a\u3057\u30d6\u30e9\u30a6\u30b6\u304b\u3089Raspberry Pi\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067 Web\u753b\u9762\u304b\u3089\u3001\u3042\u305f\u304b\u3082\u76f4\u63a5PC\u3092\u64cd\u4f5c\u3057\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306a\u74b0\u5883\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u74b0\u5883 \u30e2\u30c7\u30eb Raspberry Pi4 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Raspbian 10 Buster \u5b9f\u73fe\u306b\u5fc5\u8981\u306a\u6a5f\u80fd PC\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3068\u3057\u3066\u300c\u30e2\u30cb\u30bf\u30fc\u300d\u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u304c\u3001 \u52a0\u3048\u3066GUI\u3067\u64cd\u4f5c\u3059\u308b\u306b\u306f\u300c\u30de\u30a6\u30b9\u300d\u3082\u5fc5\u8981\u3067\u3059\u3002 Web Console\u3067\u306fRaspberry Pi\u3092\u7528\u3044\u3066\u3001\u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u300c\u30de\u30a6\u30b9\u300d\u300c\u30e2\u30cb\u30bf\u30fc\u300d\u306e3\u3064\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u5165\u51fa\u529b\u64cd\u4f5c\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u6a5f\u80fd \u8981\u4ef6 \u65b9\u6cd5 \u5229\u7528\u3057\u305f \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u300c\u30de\u30a6\u30b9\u300d \u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30d6\u30e9\u30a6\u30b6\u304b\u3089Raspberry Pi\u3078\u306e\u30ad\u30fc\u30fb\u30de\u30a6\u30b9\u5165\u529b Web\u30d6\u30e9\u30a6\u30b6\u3068WebSocket Node.js\u3092\u7528\u3044\u305f \u81ea\u4f5c\u30a2\u30d7\u30ea Raspberry Pi\u304b\u3089PC\u3078\u306e\u30ad\u30fc\u30fb\u30de\u30a6\u30b9\u64cd\u4f5c\u518d\u73fe USB On-the-Go\u3092\u7528\u3044\u305f USB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 Linux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb(libcomposite) \u300c\u30e2\u30cb\u30bf\u30fc\u300d \u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 PC\u304b\u3089 Raspberry Pi\u3078\u306e\u6620\u50cf\u5165\u529b CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305fHDMI\u5165\u529b Video4Linux\u30c9\u30e9\u30a4\u30d0 Raspberry Pi\u304b\u3089 \u30d6\u30e9\u30a6\u30b6\u3078\u306e\u753b\u9762\u8868\u793a Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1 WebRTC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \"Momo\" \u63a5\u7d9a\u65b9\u6cd5 figure#raspi_fig { display:table; table-layout:fixed; } figure#raspi_fig div { display:table-cell; vertical-align:middle; } figure#raspi_fig div#hdmi { text-align:right; } figure#raspi_fig div#lan { text-align:left; } figure#raspi_fig figcaption { text-align:center; } HDMI\u30b1\u30fc\u30d6\u30eb\u2192 (PC\u306b\u63a5\u7d9a) USB Type-C\u2192 Raspberry Pi\u3068CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8 \u2190LAN\u30b1\u30fc\u30d6\u30eb \u82e6\u52b4\u3057\u305f\u70b9 \u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u306e\u4f5c\u6210 \u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u30c7\u30d0\u30a4\u30b9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306bUSB HID\u30c7\u30d0\u30a4\u30b9\u306e\u6a5f\u80fd\u306b\u5fdc\u3058\u305f\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf 1 \u306e\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3059\u3002 \u7c21\u5358\u306a3\u30dc\u30bf\u30f3\u30de\u30a6\u30b9\u3067\u3042\u308c\u3070\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306b\u4f8b\u304c\u3044\u304f\u3064\u304b\u898b\u3064\u304b\u308b\u306e\u3067\u3059\u304c\u3001\u300c\u6a2a\u30b9\u30af\u30ed\u30fc\u30eb\u300d\u300c\u6307\u5b9a\u5ea7\u6a19\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u306e\u79fb\u52d5\u300d\u306a\u3069\u3092\u5b9f\u73fe\u305f\u3081\u306b\u306f\u81ea\u8eab\u3067\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002 WebRTC\u3067\u306e\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u753b\u9762\u8868\u793a WebRTC\u306f\u69d8\u3005\u306a\u7528\u9014\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u305f\u3081\u304b\u3001\u3068\u306b\u304b\u304f\u4ed5\u69d8\u304c\u8907\u96d1 2 \u3067\u3059\u3002\u307e\u305f\u3001Web\u30d6\u30e9\u30a6\u30b6\u306e\u5916\u3067\u5b9f\u88c5\u3057\u3088\u3046\u3068\u306a\u308b\u3068\u6570\u5343\u884c\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u81ea\u4f5c\u3059\u308b\u30cf\u30e1\u306b\u306a\u308a\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u904b\u826f\u304f\u6280\u8853\u66f8\u51787\u306b\u30b5\u30fc\u30af\u30eb\u53c2\u52a0\u3055\u308c\u3066\u3044\u305f \u3067\u3093\u3067\u3093\u3089\u307c \u3055\u3093\u306e\u540c\u4eba\u8a8c\u3001 WebRTC\u3092\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u5916\u3066\u3099\u4f7f\u3063\u3066\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u3066\u3099\u3066\u3099\u304d\u308b\u3053\u3068\u3092\u5897\u3084\u3057\u3066\u307f\u307e\u305b\u3093\u304b? \u3092\u62dd\u8aad\u3057\u305f\u3053\u3068\u3067\u3001\u554f\u984c\u306f\u4e00\u6c17\u306b\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002 \u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 WebSocket\u3092\u7528\u3044\u305fNode.js\u30a2\u30d7\u30ea \u30d6\u30e9\u30a6\u30b6\u3078\u306e\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u3092Raspberry Pi\u3067\u53d7\u3051\u53d6\u308b\u305f\u3081\u306eNode.js\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u81ea\u4f5c\u3057\u307e\u3057\u305f\u3002 roy-n-roy/raspi_web_console - GitHub Node.js\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308b\u3001Socket.io\u3068Express\u3092\u7528\u3044\u305f\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002 RaspberryPi + HIMI to CSI\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u3002 \u753b\u9762\u914d\u4fe1WebRTC Client Momo + Ayame https://t.co/jppnHJbOMo https://t.co/epCejhbD6l RasPi\u306eUSB OTG\u3067USB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u3066NodeJS\u30a2\u30d7\u30ea\u7d4c\u7531\u3067\u5165\u529b https://t.co/R2XYDsmCjt pic.twitter.com/cWGUsMslxM \u2014 \u2606Roy.\u2605 (@Roy_n_roy) September 25, 2019 \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092WebSocket\u3092\u901a\u3057\u3066\u53d7\u3051\u53d6\u308a\u30015\u7a2e\u985e\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u30a4\u30d9\u30f3\u30c8 \u51e6\u7406 \u51fa\u529b \u753b\u9762\u30ed\u30fc\u30c9\u6642 WebSocket\u63a5\u7d9a\u3092\u78ba\u7acb \u306a\u3057 WebRTC\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0 \u30b5\u30fc\u30d0\u3078\u306eWebSocket\u63a5\u7d9a\u6642 \u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0\u3078\u306e WebSocket\u63a5\u7d9a\u3092Proxy \u306a\u3057 keydown \u30a4\u30d9\u30f3\u30c8 , keyup \u30a4\u30d9\u30f3\u30c8 \u30d6\u30e9\u30a6\u30b6\u306e\u30ad\u30fc\u30b3\u30fc\u30c9\u304b\u3089 USB HID\u30ad\u30fc\u30b3\u30fc\u30c9 3 \u306b\u5909\u63db \u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f mousedown \u30a4\u30d9\u30f3\u30c8 , mouseup \u30a4\u30d9\u30f3\u30c8 , mousemove \u30a4\u30d9\u30f3\u30c8 \u7279\u306b\u306a\u3057 \u30de\u30a6\u30b9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f mouseenter \u30a4\u30d9\u30f3\u30c8 \u30de\u30a6\u30b9\u304c\u753b\u9762\u5185\u306b\u5165\u3063\u305f\u6642\u306e \u7d76\u5bfe\u4f4d\u7f6e\u3092\u53d6\u5f97 \u30c7\u30b8\u30bf\u30a4\u30b6\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f \u7279\u306b\u91cd\u8981\u306a\u306e\u304c5\u756a\u76ee\u306emouseenter \u30a4\u30d9\u30f3\u30c8\u3067\u306e\u51e6\u7406\u3067\u3001\u3053\u306e\u51e6\u7406\u304c\u7121\u3044\u3068 \u300c\u30d6\u30e9\u30a6\u30b6\u4e0a\u306e\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u300d\u3068\u300c\u63a5\u7d9a\u5148PC\u4e0a\u306e\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u300d\u306b\u30ba\u30ec\u304c\u751f\u3058\u3066 \u3057\u307e\u3044\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001 \u30de\u30a6\u30b9\u3068\u30c7\u30b8\u30bf\u30a4\u30b6\u3092\u5408\u4f53\u3055\u305b\u305f\u30c7\u30d0\u30a4\u30b9 \u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3001 \u30d6\u30e9\u30a6\u30b6\u306e\u5916\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u306e\u753b\u9762\u5185\u306b\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u304c\u5165\u3063\u3066\u304d\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u30e2\u30cb\u30bf\u4e0a\u306e\u7d76\u5bfe\u4f4d\u7f6e\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30d0\u30a4\u30b9\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002 \u306a\u304a\u3001\u30c7\u30b8\u30bf\u30a4\u30b6\u3068\u306f\u30da\u30f3\u30bf\u30d6\u30ec\u30c3\u30c8\u306a\u3069\u306e\u3088\u3046\u306a\u3001\u30ab\u30fc\u30bd\u30eb\u306e\u7d76\u5bfe\u4f4d\u7f6e\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u306e\u3053\u3068\u3092\u3044\u3044\u307e\u3059\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Node.js\u3068\u81ea\u4f5c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 # nodesource\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6700\u65b0\u306eNode.js\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash - sudo apt install -y nodejs # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -L -O https://github.com/roy-n-roy/raspi_web_console/archive/master.zip unzip master.zip cd raspi_web_console-master sudo bash ./setup.sh Raspberry Pi Zero\u306e\u5834\u5408 # Raspbian\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089Node.js\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install -y nodejs npm # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -L -O https://github.com/roy-n-roy/raspi_web_console/archive/master.zip unzip master.zip cd raspi_web_console-master sudo bash ./setup.sh USB On-the-Go\u6a5f\u80fd\u3092\u7528\u3044\u305fUSB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 USB On-the-Go\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u3001Raspbian(Linux)\u306e\u8d77\u52d5\u6642\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u308c\u3089\u306e\u8a2d\u5b9a\u306f\u524d\u8ff0\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u5408\u308f\u305b\u3066\u5b9f\u884c\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u8d77\u52d5\u30d1\u30e9\u30e1\u30fc\u30bf\u306bLinux Device Tree Overlay \"dwc2\" USB\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30c9\u30e9\u30a4\u30d0\u3092\u8a2d\u5b9a /boot/config.txt dtoverlay = dwc2 \u8d77\u52d5\u6642\u306bLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb \"dwc2\" \u3068 \"libcomposite\" 4 \u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u8a2d\u5b9a echo \"dwc2\" >> /etc/modules echo \"libcomposite\" >> /etc/modules reboot libcomposite \u3067USB\u30c7\u30d0\u30a4\u30b9\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a \u30c7\u30d0\u30a4\u30b9\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf/\u30b3\u30f3\u30d5\u30a3\u30b0\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf/\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3068\u547c\u3070\u308c\u308b\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a2d\u5b9a\u7528\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u81ea\u4f5c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3042\u308f\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 init_usb.sh \u5b9f\u884c\u3059\u308b\u3068\u3001 /dev/hidg0 (\u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30bf), /dev/hidg1 (\u30de\u30a6\u30b9\u30fb\u30c7\u30b8\u30bf\u30a4\u30b6\u30a8\u30df\u30e5\u30ec\u30fc\u30bf)\u3068\u3044\u3046\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u3048\u3066\u304d\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u3068\u3001\u63a5\u7d9a\u5148\u306ePC\u3067\u30ad\u30fc\u30dc\u30fc\u30c9\u3084\u30de\u30a6\u30b9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002 USB \u30c7\u30d0\u30a4\u30b9/\u30b3\u30f3\u30d5\u30a3\u30b0/\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u306e\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8 init_usb.sh #!/bin/bash -e USE_ETHER = false # RNDIS Ethernet Adapter USE_SERIAL = false # Serial port USE_KEYBOARD = true # HID Keyboard USE_MOUSE = true # HID Mouse & Digitizer LANG = \"0x409\" # language code: 0x409=ENGLISH_US CONFIGFS = \"/sys/kernel/config/usb_gadget/\" GADGET_NAME = \"gadget\" if [[ $EUID -ne 0 ]] ; then echo \"This script must be run as root\" exit 1 fi # libcomposite\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u30ed\u30fc\u30c9 if [ ! -d $CONFIGFS ] ; then modprobe libcomposite fi # Enter ConfigFS cd $CONFIGFS # Stopping getty GS_SERVICE_NAME = ` systemctl list-units -t service --state = running | grep -i getty@ttygs | cut -d ' ' -f1 ` || true if [ -n \" $GS_SERVICE_NAME \" ] ; then systemctl stop $GS_SERVICE_NAME if lsmod | grep g_serial ; then rmmod g_serial fi fi # \u65e2\u5b58\u8a2d\u5b9a\u3092\u30af\u30ea\u30a2 find ./ $GADGET_NAME /configs/*/* -maxdepth 0 -type l -exec rm {} \\; & > /dev/null || true find ./ $GADGET_NAME /configs/*/strings/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /os_desc/* -maxdepth 0 -type l -exec rm {} \\; & > /dev/null || true find ./ $GADGET_NAME /functions/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /strings/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /configs/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true rmdir ./ $GADGET_NAME & > /dev/null || true mkdir ./ $GADGET_NAME && cd ./ $GADGET_NAME ### Device Descriptor\u306e\u8a2d\u5b9a # VendorID echo 0x1d6b > ./idVendor # Linux Foundation # USB HID Specification Release echo 0x0200 > ./bcdUSB # USB2 # USB Class code echo 0xEF > ./bDeviceClass # Miscellaneous Device Class # USB SubClass code echo 0x02 > ./bDeviceSubClass # Common # USB Protocol code echo 0x01 > ./bDeviceProtocol # Interface Association Descriptor # ProductID (assigned by manufacturer) echo 0x0001 > ./idProduct # Device release number(assigned by manufacturer) echo 0x0100 > ./bcdDevice # v1.0.0 mkdir -p strings/ $LANG echo \"fedcba9876543210\" > ./strings/ $LANG /serialnumber # \u9069\u5f53\u306b\u8a2d\u5b9a echo \"Raspberry Pi\" > ./strings/ $LANG /manufacturer echo \"Generic USB Composite Device\" > ./strings/ $LANG /product ### Configuration Descriptor\u306e\u8a2d\u5b9a mkdir -p ./configs/c.1/strings/ $LANG echo 1500 > ./configs/c.1/MaxPower # 1500*2mA= 3.0A echo \"Config 1: ECM network\" > ./configs/c.1/strings/ $LANG /configuration ### Report Descriptor\u5b9a\u7fa9 # Keyboard Report Descriptor # (Modifier keys + 6 simultaneous Keys -> 8 Bytes) KEYBD_REPT = \"\" KEYBD_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) KEYBD_REPT += \"0906\" # USAGE (Keyboard) KEYBD_REPT += \"A101\" # COLLECTION (Application) KEYBD_REPT += \"0507\" # USAGE_PAGE (Keyboard) KEYBD_REPT += \"19E0\" # USAGE_MINIMUM (Keyboard LeftControl) KEYBD_REPT += \"29E7\" # USAGE_MAXIMUM (Keyboard Right GUI) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"2501\" # LOGICAL_MAXIMUM (1) KEYBD_REPT += \"7501\" # REPORT_SIZE (1) KEYBD_REPT += \"9508\" # REPORT_COUNT (8) KEYBD_REPT += \"8102\" # INPUT (Data,Var,Abs) KEYBD_REPT += \"7508\" # REPORT_SIZE (8) KEYBD_REPT += \"9501\" # REPORT_COUNT (1) KEYBD_REPT += \"8103\" # INPUT (Cnst,Var,Abs) KEYBD_REPT += \"1900\" # USAGE_MINIMUM (Reserved (no event indicated)) KEYBD_REPT += \"299F\" # USAGE_MAXIMUM (Keyboard Separator) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"259F\" # LOGICAL_MAXIMUM (175) KEYBD_REPT += \"7508\" # REPORT_SIZE (8) KEYBD_REPT += \"9506\" # REPORT_COUNT (6) KEYBD_REPT += \"8100\" # INPUT (Data,Ary,Abs) KEYBD_REPT += \"0508\" # USAGE_PAGE (LEDs) KEYBD_REPT += \"1901\" # USAGE_MINIMUM (Num Lock) KEYBD_REPT += \"2905\" # USAGE_MAXIMUM (Kana) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"2501\" # LOGICAL_MAXIMUM (1) KEYBD_REPT += \"7501\" # REPORT_SIZE (1) KEYBD_REPT += \"9505\" # REPORT_COUNT (5) KEYBD_REPT += \"9102\" # OUTPUT (Data,Var,Abs) KEYBD_REPT += \"7503\" # REPORT_SIZE (3) KEYBD_REPT += \"9501\" # REPORT_COUNT (1) KEYBD_REPT += \"9103\" # OUTPUT (Cnst,Var,Abs) KEYBD_REPT += \"C0\" # END_COLLECTION # Mouse and Digitizer Report Descriptor # (report_id=1, 5 Buttons, X, Y, Wheel, AC Pan -> 1byte + 1byte + 4*2 Bytes) # (report_id=2, 5 Buttons, X, Y, padding*2 -> 1byte + 1byte + 4*2 Bytes) MOUSE_REPT = \"\" # \u30de\u30a6\u30b9\u90e8\u5206 MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"0902\" # USAGE (Mouse) MOUSE_REPT += \"A101\" # COLLECTION (Application) MOUSE_REPT += \"0901\" # USAGE (Pointer) MOUSE_REPT += \"A100\" # COLLECTION (Physical) MOUSE_REPT += \"8501\" # REPORT_ID (1) MOUSE_REPT += \"0509\" # USAGE_PAGE (Button) MOUSE_REPT += \"1901\" # USAGE_MINIMUM (Button 1) MOUSE_REPT += \"2905\" # USAGE_MAXIMUM (Button 5) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"2501\" # LOGICAL_MAXIMUM (1) MOUSE_REPT += \"7501\" # REPORT_SIZE (1) MOUSE_REPT += \"9505\" # REPORT_COUNT (5) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7503\" # REPORT_SIZE (3) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"0930\" # USAGE (X) MOUSE_REPT += \"0931\" # USAGE (Y) MOUSE_REPT += \"0938\" # USAGE (Wheel) MOUSE_REPT += \"160180\" # LOGICAL_MINIMUM (-32767) MOUSE_REPT += \"26FF7F\" # LOGICAL_MAXIMUM (32767) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9503\" # REPORT_COUNT (3) MOUSE_REPT += \"8106\" # INPUT (Data,Var,Rel) MOUSE_REPT += \"050C\" # USAGE_PAGE (Consumer Devices) MOUSE_REPT += \"0A3802\" # USAGE (AC Pan) MOUSE_REPT += \"160180\" # LOGICAL_MINIMUM (-32767) MOUSE_REPT += \"26FF7F\" # LOGICAL_MAXIMUM (32767) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8106\" # INPUT (Data,Var,Rel) MOUSE_REPT += \"C0\" # END_COLLECTION MOUSE_REPT += \"C0\" # END_COLLECTION # \u30c7\u30b8\u30bf\u30a4\u30b6\u90e8\u5206 MOUSE_REPT += \"050D\" # USAGE_PAGE (Digitizers) MOUSE_REPT += \"0902\" # USAGE (Pen) MOUSE_REPT += \"A101\" # COLLECTION (Application) MOUSE_REPT += \"8502\" # REPORT_ID (2) MOUSE_REPT += \"0920\" # USAGE (Stylus) MOUSE_REPT += \"A100\" # COLLECTION (Physical) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"2501\" # LOGICAL_MAXIMUM (1) MOUSE_REPT += \"0942\" # USAGE (Tip Switch) MOUSE_REPT += \"0944\" # USAGE (Barrel Switch) MOUSE_REPT += \"093C\" # USAGE (Invert) MOUSE_REPT += \"0945\" # USAGE (Eraser Switch) MOUSE_REPT += \"0932\" # USAGE (In Range) MOUSE_REPT += \"7501\" # REPORT_SIZE (1) MOUSE_REPT += \"9505\" # REPORT_COUNT (5) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7503\" # REPORT_SIZE (3) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"5500\" # UNIT_EXPONENT (0) MOUSE_REPT += \"6513\" # UNIT (Inch,EngLinear) MOUSE_REPT += \"3500\" # PHYSICAL_MINIMUM (0) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"0930\" # USAGE (X) MOUSE_REPT += \"460005\" # PHYSICAL_MAXIMUM (1280) MOUSE_REPT += \"260005\" # LOGICAL_MAXIMUM (1280) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"0931\" # USAGE (Y) MOUSE_REPT += \"46D002\" # PHYSICAL_MAXIMUM (720) MOUSE_REPT += \"26D002\" # LOGICAL_MAXIMUM (720) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7520\" # REPORT_SIZE (32) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"C0\" # END_COLLECTION MOUSE_REPT += \"C0\" # END_COLLECTION if [ -n \"\" $( cat ./UDC ) \"\" ] ; then echo > ./UDC ; fi N = 0 ### Report Descriptor\u306e\u8a2d\u5b9a # RNDIS Ethernet Adapter if \" $USE_ETHER \" ; then # OS descriptors # https://msdn.microsoft.com/en-us/library/hh881271.aspx # WIndows extensions to force config echo 1 > ./os_desc/use echo 0xcd > ./os_desc/b_vendor_code echo MSFT100 > ./os_desc/qw_sign mkdir -p functions/rndis.usb $N SERIAL = \" $( grep Serial /proc/cpuinfo | sed 's/Serial\\s*: 0000\\(\\w*\\)/\\1/' ) \" MAC = \" $( echo ${ SERIAL } | sed 's/\\(\\w\\w\\)/:\\1/g' | cut -b 2 - ) \" MAC_HOST = \"12 $( echo ${ MAC } | cut -b 3 - ) \" MAC_DEV = \"02 $( echo ${ MAC } | cut -b 3 - ) \" # https://msdn.microsoft.com/en-us/windows/hardware/gg463179.aspx echo RNDIS > ./functions/rndis.usb $N /os_desc/interface.rndis/compatible_id echo 5162001 > ./functions/rndis.usb $N /os_desc/interface.rndis/sub_compatible_id echo $MAC_HOST > ./functions/rndis.usb $N /host_addr echo $MAC_DEV > ./functions/rndis.usb $N /dev_addr ln -s ./functions/rndis.usb $(( N++ )) configs/c.1 ln -s ./configs/c.1 os_desc fi # Serial port if \" $USE_SERIAL \" ; then mkdir -p functions/acm.usb $N ln -s functions/acm.usb $(( N++ )) configs/c.1/ fi # Keyboard if \" $USE_KEYBOARD \" ; then mkdir -p ./functions/hid.usb $N echo 1 > ./functions/hid.usb $N /subclass # Boot Device echo 1 > ./functions/hid.usb $N /protocol # Keyboard echo 8 > ./functions/hid.usb $N /report_length # Report length: 8bytes echo $KEYBD_REPT | xxd -r -ps > ./functions/hid.usb $N /report_desc ln -s functions/hid.usb $(( N++ )) configs/c.1/ fi # Mouse if \" $USE_MOUSE \" ; then mkdir -p ./functions/hid.usb $N echo 0 > ./functions/hid.usb $N /subclass # No Subclass echo 0 > ./functions/hid.usb $N /protocol # None echo 10 > ./functions/hid.usb $N /report_length # Report length: 10bytes echo $MOUSE_REPT | xxd -r -ps > ./functions/hid.usb $N /report_desc ln -s ./functions/hid.usb $(( N++ )) configs/c.1/ fi ls /sys/class/udc > ./UDC # Starting getty if [ -n \" $GS_SERVICE_NAME \" ] ; then systemctl start $GS_SERVICE_NAME fi USB\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30d0\u30a4\u30b9\u306e\u5165\u529b\u30c7\u30fc\u30bf\u69cb\u9020 \u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30ad\u30fc\u30dc\u30fc\u30c9\u30c7\u30d0\u30a4\u30b9 /dev/hidg0 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee \u53f3Win \u53f3Alt \u53f3Shift \u53f3Ctrl \u5de6Win \u5de6Alt \u5de6Shift \u5de6Ctrl 1\u30d0\u30a4\u30c8\u76ee (Zero Padding) 2\u30d0\u30a4\u30c8\u76ee 1\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 3\u30d0\u30a4\u30c8\u76ee 2\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 4\u30d0\u30a4\u30c8\u76ee 3\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 5\u30d0\u30a4\u30c8\u76ee 4\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 6\u30d0\u30a4\u30c8\u76ee 5\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 7\u30d0\u30a4\u30c8\u76ee 6\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 \u30de\u30a6\u30b9\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30de\u30a6\u30b9/\u30c7\u30b8\u30bf\u30a4\u30b6\u30c7\u30d0\u30a4\u30b9 /dev/hidg1 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30de\u30a6\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u30010\u30d0\u30a4\u30c8\u76ee\u306b\u30ec\u30dd\u30fc\u30c8ID = 0x01 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u5404\u6570\u5024\u306f\u7bc4\u56f2 -32,767 \uff5e 32,767 \u306e2\u30d0\u30a4\u30c8\u6570\u5024(signed int16)\u3067\u5165\u529b\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee Report ID = 0x01 1\u30d0\u30a4\u30c8\u76ee (5 bits Zero Padding) Button3 Button2 Button1 2\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 3\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 4\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 5\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 6\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 7\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 8\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 9\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) \u30c7\u30b8\u30bf\u30a4\u30b6\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30de\u30a6\u30b9/\u30c7\u30b8\u30bf\u30a4\u30b6\u30c7\u30d0\u30a4\u30b9 /dev/hidg1 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30c7\u30b8\u30bf\u30a4\u30b6\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u30010\u30d0\u30a4\u30c8\u76ee\u306b\u30ec\u30dd\u30fc\u30c8ID = 0x02 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee Report ID = 0x02 1\u30d0\u30a4\u30c8\u76ee (3 bits Zero Padding) InRange EraserSw Invert BarrelSw TipSw 2\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 3\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 4\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 5\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 6\u30d0\u30a4\u30c8\u76ee (Zero Padding) 7\u30d0\u30a4\u30c8\u76ee (Zero Padding) 8\u30d0\u30a4\u30c8\u76ee (Zero Padding) 9\u30d0\u30a4\u30c8\u76ee (Zero Padding) \u307e\u305f\u30011\u30d0\u30a4\u30c8\u76ee\u306f(\u4eca\u56de\u306e\u7528\u9014\u3067\u306f)\u5e38\u306b\u4e0b\u8a18\u306e\u69d8\u306b\u5165\u529b\u3057\u307e\u3059\u3002 bit \u5024 \u7528\u9014 (Padding) 0 (Padding) 0 (Padding) 0 InRange 1 \u30ab\u30fc\u30bd\u30eb\u304c\u30c7\u30b8\u30bf\u30a4\u30b6\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u793a\u3059 Eraser Switch 0 \u6d88\u3057\u30b4\u30e0\u30b9\u30a4\u30c3\u30c1\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 Invert 0 \u30da\u30f3\u306e\u53cd\u5bfe\u5074\u306e\u7aef(\u30b7\u30e3\u30fc\u30da\u30f3\u306e\u6d88\u3057\u30b4\u30e0\u306e\u65b9)\u304c \u30c7\u30b8\u30bf\u30a4\u30b6\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u793a\u3059 Barrel Switch 0 \u30d0\u30ec\u30eb\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 Tip Switch 0 \u30da\u30f3\u304c\u30c7\u30b8\u30bf\u30a4\u30b6\u306e\u8868\u9762\u306b\u89e6\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 \u7d76\u5bfe\u4f4d\u7f6e\u306f\u3001\u753b\u9762\u5de6\u4e0a\u306e\u5ea7\u6a19\u3092 X=0, Y=0 \u3068\u3057\u3001\u753b\u9762\u53f3\u4e0b\u306e\u5ea7\u6a19\u3092 X=1280, Y=720 \u3068\u3057\u3066\u5165\u529b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306e\u6700\u5927\u5ea7\u6a19\u306f\u3001\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u5185\u306e USAGE (X) , USAGE (Y) \u306e\u76f4\u5f8c\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b LOGICAL_MAXIMUM (1280) , LOGICAL_MAXIMUM (720) \u3067\u3059\u3002 \u30e2\u30cb\u30bf\u30fc\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305fHDMI\u5165\u529b CSI-2(Camera Serial Interface 2)\u3068\u306fMIPI(Mobile Industry Processor Interface)\u30a2\u30e9\u30a4\u30a2\u30f3\u30b9\u306b\u3088\u3063\u3066\u7b56\u5b9a\u3055\u308c\u305f\u3001 \u30e2\u30d0\u30a4\u30eb\u6a5f\u5668\u306e\u30d7\u30ed\u30bb\u30c3\u30b5\u306b\u30ab\u30e1\u30e9\u3092\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u898f\u683c Raspberry Pi\u306f\u30e2\u30d0\u30a4\u30eb\u5411\u3051\u306eCPU\u3092\u642d\u8f09\u3057\u3066\u304a\u308a\u3001CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7528\u3044\u3066\u30ab\u30e1\u30e9\u304b\u3089\u306e\u9759\u6b62\u753b/\u52d5\u753b\u5165\u529b\u304c\u5229\u7528\u3067\u304d\u308b\u3002 PC\u7b49\u304b\u3089\u306eHDMI\u51fa\u529b\u3092CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u5909\u63db\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3001HDMI-CSI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 \u4eca\u56de\u306f \u30c9\u30a4\u30c4 Auvidea\u793e\u306e B101 HDMI to CSI-2 Bridge (15 pin FPC) \u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002 \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63a5\u7d9a\u3057\u305f\u72b6\u614b\u306e\u56f3\u304c \u3053\u3061\u3089 \u3002 Raspberry Pi\u3067CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001 raspi-config \u3067\u306e\u6709\u52b9\u5316\u304c\u5fc5\u8981\u3067\u3059\u3002 sudo raspi - config raspi-config \u3092\u5b9f\u884c\u3059\u308b\u3068\u5bfe\u8a71\u5f62\u5f0f\u3067\u306e\u5165\u529b\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001 \"5 Interfacing Options\" -> \"P1 Camera\" \"Enable/Disable connection to the Raspberry Pi Camera\" \u3068\u9806\u306b\u9078\u629e\u3057\u3066CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002 Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1 2019/10 \u73fe\u5728\u3001Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u306b\u306f\u3001HLS\u3068WebRTC\u3092\u7528\u3044\u305f\u65b9\u6cd5\u306e2\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002 \u7d50\u679c\u7684\u306b\u3001\u4eca\u56de\u306f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u3092\u91cd\u8996\u3057\u3066\u3001WebRTC\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u307e\u305f\u3001WebRTC\u306b\u306f\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0/ICE\u30b5\u30fc\u30d0\u3068\u547c\u3070\u308c\u308b\u30b5\u30fc\u30d0\u304c\u5fc5\u8981\u3067\u3042\u308b\u305f\u3081\u3001\u305d\u308c\u3089\u306b\u3064\u3044\u3066\u3082Raspberry Pi\u4e0a\u306b\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002 WebRTC \u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1 \u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u306b\u306f\u3001\u6642\u96e8\u5802\u793e\u306e WebRTC Native Client Momo \u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002 Momo\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306a\u3057\u3067\u69d8\u3005\u306a\u74b0\u5883\u3067\u52d5\u4f5c\u3059\u308b\"WebRTC \u30cd\u30a4\u30c6\u30a3\u30d6\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\"\u3067\u3042\u308a\u3001\u6642\u96e8\u5802\u793e\u306b\u3088\u308a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3055\u308c\u3001Raspbian Buster, Ubuntu(NVIDIA Jetson\u5411\u3051), MacOS\u7528\u30d0\u30a4\u30ca\u30ea\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001 Github\u306eRelease\u30da\u30fc\u30b8 \u3088\u308aRaspbian ARMv7\u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u8a73\u3057\u3044\u5229\u7528\u65b9\u6cd5\u306f Raspberry Pi \u3067 Momo \u3092\u4f7f\u3063\u3066\u307f\u308b \u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 curl -L -O https://github.com/shiguredo/momo/releases/download/19.09.2/momo-19.09.2_raspbian-buster_armv7.tar.gz tar xf momo-19.09.2_raspbian-buster_armv7.tar.gz sudo cp momo-19.09.2_raspbian-buster_armv7/momo /usr/local/bin/. sudo chmod +x /usr/local/bin/momo sudo apt-get install libnspr4 libnss3 Raspberry Pi Zero\u306e\u5834\u5408 curl -L -O https://github.com/shiguredo/momo/releases/download/19.09.2/momo-19.09.2_raspbian-buster_armv6.tar.gz tar xf momo-19.09.2_raspbian-buster_armv6.tar.gz sudo cp momo-19.09.2_raspbian-buster_armv6/momo /usr/local/bin/. sudo chmod +x /usr/local/bin/momo sudo apt-get install libnspr4 libnss3 \u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0 \u3053\u3061\u3089\u3082\u3001\u6642\u96e8\u5802\u793e\u306e WebRTC\u5411\u3051\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0 Ayame \u3068\u3001 Ayame Web SDK \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002 Ayame\u306b\u3064\u3044\u3066\u306fArm\u7528\u30d0\u30a4\u30ca\u30ea\u304c\u914d\u5e03\u3055\u308c\u3066\u306a\u3044\u305f\u3081\u3001 Github\u306eRelease\u30da\u30fc\u30b8 \u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u81ea\u8eab\u3067\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u305f\u3002 Go\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u7c21\u5358\u306b\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30f3\u30d1\u30a4\u30eb\u306fGo\u8a00\u8a9e\u74b0\u5883\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fPC\u4e0a\u306eLinux\u3084Windoes\u306a\u3069\u3067\u884c\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 curl -L -O https://github.com/OpenAyame/ayame/archive/19.08.0.tar.gz tar xf 19 .08.0.tar.gz cd ayame-19.08.0 GO111MODULE = on GOOS = linux GOARCH = arm GOARM = 7 go build -ldflags '-s -w -X main.AyameVersion=${VERSION}' -o ayame Raspberry Pi Zero\u306e\u5834\u5408 curl -L -O https://github.com/OpenAyame/ayame/archive/19.08.0.tar.gz tar xf 19 .08.0.tar.gz cd ayame-19.08.0 GO111MODULE = on GOOS = linux GOARCH = arm GOARM = 6 go build -ldflags '-s -w -X main.AyameVersion=${VERSION}' -o ayame \u751f\u6210\u3055\u308c\u305f ayame \u30d0\u30a4\u30ca\u30ea\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092RaspberryPi\u3078\u8ee2\u9001\u3057\u3001momo\u3068\u540c\u69d8\u306b /usr/local/bin \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 scp -p ayame config.yaml pi@raspberrypi.local:~/. ssh pi@raspberrypi.local \"sudo cp ~pi/ayame /usr/local/bin/.\" ssh pi@raspberrypi.local \"sudo mkdir -p /usr/local/etc/ayame && sudo cp ~pi/config.yaml /usr/local/etc/ayame/.\" ICE\u30b5\u30fc\u30d0 ICE\u30b5\u30fc\u30d0\u3068\u306fWebRTC\u306b\u304a\u3044\u3066\u3001Peer-to-peer\u901a\u4fe1\u3092\u78ba\u7acb\u3059\u308b\u305f\u3081\u306b\u3001NAT\u8d8a\u3048\u306a\u3069\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d0\u3067\u3059\u3002 \u4eca\u56de\u306f\u30ed\u30fc\u30ab\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u901a\u4fe1\u3059\u308b\u305f\u3081\u3001ICE\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u8a66\u3057\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002 ICE\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u306fcoTurn\u3068\u3044\u3046OSS\u3092\u5229\u7528\u3057\u307e\u3059\u3002Raspbian\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 sudo apt install coturn Systemd\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a Momo\u3001Ayame\u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 sudo mkdir -p /usr/local/etc/default/ sudo vi /etc/systemd/system/momo.service sudo vi /usr/local/etc/default/momo sudo vi /etc/systemd/system/ayame.service momo.service [Unit] Description = WebRTC Native Client Momo [Service] Type = simple WorkingDirectory = /var/log EnvironmentFile = /usr/local/etc/default/momo ExecStart = /usr/local/bin/momo --no-audio --video-device $VIDEO_DEVICE $OPTIONS ayame $AYAME_URL $ROOM_ID Restart = always [Install] WantedBy = multi-user.target /usr/local/etc/default/momo VIDEO_DEVICE =/ dev / video0 AYAME_URL = ws : // localhost : 3000 / signaling ROOM_ID = web_console OPTIONS = --force-i420 --use-native --resolution HD --fixed-resolution ayame.service [Unit] Description = WebRTC Signaling Server Ayame [Service] Type = simple WorkingDirectory = /usr/local/etc/ayame ExecStart = /usr/local/bin/ayame Restart = always [Install] WantedBy = multi-user.target sudo systemctl daemon-reload sudo systemctl enable momo sudo systemctl enable ayame sudo reboot \u30e1\u30e2\u66f8\u304d \u4ee5\u964d\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u914d\u4fe1\u3092\u5b9f\u73fe\u3059\u308bWebRTC\u3068HLS\u306b\u3064\u3044\u3066\u3001\u8abf\u3079\u305f\u3053\u3068\u3092\u4e0b\u8a18\u306b\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\u6b8b\u3057\u3066\u304a\u304f\u3002 Web Real-Time Communication(WebRTC) Google\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3084\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30b7\u30f3\u30d7\u30eb\u306aAPI\u7d4c\u7531\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u3092\u63d0\u4f9b\u3059\u308b\u81ea\u7531\u304b\u3064\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002 \u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u5185\u3067\u76f4\u63a5\u306e\u30d4\u30a2\u30fb\u30c4\u30fc\u30fb\u30d4\u30a2\u901a\u4fe1\u306b\u3088\u3063\u3066\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3084\u30cd\u30a4\u30c6\u30a3\u30d6\u30a2\u30d7\u30ea\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u305b\u305a\u306b\u3001 \u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u9593\u306e\u30dc\u30a4\u30b9\u30c1\u30e3\u30c3\u30c8\u3001\u30d3\u30c7\u30aa\u30c1\u30e3\u30c3\u30c8\u3001\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u304c\u53ef\u80fd\u3002 - Wikipedia\u300cWebRTC\u300d\u3088\u308a\u5f15\u7528 Peer-to-peer\u901a\u4fe1\u3067\u3042\u308b\u70b9\u304c\u7279\u5fb4\u3002 \u52d5\u753b\u914d\u4fe1\u306e\u305f\u3081\u306e\u30d7\u30c8\u30ed\u30b3\u30eb\u3067\u306f\u306a\u304f \u30d6\u30e9\u30a6\u30b6\u3092\u7528\u3044\u305f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u306e\u305f\u3081\u306e\u6280\u8853\u3067\u3059\u3002 \u914d\u4fe1\u65b9\u6cd5 Web\u30d6\u30e9\u30a6\u30b6\u4e0a\u304b\u3089Web\u30ab\u30e1\u30e9\u3084\u30e2\u30cb\u30bf\u30fc\u5171\u6709\u306e\u52d5\u753b\u306a\u3069\u3092\u914d\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u30d9\u30fc\u30b9\u304cPeer-to-Peer\u901a\u4fe1\u306e\u305f\u3081\u3001\u63a5\u7d9a\u5148\u60c5\u5831\u306e\u4ea4\u63db\u3084NAT\u8d85\u3048\u306a\u3069\u306e\u4ed5\u7d44\u307f\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002 javascript\u3067HTML5\u306evideo\u30bf\u30b0\u306e\u30bd\u30fc\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u52d5\u753b\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u4e0a\u306b\u8868\u793a\u3057\u307e\u3059\u3002 HLS\u3068\u6bd4\u8f03\u3059\u308b\u3068\u9045\u5ef6\u306e\u5c11\u306a\u3044\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u914d\u4fe1\u304c\u53ef\u80fd\u3002 Note \u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 WebRTC \u30b9\u30bf\u30c3\u30af\u30b3\u30c8\u30cf\u30b8\u30e1 \u8a73\u89e3 WebRTC WebRTC\u306b\u3066(S)RTCP\u304c\u5fc5\u8981\u306a\u7406\u7531 - iwashi.co HTTP Live Streaming(HLS) Apple\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u52d5\u753b\u3092\u914d\u4fe1\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3002 MP4(H.264, AAC)\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u305f\u3082\u306e\u3068\u3001\u30de\u30b9\u30bf\u30fc\u30d5\u30a1\u30a4\u30eb\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3068\u547c\u3070\u308c\u308b\u30d5\u30a1\u30a4\u30eb(\u62e1\u5f35\u5b50: .m3u8)\u3092\u7528\u3044\u307e\u3059\u3002 \u914d\u4fe1\u65b9\u6cd5 \u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092Web\u30b5\u30fc\u30d0\u306b\u914d\u7f6e\u3057\u3001HTML5\u306evideo\u30bf\u30b0\u3092\u7528\u3044\u3066\u914d\u4fe1\u304c\u3067\u304d\u307e\u3059\u3002 Note HLS\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u304b\u3063\u305f\u3002 \u52d5\u753b\u914d\u4fe1\u6280\u8853 \u305d\u306e1 - HTTP Live Streaming(HLS) - Akamai Japan Blog \u52d5\u753b\u306e\u5206\u5272\u3068\u914d\u7f6e\u304c\u5fc5\u8981\u306a\u305f\u3081\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u914d\u4fe1\u3067\u306f\u3042\u308b\u7a0b\u5ea6\u306e\u9045\u5ef6\u304c\u767a\u751f\u3057\u307e\u3059\u3002 ffmpeg\u7b49\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5206\u5272\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u53ef\u80fd\u3067\u3059\u3002 Example input.mp4\u304b\u3089output.m3u8\u3068\u3044\u3046\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3068 output001.ts, output002.ts\u3068\u3044\u3063\u305f\u5206\u5272\u3055\u308c\u305fmpeg2-ts\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\u3057\u307e\u3059\u3002 $ ffmpeg -i input.mp4 -c:v libx264 -c:a libfdk_aac -f hls -hls_time 5 -movflags faststart -hls_playlist_type vod -hls_segment_filename \"output%3d.ts\" output.m3u8 HID\u30c7\u30d0\u30a4\u30b9\u3067\u306f\"\u30ec\u30dd\u30fc\u30c8\"\u3068\u547c\u3070\u308c\u308b\u5358\u4f4d\u3067\u30c7\u30fc\u30bf\u3092\u3084\u308a\u3068\u308a\u3057\u307e\u3059\u3002\u30ec\u30dd\u30fc\u30c8\u306e\u5f62\u5f0f\u3092\u5b9a\u3081\u305f\u3082\u306e\u304c\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3067\u3059\u3002 \u21a9 WebRTC 1.0: Real-time Communication Between Browsers \u306712000\u884c\u307b\u3069\u3001[Media Capture and Streams]\u30675000\u884c\u307b\u3069\u306e\u82f1\u6587\u306e\u4ed5\u69d8\u66f8\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u21a9 USB HID\u306e\u30ad\u30fc\u30b3\u30fc\u30c9\u306b\u3064\u3044\u3066\u306f Human Interface Devices (HID) Information \u5185\u306e\"HID Usage Tables\"\u30da\u30fc\u30b8\u5185\u306ePDF\u8cc7\u6599\u306b\u8a18\u8f09\u306e\u3001\"10. Keyboard/Keypad Page (0x07) \"\u3092\u53c2\u7167\u3002 \u21a9 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306b\u306f\"g_hid\"\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u3066\u3044\u308b\u8a18\u8ff0\u3082\u898b\u3064\u304b\u308a\u307e\u3059\u304c\u3001Raspbian Buster\u3067\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002 \u21a9","title":"Web Console"},{"location":"Raspberry Pi/WebConsole/#web-console","text":"","title":"Web Console"},{"location":"Raspberry Pi/WebConsole/#_1","text":"Raspberry Pi\u3068PC\u3092\u63a5\u7d9a\u3057\u30d6\u30e9\u30a6\u30b6\u304b\u3089Raspberry Pi\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067 Web\u753b\u9762\u304b\u3089\u3001\u3042\u305f\u304b\u3082\u76f4\u63a5PC\u3092\u64cd\u4f5c\u3057\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306a\u74b0\u5883\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u74b0\u5883 \u30e2\u30c7\u30eb Raspberry Pi4 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 Raspbian 10 Buster","title":"\u6982\u8981"},{"location":"Raspberry Pi/WebConsole/#_2","text":"PC\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3068\u3057\u3066\u300c\u30e2\u30cb\u30bf\u30fc\u300d\u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u304c\u3001 \u52a0\u3048\u3066GUI\u3067\u64cd\u4f5c\u3059\u308b\u306b\u306f\u300c\u30de\u30a6\u30b9\u300d\u3082\u5fc5\u8981\u3067\u3059\u3002 Web Console\u3067\u306fRaspberry Pi\u3092\u7528\u3044\u3066\u3001\u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u300c\u30de\u30a6\u30b9\u300d\u300c\u30e2\u30cb\u30bf\u30fc\u300d\u306e3\u3064\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u5165\u51fa\u529b\u64cd\u4f5c\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u6a5f\u80fd \u8981\u4ef6 \u65b9\u6cd5 \u5229\u7528\u3057\u305f \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u300c\u30ad\u30fc\u30dc\u30fc\u30c9\u300d\u300c\u30de\u30a6\u30b9\u300d \u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30d6\u30e9\u30a6\u30b6\u304b\u3089Raspberry Pi\u3078\u306e\u30ad\u30fc\u30fb\u30de\u30a6\u30b9\u5165\u529b Web\u30d6\u30e9\u30a6\u30b6\u3068WebSocket Node.js\u3092\u7528\u3044\u305f \u81ea\u4f5c\u30a2\u30d7\u30ea Raspberry Pi\u304b\u3089PC\u3078\u306e\u30ad\u30fc\u30fb\u30de\u30a6\u30b9\u64cd\u4f5c\u518d\u73fe USB On-the-Go\u3092\u7528\u3044\u305f USB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 Linux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb(libcomposite) \u300c\u30e2\u30cb\u30bf\u30fc\u300d \u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 PC\u304b\u3089 Raspberry Pi\u3078\u306e\u6620\u50cf\u5165\u529b CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305fHDMI\u5165\u529b Video4Linux\u30c9\u30e9\u30a4\u30d0 Raspberry Pi\u304b\u3089 \u30d6\u30e9\u30a6\u30b6\u3078\u306e\u753b\u9762\u8868\u793a Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1 WebRTC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \"Momo\"","title":"\u5b9f\u73fe\u306b\u5fc5\u8981\u306a\u6a5f\u80fd"},{"location":"Raspberry Pi/WebConsole/#_3","text":"figure#raspi_fig { display:table; table-layout:fixed; } figure#raspi_fig div { display:table-cell; vertical-align:middle; } figure#raspi_fig div#hdmi { text-align:right; } figure#raspi_fig div#lan { text-align:left; } figure#raspi_fig figcaption { text-align:center; } HDMI\u30b1\u30fc\u30d6\u30eb\u2192 (PC\u306b\u63a5\u7d9a) USB Type-C\u2192 Raspberry Pi\u3068CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8 \u2190LAN\u30b1\u30fc\u30d6\u30eb","title":"\u63a5\u7d9a\u65b9\u6cd5"},{"location":"Raspberry Pi/WebConsole/#_4","text":"\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u306e\u4f5c\u6210 \u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u30c7\u30d0\u30a4\u30b9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306bUSB HID\u30c7\u30d0\u30a4\u30b9\u306e\u6a5f\u80fd\u306b\u5fdc\u3058\u305f\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf 1 \u306e\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3059\u3002 \u7c21\u5358\u306a3\u30dc\u30bf\u30f3\u30de\u30a6\u30b9\u3067\u3042\u308c\u3070\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306b\u4f8b\u304c\u3044\u304f\u3064\u304b\u898b\u3064\u304b\u308b\u306e\u3067\u3059\u304c\u3001\u300c\u6a2a\u30b9\u30af\u30ed\u30fc\u30eb\u300d\u300c\u6307\u5b9a\u5ea7\u6a19\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u306e\u79fb\u52d5\u300d\u306a\u3069\u3092\u5b9f\u73fe\u305f\u3081\u306b\u306f\u81ea\u8eab\u3067\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002 WebRTC\u3067\u306e\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u753b\u9762\u8868\u793a WebRTC\u306f\u69d8\u3005\u306a\u7528\u9014\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u305f\u3081\u304b\u3001\u3068\u306b\u304b\u304f\u4ed5\u69d8\u304c\u8907\u96d1 2 \u3067\u3059\u3002\u307e\u305f\u3001Web\u30d6\u30e9\u30a6\u30b6\u306e\u5916\u3067\u5b9f\u88c5\u3057\u3088\u3046\u3068\u306a\u308b\u3068\u6570\u5343\u884c\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u81ea\u4f5c\u3059\u308b\u30cf\u30e1\u306b\u306a\u308a\u307e\u3059\u3002 \u3057\u304b\u3057\u3001\u904b\u826f\u304f\u6280\u8853\u66f8\u51787\u306b\u30b5\u30fc\u30af\u30eb\u53c2\u52a0\u3055\u308c\u3066\u3044\u305f \u3067\u3093\u3067\u3093\u3089\u307c \u3055\u3093\u306e\u540c\u4eba\u8a8c\u3001 WebRTC\u3092\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u5916\u3066\u3099\u4f7f\u3063\u3066\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u3066\u3099\u3066\u3099\u304d\u308b\u3053\u3068\u3092\u5897\u3084\u3057\u3066\u307f\u307e\u305b\u3093\u304b? \u3092\u62dd\u8aad\u3057\u305f\u3053\u3068\u3067\u3001\u554f\u984c\u306f\u4e00\u6c17\u306b\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002","title":"\u82e6\u52b4\u3057\u305f\u70b9"},{"location":"Raspberry Pi/WebConsole/#_5","text":"","title":"\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3"},{"location":"Raspberry Pi/WebConsole/#websocketnodejs","text":"\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u3092Raspberry Pi\u3067\u53d7\u3051\u53d6\u308b\u305f\u3081\u306eNode.js\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u81ea\u4f5c\u3057\u307e\u3057\u305f\u3002 roy-n-roy/raspi_web_console - GitHub Node.js\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308b\u3001Socket.io\u3068Express\u3092\u7528\u3044\u305f\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002 RaspberryPi + HIMI to CSI\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u3002 \u753b\u9762\u914d\u4fe1WebRTC Client Momo + Ayame https://t.co/jppnHJbOMo https://t.co/epCejhbD6l RasPi\u306eUSB OTG\u3067USB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u3066NodeJS\u30a2\u30d7\u30ea\u7d4c\u7531\u3067\u5165\u529b https://t.co/R2XYDsmCjt pic.twitter.com/cWGUsMslxM \u2014 \u2606Roy.\u2605 (@Roy_n_roy) September 25, 2019 \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092WebSocket\u3092\u901a\u3057\u3066\u53d7\u3051\u53d6\u308a\u30015\u7a2e\u985e\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u30a4\u30d9\u30f3\u30c8 \u51e6\u7406 \u51fa\u529b \u753b\u9762\u30ed\u30fc\u30c9\u6642 WebSocket\u63a5\u7d9a\u3092\u78ba\u7acb \u306a\u3057 WebRTC\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0 \u30b5\u30fc\u30d0\u3078\u306eWebSocket\u63a5\u7d9a\u6642 \u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0\u3078\u306e WebSocket\u63a5\u7d9a\u3092Proxy \u306a\u3057 keydown \u30a4\u30d9\u30f3\u30c8 , keyup \u30a4\u30d9\u30f3\u30c8 \u30d6\u30e9\u30a6\u30b6\u306e\u30ad\u30fc\u30b3\u30fc\u30c9\u304b\u3089 USB HID\u30ad\u30fc\u30b3\u30fc\u30c9 3 \u306b\u5909\u63db \u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f mousedown \u30a4\u30d9\u30f3\u30c8 , mouseup \u30a4\u30d9\u30f3\u30c8 , mousemove \u30a4\u30d9\u30f3\u30c8 \u7279\u306b\u306a\u3057 \u30de\u30a6\u30b9\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f mouseenter \u30a4\u30d9\u30f3\u30c8 \u30de\u30a6\u30b9\u304c\u753b\u9762\u5185\u306b\u5165\u3063\u305f\u6642\u306e \u7d76\u5bfe\u4f4d\u7f6e\u3092\u53d6\u5f97 \u30c7\u30b8\u30bf\u30a4\u30b6\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30c7\u30d0\u30a4\u30b9\u3078\u66f8\u304d\u8fbc\u307f \u7279\u306b\u91cd\u8981\u306a\u306e\u304c5\u756a\u76ee\u306emouseenter \u30a4\u30d9\u30f3\u30c8\u3067\u306e\u51e6\u7406\u3067\u3001\u3053\u306e\u51e6\u7406\u304c\u7121\u3044\u3068 \u300c\u30d6\u30e9\u30a6\u30b6\u4e0a\u306e\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u300d\u3068\u300c\u63a5\u7d9a\u5148PC\u4e0a\u306e\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u300d\u306b\u30ba\u30ec\u304c\u751f\u3058\u3066 \u3057\u307e\u3044\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001 \u30de\u30a6\u30b9\u3068\u30c7\u30b8\u30bf\u30a4\u30b6\u3092\u5408\u4f53\u3055\u305b\u305f\u30c7\u30d0\u30a4\u30b9 \u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3001 \u30d6\u30e9\u30a6\u30b6\u306e\u5916\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u306e\u753b\u9762\u5185\u306b\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u304c\u5165\u3063\u3066\u304d\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u30e2\u30cb\u30bf\u4e0a\u306e\u7d76\u5bfe\u4f4d\u7f6e\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30d0\u30a4\u30b9\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002 \u306a\u304a\u3001\u30c7\u30b8\u30bf\u30a4\u30b6\u3068\u306f\u30da\u30f3\u30bf\u30d6\u30ec\u30c3\u30c8\u306a\u3069\u306e\u3088\u3046\u306a\u3001\u30ab\u30fc\u30bd\u30eb\u306e\u7d76\u5bfe\u4f4d\u7f6e\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u306e\u3053\u3068\u3092\u3044\u3044\u307e\u3059\u3002","title":"WebSocket\u3092\u7528\u3044\u305fNode.js\u30a2\u30d7\u30ea"},{"location":"Raspberry Pi/WebConsole/#_6","text":"Node.js\u3068\u81ea\u4f5c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 # nodesource\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6700\u65b0\u306eNode.js\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash - sudo apt install -y nodejs # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -L -O https://github.com/roy-n-roy/raspi_web_console/archive/master.zip unzip master.zip cd raspi_web_console-master sudo bash ./setup.sh Raspberry Pi Zero\u306e\u5834\u5408 # Raspbian\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089Node.js\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install -y nodejs npm # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl -L -O https://github.com/roy-n-roy/raspi_web_console/archive/master.zip unzip master.zip cd raspi_web_console-master sudo bash ./setup.sh","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Raspberry Pi/WebConsole/#usb-on-the-gousb","text":"USB On-the-Go\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u3001Raspbian(Linux)\u306e\u8d77\u52d5\u6642\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u308c\u3089\u306e\u8a2d\u5b9a\u306f\u524d\u8ff0\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u5408\u308f\u305b\u3066\u5b9f\u884c\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u8d77\u52d5\u30d1\u30e9\u30e1\u30fc\u30bf\u306bLinux Device Tree Overlay \"dwc2\" USB\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30c9\u30e9\u30a4\u30d0\u3092\u8a2d\u5b9a /boot/config.txt dtoverlay = dwc2 \u8d77\u52d5\u6642\u306bLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb \"dwc2\" \u3068 \"libcomposite\" 4 \u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u8a2d\u5b9a echo \"dwc2\" >> /etc/modules echo \"libcomposite\" >> /etc/modules reboot libcomposite \u3067USB\u30c7\u30d0\u30a4\u30b9\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a \u30c7\u30d0\u30a4\u30b9\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf/\u30b3\u30f3\u30d5\u30a3\u30b0\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf/\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3068\u547c\u3070\u308c\u308b\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a2d\u5b9a\u7528\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u81ea\u4f5c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3042\u308f\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 init_usb.sh \u5b9f\u884c\u3059\u308b\u3068\u3001 /dev/hidg0 (\u30ad\u30fc\u30dc\u30fc\u30c9\u30a8\u30df\u30e5\u30ec\u30fc\u30bf), /dev/hidg1 (\u30de\u30a6\u30b9\u30fb\u30c7\u30b8\u30bf\u30a4\u30b6\u30a8\u30df\u30e5\u30ec\u30fc\u30bf)\u3068\u3044\u3046\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u3048\u3066\u304d\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u3068\u3001\u63a5\u7d9a\u5148\u306ePC\u3067\u30ad\u30fc\u30dc\u30fc\u30c9\u3084\u30de\u30a6\u30b9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002","title":"USB On-the-Go\u6a5f\u80fd\u3092\u7528\u3044\u305fUSB\u30de\u30a6\u30b9\u30fb\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3"},{"location":"Raspberry Pi/WebConsole/#usb","text":"init_usb.sh #!/bin/bash -e USE_ETHER = false # RNDIS Ethernet Adapter USE_SERIAL = false # Serial port USE_KEYBOARD = true # HID Keyboard USE_MOUSE = true # HID Mouse & Digitizer LANG = \"0x409\" # language code: 0x409=ENGLISH_US CONFIGFS = \"/sys/kernel/config/usb_gadget/\" GADGET_NAME = \"gadget\" if [[ $EUID -ne 0 ]] ; then echo \"This script must be run as root\" exit 1 fi # libcomposite\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u30ed\u30fc\u30c9 if [ ! -d $CONFIGFS ] ; then modprobe libcomposite fi # Enter ConfigFS cd $CONFIGFS # Stopping getty GS_SERVICE_NAME = ` systemctl list-units -t service --state = running | grep -i getty@ttygs | cut -d ' ' -f1 ` || true if [ -n \" $GS_SERVICE_NAME \" ] ; then systemctl stop $GS_SERVICE_NAME if lsmod | grep g_serial ; then rmmod g_serial fi fi # \u65e2\u5b58\u8a2d\u5b9a\u3092\u30af\u30ea\u30a2 find ./ $GADGET_NAME /configs/*/* -maxdepth 0 -type l -exec rm {} \\; & > /dev/null || true find ./ $GADGET_NAME /configs/*/strings/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /os_desc/* -maxdepth 0 -type l -exec rm {} \\; & > /dev/null || true find ./ $GADGET_NAME /functions/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /strings/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true find ./ $GADGET_NAME /configs/* -maxdepth 0 -type d -exec rmdir {} \\; & > /dev/null || true rmdir ./ $GADGET_NAME & > /dev/null || true mkdir ./ $GADGET_NAME && cd ./ $GADGET_NAME ### Device Descriptor\u306e\u8a2d\u5b9a # VendorID echo 0x1d6b > ./idVendor # Linux Foundation # USB HID Specification Release echo 0x0200 > ./bcdUSB # USB2 # USB Class code echo 0xEF > ./bDeviceClass # Miscellaneous Device Class # USB SubClass code echo 0x02 > ./bDeviceSubClass # Common # USB Protocol code echo 0x01 > ./bDeviceProtocol # Interface Association Descriptor # ProductID (assigned by manufacturer) echo 0x0001 > ./idProduct # Device release number(assigned by manufacturer) echo 0x0100 > ./bcdDevice # v1.0.0 mkdir -p strings/ $LANG echo \"fedcba9876543210\" > ./strings/ $LANG /serialnumber # \u9069\u5f53\u306b\u8a2d\u5b9a echo \"Raspberry Pi\" > ./strings/ $LANG /manufacturer echo \"Generic USB Composite Device\" > ./strings/ $LANG /product ### Configuration Descriptor\u306e\u8a2d\u5b9a mkdir -p ./configs/c.1/strings/ $LANG echo 1500 > ./configs/c.1/MaxPower # 1500*2mA= 3.0A echo \"Config 1: ECM network\" > ./configs/c.1/strings/ $LANG /configuration ### Report Descriptor\u5b9a\u7fa9 # Keyboard Report Descriptor # (Modifier keys + 6 simultaneous Keys -> 8 Bytes) KEYBD_REPT = \"\" KEYBD_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) KEYBD_REPT += \"0906\" # USAGE (Keyboard) KEYBD_REPT += \"A101\" # COLLECTION (Application) KEYBD_REPT += \"0507\" # USAGE_PAGE (Keyboard) KEYBD_REPT += \"19E0\" # USAGE_MINIMUM (Keyboard LeftControl) KEYBD_REPT += \"29E7\" # USAGE_MAXIMUM (Keyboard Right GUI) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"2501\" # LOGICAL_MAXIMUM (1) KEYBD_REPT += \"7501\" # REPORT_SIZE (1) KEYBD_REPT += \"9508\" # REPORT_COUNT (8) KEYBD_REPT += \"8102\" # INPUT (Data,Var,Abs) KEYBD_REPT += \"7508\" # REPORT_SIZE (8) KEYBD_REPT += \"9501\" # REPORT_COUNT (1) KEYBD_REPT += \"8103\" # INPUT (Cnst,Var,Abs) KEYBD_REPT += \"1900\" # USAGE_MINIMUM (Reserved (no event indicated)) KEYBD_REPT += \"299F\" # USAGE_MAXIMUM (Keyboard Separator) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"259F\" # LOGICAL_MAXIMUM (175) KEYBD_REPT += \"7508\" # REPORT_SIZE (8) KEYBD_REPT += \"9506\" # REPORT_COUNT (6) KEYBD_REPT += \"8100\" # INPUT (Data,Ary,Abs) KEYBD_REPT += \"0508\" # USAGE_PAGE (LEDs) KEYBD_REPT += \"1901\" # USAGE_MINIMUM (Num Lock) KEYBD_REPT += \"2905\" # USAGE_MAXIMUM (Kana) KEYBD_REPT += \"1500\" # LOGICAL_MINIMUM (0) KEYBD_REPT += \"2501\" # LOGICAL_MAXIMUM (1) KEYBD_REPT += \"7501\" # REPORT_SIZE (1) KEYBD_REPT += \"9505\" # REPORT_COUNT (5) KEYBD_REPT += \"9102\" # OUTPUT (Data,Var,Abs) KEYBD_REPT += \"7503\" # REPORT_SIZE (3) KEYBD_REPT += \"9501\" # REPORT_COUNT (1) KEYBD_REPT += \"9103\" # OUTPUT (Cnst,Var,Abs) KEYBD_REPT += \"C0\" # END_COLLECTION # Mouse and Digitizer Report Descriptor # (report_id=1, 5 Buttons, X, Y, Wheel, AC Pan -> 1byte + 1byte + 4*2 Bytes) # (report_id=2, 5 Buttons, X, Y, padding*2 -> 1byte + 1byte + 4*2 Bytes) MOUSE_REPT = \"\" # \u30de\u30a6\u30b9\u90e8\u5206 MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"0902\" # USAGE (Mouse) MOUSE_REPT += \"A101\" # COLLECTION (Application) MOUSE_REPT += \"0901\" # USAGE (Pointer) MOUSE_REPT += \"A100\" # COLLECTION (Physical) MOUSE_REPT += \"8501\" # REPORT_ID (1) MOUSE_REPT += \"0509\" # USAGE_PAGE (Button) MOUSE_REPT += \"1901\" # USAGE_MINIMUM (Button 1) MOUSE_REPT += \"2905\" # USAGE_MAXIMUM (Button 5) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"2501\" # LOGICAL_MAXIMUM (1) MOUSE_REPT += \"7501\" # REPORT_SIZE (1) MOUSE_REPT += \"9505\" # REPORT_COUNT (5) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7503\" # REPORT_SIZE (3) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"0930\" # USAGE (X) MOUSE_REPT += \"0931\" # USAGE (Y) MOUSE_REPT += \"0938\" # USAGE (Wheel) MOUSE_REPT += \"160180\" # LOGICAL_MINIMUM (-32767) MOUSE_REPT += \"26FF7F\" # LOGICAL_MAXIMUM (32767) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9503\" # REPORT_COUNT (3) MOUSE_REPT += \"8106\" # INPUT (Data,Var,Rel) MOUSE_REPT += \"050C\" # USAGE_PAGE (Consumer Devices) MOUSE_REPT += \"0A3802\" # USAGE (AC Pan) MOUSE_REPT += \"160180\" # LOGICAL_MINIMUM (-32767) MOUSE_REPT += \"26FF7F\" # LOGICAL_MAXIMUM (32767) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8106\" # INPUT (Data,Var,Rel) MOUSE_REPT += \"C0\" # END_COLLECTION MOUSE_REPT += \"C0\" # END_COLLECTION # \u30c7\u30b8\u30bf\u30a4\u30b6\u90e8\u5206 MOUSE_REPT += \"050D\" # USAGE_PAGE (Digitizers) MOUSE_REPT += \"0902\" # USAGE (Pen) MOUSE_REPT += \"A101\" # COLLECTION (Application) MOUSE_REPT += \"8502\" # REPORT_ID (2) MOUSE_REPT += \"0920\" # USAGE (Stylus) MOUSE_REPT += \"A100\" # COLLECTION (Physical) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"2501\" # LOGICAL_MAXIMUM (1) MOUSE_REPT += \"0942\" # USAGE (Tip Switch) MOUSE_REPT += \"0944\" # USAGE (Barrel Switch) MOUSE_REPT += \"093C\" # USAGE (Invert) MOUSE_REPT += \"0945\" # USAGE (Eraser Switch) MOUSE_REPT += \"0932\" # USAGE (In Range) MOUSE_REPT += \"7501\" # REPORT_SIZE (1) MOUSE_REPT += \"9505\" # REPORT_COUNT (5) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7503\" # REPORT_SIZE (3) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"0501\" # USAGE_PAGE (Generic Desktop) MOUSE_REPT += \"7510\" # REPORT_SIZE (16) MOUSE_REPT += \"9501\" # REPORT_COUNT (1) MOUSE_REPT += \"5500\" # UNIT_EXPONENT (0) MOUSE_REPT += \"6513\" # UNIT (Inch,EngLinear) MOUSE_REPT += \"3500\" # PHYSICAL_MINIMUM (0) MOUSE_REPT += \"1500\" # LOGICAL_MINIMUM (0) MOUSE_REPT += \"0930\" # USAGE (X) MOUSE_REPT += \"460005\" # PHYSICAL_MAXIMUM (1280) MOUSE_REPT += \"260005\" # LOGICAL_MAXIMUM (1280) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"0931\" # USAGE (Y) MOUSE_REPT += \"46D002\" # PHYSICAL_MAXIMUM (720) MOUSE_REPT += \"26D002\" # LOGICAL_MAXIMUM (720) MOUSE_REPT += \"8102\" # INPUT (Data,Var,Abs) MOUSE_REPT += \"7520\" # REPORT_SIZE (32) MOUSE_REPT += \"8101\" # INPUT (Cnst,Ary,Abs) MOUSE_REPT += \"C0\" # END_COLLECTION MOUSE_REPT += \"C0\" # END_COLLECTION if [ -n \"\" $( cat ./UDC ) \"\" ] ; then echo > ./UDC ; fi N = 0 ### Report Descriptor\u306e\u8a2d\u5b9a # RNDIS Ethernet Adapter if \" $USE_ETHER \" ; then # OS descriptors # https://msdn.microsoft.com/en-us/library/hh881271.aspx # WIndows extensions to force config echo 1 > ./os_desc/use echo 0xcd > ./os_desc/b_vendor_code echo MSFT100 > ./os_desc/qw_sign mkdir -p functions/rndis.usb $N SERIAL = \" $( grep Serial /proc/cpuinfo | sed 's/Serial\\s*: 0000\\(\\w*\\)/\\1/' ) \" MAC = \" $( echo ${ SERIAL } | sed 's/\\(\\w\\w\\)/:\\1/g' | cut -b 2 - ) \" MAC_HOST = \"12 $( echo ${ MAC } | cut -b 3 - ) \" MAC_DEV = \"02 $( echo ${ MAC } | cut -b 3 - ) \" # https://msdn.microsoft.com/en-us/windows/hardware/gg463179.aspx echo RNDIS > ./functions/rndis.usb $N /os_desc/interface.rndis/compatible_id echo 5162001 > ./functions/rndis.usb $N /os_desc/interface.rndis/sub_compatible_id echo $MAC_HOST > ./functions/rndis.usb $N /host_addr echo $MAC_DEV > ./functions/rndis.usb $N /dev_addr ln -s ./functions/rndis.usb $(( N++ )) configs/c.1 ln -s ./configs/c.1 os_desc fi # Serial port if \" $USE_SERIAL \" ; then mkdir -p functions/acm.usb $N ln -s functions/acm.usb $(( N++ )) configs/c.1/ fi # Keyboard if \" $USE_KEYBOARD \" ; then mkdir -p ./functions/hid.usb $N echo 1 > ./functions/hid.usb $N /subclass # Boot Device echo 1 > ./functions/hid.usb $N /protocol # Keyboard echo 8 > ./functions/hid.usb $N /report_length # Report length: 8bytes echo $KEYBD_REPT | xxd -r -ps > ./functions/hid.usb $N /report_desc ln -s functions/hid.usb $(( N++ )) configs/c.1/ fi # Mouse if \" $USE_MOUSE \" ; then mkdir -p ./functions/hid.usb $N echo 0 > ./functions/hid.usb $N /subclass # No Subclass echo 0 > ./functions/hid.usb $N /protocol # None echo 10 > ./functions/hid.usb $N /report_length # Report length: 10bytes echo $MOUSE_REPT | xxd -r -ps > ./functions/hid.usb $N /report_desc ln -s ./functions/hid.usb $(( N++ )) configs/c.1/ fi ls /sys/class/udc > ./UDC # Starting getty if [ -n \" $GS_SERVICE_NAME \" ] ; then systemctl start $GS_SERVICE_NAME fi","title":"USB \u30c7\u30d0\u30a4\u30b9/\u30b3\u30f3\u30d5\u30a3\u30b0/\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u306e\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8"},{"location":"Raspberry Pi/WebConsole/#usb_1","text":"\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30ad\u30fc\u30dc\u30fc\u30c9\u30c7\u30d0\u30a4\u30b9 /dev/hidg0 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee \u53f3Win \u53f3Alt \u53f3Shift \u53f3Ctrl \u5de6Win \u5de6Alt \u5de6Shift \u5de6Ctrl 1\u30d0\u30a4\u30c8\u76ee (Zero Padding) 2\u30d0\u30a4\u30c8\u76ee 1\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 3\u30d0\u30a4\u30c8\u76ee 2\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 4\u30d0\u30a4\u30c8\u76ee 3\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 5\u30d0\u30a4\u30c8\u76ee 4\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 6\u30d0\u30a4\u30c8\u76ee 5\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 7\u30d0\u30a4\u30c8\u76ee 6\u756a\u76ee\u306b\u62bc\u4e0b\u3057\u305f\u30ad\u30fc\u30b3\u30fc\u30c9 \u30de\u30a6\u30b9\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30de\u30a6\u30b9/\u30c7\u30b8\u30bf\u30a4\u30b6\u30c7\u30d0\u30a4\u30b9 /dev/hidg1 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30de\u30a6\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u30010\u30d0\u30a4\u30c8\u76ee\u306b\u30ec\u30dd\u30fc\u30c8ID = 0x01 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u5404\u6570\u5024\u306f\u7bc4\u56f2 -32,767 \uff5e 32,767 \u306e2\u30d0\u30a4\u30c8\u6570\u5024(signed int16)\u3067\u5165\u529b\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee Report ID = 0x01 1\u30d0\u30a4\u30c8\u76ee (5 bits Zero Padding) Button3 Button2 Button1 2\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 3\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 4\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 5\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 6\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 7\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 8\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 9\u30d0\u30a4\u30c8\u76ee \u30b9\u30af\u30ed\u30fc\u30eb \u7e26\u65b9\u5411 \u79fb\u52d5\u91cf (\u4e0a\u4f4d\u30d0\u30a4\u30c8) \u30c7\u30b8\u30bf\u30a4\u30b6\u5165\u529b\u306e\u30c7\u30fc\u30bf\u69cb\u9020 \u30de\u30a6\u30b9/\u30c7\u30b8\u30bf\u30a4\u30b6\u30c7\u30d0\u30a4\u30b9 /dev/hidg1 \u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30c7\u30b8\u30bf\u30a4\u30b6\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u30010\u30d0\u30a4\u30c8\u76ee\u306b\u30ec\u30dd\u30fc\u30c8ID = 0x02 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 bytes\\bit 7 6 5 4 3 2 1 0 0\u30d0\u30a4\u30c8\u76ee Report ID = 0x02 1\u30d0\u30a4\u30c8\u76ee (3 bits Zero Padding) InRange EraserSw Invert BarrelSw TipSw 2\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 3\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u6a2a\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 4\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0b\u4f4d\u30d0\u30a4\u30c8) 5\u30d0\u30a4\u30c8\u76ee \u30ab\u30fc\u30bd\u30eb \u7e26\u65b9\u5411 \u7d76\u5bfe\u4f4d\u7f6e (\u4e0a\u4f4d\u30d0\u30a4\u30c8) 6\u30d0\u30a4\u30c8\u76ee (Zero Padding) 7\u30d0\u30a4\u30c8\u76ee (Zero Padding) 8\u30d0\u30a4\u30c8\u76ee (Zero Padding) 9\u30d0\u30a4\u30c8\u76ee (Zero Padding) \u307e\u305f\u30011\u30d0\u30a4\u30c8\u76ee\u306f(\u4eca\u56de\u306e\u7528\u9014\u3067\u306f)\u5e38\u306b\u4e0b\u8a18\u306e\u69d8\u306b\u5165\u529b\u3057\u307e\u3059\u3002 bit \u5024 \u7528\u9014 (Padding) 0 (Padding) 0 (Padding) 0 InRange 1 \u30ab\u30fc\u30bd\u30eb\u304c\u30c7\u30b8\u30bf\u30a4\u30b6\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u793a\u3059 Eraser Switch 0 \u6d88\u3057\u30b4\u30e0\u30b9\u30a4\u30c3\u30c1\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 Invert 0 \u30da\u30f3\u306e\u53cd\u5bfe\u5074\u306e\u7aef(\u30b7\u30e3\u30fc\u30da\u30f3\u306e\u6d88\u3057\u30b4\u30e0\u306e\u65b9)\u304c \u30c7\u30b8\u30bf\u30a4\u30b6\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u793a\u3059 Barrel Switch 0 \u30d0\u30ec\u30eb\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 Tip Switch 0 \u30da\u30f3\u304c\u30c7\u30b8\u30bf\u30a4\u30b6\u306e\u8868\u9762\u306b\u89e6\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3059 \u7d76\u5bfe\u4f4d\u7f6e\u306f\u3001\u753b\u9762\u5de6\u4e0a\u306e\u5ea7\u6a19\u3092 X=0, Y=0 \u3068\u3057\u3001\u753b\u9762\u53f3\u4e0b\u306e\u5ea7\u6a19\u3092 X=1280, Y=720 \u3068\u3057\u3066\u5165\u529b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306e\u6700\u5927\u5ea7\u6a19\u306f\u3001\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u5185\u306e USAGE (X) , USAGE (Y) \u306e\u76f4\u5f8c\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b LOGICAL_MAXIMUM (1280) , LOGICAL_MAXIMUM (720) \u3067\u3059\u3002","title":"USB\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30d0\u30a4\u30b9\u306e\u5165\u529b\u30c7\u30fc\u30bf\u69cb\u9020"},{"location":"Raspberry Pi/WebConsole/#_7","text":"","title":"\u30e2\u30cb\u30bf\u30fc\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3"},{"location":"Raspberry Pi/WebConsole/#csi-2-to-hdmihdmi","text":"CSI-2(Camera Serial Interface 2)\u3068\u306fMIPI(Mobile Industry Processor Interface)\u30a2\u30e9\u30a4\u30a2\u30f3\u30b9\u306b\u3088\u3063\u3066\u7b56\u5b9a\u3055\u308c\u305f\u3001 \u30e2\u30d0\u30a4\u30eb\u6a5f\u5668\u306e\u30d7\u30ed\u30bb\u30c3\u30b5\u306b\u30ab\u30e1\u30e9\u3092\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u898f\u683c Raspberry Pi\u306f\u30e2\u30d0\u30a4\u30eb\u5411\u3051\u306eCPU\u3092\u642d\u8f09\u3057\u3066\u304a\u308a\u3001CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7528\u3044\u3066\u30ab\u30e1\u30e9\u304b\u3089\u306e\u9759\u6b62\u753b/\u52d5\u753b\u5165\u529b\u304c\u5229\u7528\u3067\u304d\u308b\u3002 PC\u7b49\u304b\u3089\u306eHDMI\u51fa\u529b\u3092CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u5909\u63db\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3001HDMI-CSI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 \u4eca\u56de\u306f \u30c9\u30a4\u30c4 Auvidea\u793e\u306e B101 HDMI to CSI-2 Bridge (15 pin FPC) \u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002 \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63a5\u7d9a\u3057\u305f\u72b6\u614b\u306e\u56f3\u304c \u3053\u3061\u3089 \u3002 Raspberry Pi\u3067CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001 raspi-config \u3067\u306e\u6709\u52b9\u5316\u304c\u5fc5\u8981\u3067\u3059\u3002 sudo raspi - config raspi-config \u3092\u5b9f\u884c\u3059\u308b\u3068\u5bfe\u8a71\u5f62\u5f0f\u3067\u306e\u5165\u529b\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001 \"5 Interfacing Options\" -> \"P1 Camera\" \"Enable/Disable connection to the Raspberry Pi Camera\" \u3068\u9806\u306b\u9078\u629e\u3057\u3066CSI-2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002","title":"CSI-2 to HDMI\u30d6\u30ea\u30c3\u30b8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u305fHDMI\u5165\u529b"},{"location":"Raspberry Pi/WebConsole/#web","text":"2019/10 \u73fe\u5728\u3001Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u306b\u306f\u3001HLS\u3068WebRTC\u3092\u7528\u3044\u305f\u65b9\u6cd5\u306e2\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002 \u7d50\u679c\u7684\u306b\u3001\u4eca\u56de\u306f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u3092\u91cd\u8996\u3057\u3066\u3001WebRTC\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u307e\u305f\u3001WebRTC\u306b\u306f\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0/ICE\u30b5\u30fc\u30d0\u3068\u547c\u3070\u308c\u308b\u30b5\u30fc\u30d0\u304c\u5fc5\u8981\u3067\u3042\u308b\u305f\u3081\u3001\u305d\u308c\u3089\u306b\u3064\u3044\u3066\u3082Raspberry Pi\u4e0a\u306b\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002","title":"Web\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1"},{"location":"Raspberry Pi/WebConsole/#webrtc","text":"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u306b\u306f\u3001\u6642\u96e8\u5802\u793e\u306e WebRTC Native Client Momo \u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002 Momo\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306a\u3057\u3067\u69d8\u3005\u306a\u74b0\u5883\u3067\u52d5\u4f5c\u3059\u308b\"WebRTC \u30cd\u30a4\u30c6\u30a3\u30d6\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\"\u3067\u3042\u308a\u3001\u6642\u96e8\u5802\u793e\u306b\u3088\u308a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3055\u308c\u3001Raspbian Buster, Ubuntu(NVIDIA Jetson\u5411\u3051), MacOS\u7528\u30d0\u30a4\u30ca\u30ea\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u4eca\u56de\u306f\u3001 Github\u306eRelease\u30da\u30fc\u30b8 \u3088\u308aRaspbian ARMv7\u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u8a73\u3057\u3044\u5229\u7528\u65b9\u6cd5\u306f Raspberry Pi \u3067 Momo \u3092\u4f7f\u3063\u3066\u307f\u308b \u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 curl -L -O https://github.com/shiguredo/momo/releases/download/19.09.2/momo-19.09.2_raspbian-buster_armv7.tar.gz tar xf momo-19.09.2_raspbian-buster_armv7.tar.gz sudo cp momo-19.09.2_raspbian-buster_armv7/momo /usr/local/bin/. sudo chmod +x /usr/local/bin/momo sudo apt-get install libnspr4 libnss3 Raspberry Pi Zero\u306e\u5834\u5408 curl -L -O https://github.com/shiguredo/momo/releases/download/19.09.2/momo-19.09.2_raspbian-buster_armv6.tar.gz tar xf momo-19.09.2_raspbian-buster_armv6.tar.gz sudo cp momo-19.09.2_raspbian-buster_armv6/momo /usr/local/bin/. sudo chmod +x /usr/local/bin/momo sudo apt-get install libnspr4 libnss3","title":"WebRTC \u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1"},{"location":"Raspberry Pi/WebConsole/#_8","text":"\u3053\u3061\u3089\u3082\u3001\u6642\u96e8\u5802\u793e\u306e WebRTC\u5411\u3051\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0 Ayame \u3068\u3001 Ayame Web SDK \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002 Ayame\u306b\u3064\u3044\u3066\u306fArm\u7528\u30d0\u30a4\u30ca\u30ea\u304c\u914d\u5e03\u3055\u308c\u3066\u306a\u3044\u305f\u3081\u3001 Github\u306eRelease\u30da\u30fc\u30b8 \u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u81ea\u8eab\u3067\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u305f\u3002 Go\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u7c21\u5358\u306b\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30f3\u30d1\u30a4\u30eb\u306fGo\u8a00\u8a9e\u74b0\u5883\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fPC\u4e0a\u306eLinux\u3084Windoes\u306a\u3069\u3067\u884c\u3044\u307e\u3059\u3002 Raspberry Pi 4\u306e\u5834\u5408 curl -L -O https://github.com/OpenAyame/ayame/archive/19.08.0.tar.gz tar xf 19 .08.0.tar.gz cd ayame-19.08.0 GO111MODULE = on GOOS = linux GOARCH = arm GOARM = 7 go build -ldflags '-s -w -X main.AyameVersion=${VERSION}' -o ayame Raspberry Pi Zero\u306e\u5834\u5408 curl -L -O https://github.com/OpenAyame/ayame/archive/19.08.0.tar.gz tar xf 19 .08.0.tar.gz cd ayame-19.08.0 GO111MODULE = on GOOS = linux GOARCH = arm GOARM = 6 go build -ldflags '-s -w -X main.AyameVersion=${VERSION}' -o ayame \u751f\u6210\u3055\u308c\u305f ayame \u30d0\u30a4\u30ca\u30ea\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092RaspberryPi\u3078\u8ee2\u9001\u3057\u3001momo\u3068\u540c\u69d8\u306b /usr/local/bin \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 scp -p ayame config.yaml pi@raspberrypi.local:~/. ssh pi@raspberrypi.local \"sudo cp ~pi/ayame /usr/local/bin/.\" ssh pi@raspberrypi.local \"sudo mkdir -p /usr/local/etc/ayame && sudo cp ~pi/config.yaml /usr/local/etc/ayame/.\"","title":"\u30b7\u30b0\u30ca\u30ea\u30f3\u30b0\u30b5\u30fc\u30d0"},{"location":"Raspberry Pi/WebConsole/#ice","text":"ICE\u30b5\u30fc\u30d0\u3068\u306fWebRTC\u306b\u304a\u3044\u3066\u3001Peer-to-peer\u901a\u4fe1\u3092\u78ba\u7acb\u3059\u308b\u305f\u3081\u306b\u3001NAT\u8d8a\u3048\u306a\u3069\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d0\u3067\u3059\u3002 \u4eca\u56de\u306f\u30ed\u30fc\u30ab\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u901a\u4fe1\u3059\u308b\u305f\u3081\u3001ICE\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u8a66\u3057\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002 ICE\u30b5\u30fc\u30d0\u306b\u3064\u3044\u3066\u306fcoTurn\u3068\u3044\u3046OSS\u3092\u5229\u7528\u3057\u307e\u3059\u3002Raspbian\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 sudo apt install coturn","title":"ICE\u30b5\u30fc\u30d0"},{"location":"Raspberry Pi/WebConsole/#systemd","text":"Momo\u3001Ayame\u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 sudo mkdir -p /usr/local/etc/default/ sudo vi /etc/systemd/system/momo.service sudo vi /usr/local/etc/default/momo sudo vi /etc/systemd/system/ayame.service momo.service [Unit] Description = WebRTC Native Client Momo [Service] Type = simple WorkingDirectory = /var/log EnvironmentFile = /usr/local/etc/default/momo ExecStart = /usr/local/bin/momo --no-audio --video-device $VIDEO_DEVICE $OPTIONS ayame $AYAME_URL $ROOM_ID Restart = always [Install] WantedBy = multi-user.target /usr/local/etc/default/momo VIDEO_DEVICE =/ dev / video0 AYAME_URL = ws : // localhost : 3000 / signaling ROOM_ID = web_console OPTIONS = --force-i420 --use-native --resolution HD --fixed-resolution ayame.service [Unit] Description = WebRTC Signaling Server Ayame [Service] Type = simple WorkingDirectory = /usr/local/etc/ayame ExecStart = /usr/local/bin/ayame Restart = always [Install] WantedBy = multi-user.target sudo systemctl daemon-reload sudo systemctl enable momo sudo systemctl enable ayame sudo reboot","title":"Systemd\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a"},{"location":"Raspberry Pi/WebConsole/#_9","text":"\u4ee5\u964d\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u3078\u306e\u52d5\u753b\u914d\u4fe1\u3092\u5b9f\u73fe\u3059\u308bWebRTC\u3068HLS\u306b\u3064\u3044\u3066\u3001\u8abf\u3079\u305f\u3053\u3068\u3092\u4e0b\u8a18\u306b\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\u6b8b\u3057\u3066\u304a\u304f\u3002","title":"\u30e1\u30e2\u66f8\u304d"},{"location":"Raspberry Pi/WebConsole/#web-real-time-communicationwebrtc","text":"Google\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3084\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30b7\u30f3\u30d7\u30eb\u306aAPI\u7d4c\u7531\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u3092\u63d0\u4f9b\u3059\u308b\u81ea\u7531\u304b\u3064\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002 \u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u5185\u3067\u76f4\u63a5\u306e\u30d4\u30a2\u30fb\u30c4\u30fc\u30fb\u30d4\u30a2\u901a\u4fe1\u306b\u3088\u3063\u3066\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3084\u30cd\u30a4\u30c6\u30a3\u30d6\u30a2\u30d7\u30ea\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u305b\u305a\u306b\u3001 \u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u9593\u306e\u30dc\u30a4\u30b9\u30c1\u30e3\u30c3\u30c8\u3001\u30d3\u30c7\u30aa\u30c1\u30e3\u30c3\u30c8\u3001\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u304c\u53ef\u80fd\u3002 - Wikipedia\u300cWebRTC\u300d\u3088\u308a\u5f15\u7528 Peer-to-peer\u901a\u4fe1\u3067\u3042\u308b\u70b9\u304c\u7279\u5fb4\u3002 \u52d5\u753b\u914d\u4fe1\u306e\u305f\u3081\u306e\u30d7\u30c8\u30ed\u30b3\u30eb\u3067\u306f\u306a\u304f \u30d6\u30e9\u30a6\u30b6\u3092\u7528\u3044\u305f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u306e\u305f\u3081\u306e\u6280\u8853\u3067\u3059\u3002","title":"Web Real-Time Communication(WebRTC)"},{"location":"Raspberry Pi/WebConsole/#_10","text":"Web\u30d6\u30e9\u30a6\u30b6\u4e0a\u304b\u3089Web\u30ab\u30e1\u30e9\u3084\u30e2\u30cb\u30bf\u30fc\u5171\u6709\u306e\u52d5\u753b\u306a\u3069\u3092\u914d\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u30d9\u30fc\u30b9\u304cPeer-to-Peer\u901a\u4fe1\u306e\u305f\u3081\u3001\u63a5\u7d9a\u5148\u60c5\u5831\u306e\u4ea4\u63db\u3084NAT\u8d85\u3048\u306a\u3069\u306e\u4ed5\u7d44\u307f\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002 javascript\u3067HTML5\u306evideo\u30bf\u30b0\u306e\u30bd\u30fc\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u914d\u4fe1\u52d5\u753b\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u4e0a\u306b\u8868\u793a\u3057\u307e\u3059\u3002 HLS\u3068\u6bd4\u8f03\u3059\u308b\u3068\u9045\u5ef6\u306e\u5c11\u306a\u3044\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u914d\u4fe1\u304c\u53ef\u80fd\u3002 Note \u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 WebRTC \u30b9\u30bf\u30c3\u30af\u30b3\u30c8\u30cf\u30b8\u30e1 \u8a73\u89e3 WebRTC WebRTC\u306b\u3066(S)RTCP\u304c\u5fc5\u8981\u306a\u7406\u7531 - iwashi.co","title":"\u914d\u4fe1\u65b9\u6cd5"},{"location":"Raspberry Pi/WebConsole/#http-live-streaminghls","text":"Apple\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u52d5\u753b\u3092\u914d\u4fe1\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3002 MP4(H.264, AAC)\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u305f\u3082\u306e\u3068\u3001\u30de\u30b9\u30bf\u30fc\u30d5\u30a1\u30a4\u30eb\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3068\u547c\u3070\u308c\u308b\u30d5\u30a1\u30a4\u30eb(\u62e1\u5f35\u5b50: .m3u8)\u3092\u7528\u3044\u307e\u3059\u3002","title":"HTTP Live Streaming(HLS)"},{"location":"Raspberry Pi/WebConsole/#_11","text":"\u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092Web\u30b5\u30fc\u30d0\u306b\u914d\u7f6e\u3057\u3001HTML5\u306evideo\u30bf\u30b0\u3092\u7528\u3044\u3066\u914d\u4fe1\u304c\u3067\u304d\u307e\u3059\u3002 Note HLS\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u304b\u3063\u305f\u3002 \u52d5\u753b\u914d\u4fe1\u6280\u8853 \u305d\u306e1 - HTTP Live Streaming(HLS) - Akamai Japan Blog \u52d5\u753b\u306e\u5206\u5272\u3068\u914d\u7f6e\u304c\u5fc5\u8981\u306a\u305f\u3081\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u914d\u4fe1\u3067\u306f\u3042\u308b\u7a0b\u5ea6\u306e\u9045\u5ef6\u304c\u767a\u751f\u3057\u307e\u3059\u3002 ffmpeg\u7b49\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5206\u5272\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u53ef\u80fd\u3067\u3059\u3002 Example input.mp4\u304b\u3089output.m3u8\u3068\u3044\u3046\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30a4\u30eb\u3068 output001.ts, output002.ts\u3068\u3044\u3063\u305f\u5206\u5272\u3055\u308c\u305fmpeg2-ts\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\u3057\u307e\u3059\u3002 $ ffmpeg -i input.mp4 -c:v libx264 -c:a libfdk_aac -f hls -hls_time 5 -movflags faststart -hls_playlist_type vod -hls_segment_filename \"output%3d.ts\" output.m3u8 HID\u30c7\u30d0\u30a4\u30b9\u3067\u306f\"\u30ec\u30dd\u30fc\u30c8\"\u3068\u547c\u3070\u308c\u308b\u5358\u4f4d\u3067\u30c7\u30fc\u30bf\u3092\u3084\u308a\u3068\u308a\u3057\u307e\u3059\u3002\u30ec\u30dd\u30fc\u30c8\u306e\u5f62\u5f0f\u3092\u5b9a\u3081\u305f\u3082\u306e\u304c\u30ec\u30dd\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3067\u3059\u3002 \u21a9 WebRTC 1.0: Real-time Communication Between Browsers \u306712000\u884c\u307b\u3069\u3001[Media Capture and Streams]\u30675000\u884c\u307b\u3069\u306e\u82f1\u6587\u306e\u4ed5\u69d8\u66f8\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u21a9 USB HID\u306e\u30ad\u30fc\u30b3\u30fc\u30c9\u306b\u3064\u3044\u3066\u306f Human Interface Devices (HID) Information \u5185\u306e\"HID Usage Tables\"\u30da\u30fc\u30b8\u5185\u306ePDF\u8cc7\u6599\u306b\u8a18\u8f09\u306e\u3001\"10. Keyboard/Keypad Page (0x07) \"\u3092\u53c2\u7167\u3002 \u21a9 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306b\u306f\"g_hid\"\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u3066\u3044\u308b\u8a18\u8ff0\u3082\u898b\u3064\u304b\u308a\u307e\u3059\u304c\u3001Raspbian Buster\u3067\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002 \u21a9","title":"\u914d\u4fe1\u65b9\u6cd5"},{"location":"RouterOS/","text":"RouterOS RouterOS \u3068\u306f MikroTik\u793e \u306e\u958b\u767a\u3059\u308b\u4f4e\u30b3\u30b9\u30c8\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u88fd\u54c1\u300cRouterBoard\u300d\u5411\u3051\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3002 Linux\u30d9\u30fc\u30b9 \u307e\u305f\u3001PC\u3084\u4eee\u60f3\u30de\u30b7\u30f3\u3078\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308a\u3001\u5404\u7a2e\u4eee\u60f3\u74b0\u5883\u5411\u3051\u306e\u30a4\u30e1\u30fc\u30b8\u3082\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u3002 MikroTik Routers and Wireless - Software Download \u6a5f\u80fd \u304b\u306a\u308a\u306e\u9ad8\u6a5f\u80fd\u3067\u3059\u3002 \u7ba1\u7406 Web Browser/SSH/telnet/Serial console/REST API/ Winbox(Windows\u30a2\u30d7\u30ea)/MikroTik\u30a2\u30d7\u30ea(Android/iOS) IPv4\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 Static/BFD/BGP/RIPv1/RIPv2/OSPF/MME IPv6\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 Static/BGP/RIPng/OSPF Layer2 VPN VPLS Layer3 VPN L2TP/IPSec/PPTP Firewall port based/tag based/address list/L7 Firewall(Regexp) \u305d\u306e\u4ed6\u6a5f\u80fd Bonding/VLAN(802.1Q)/Authentication(802.1X, RADIUS)/NAT/IP Masquerade/ DHCP Server/DHCP Client/DHCP Relay/SMB Server/ SSH Client/Scheduler/Scripting/SNMP/rsyslog... \u30e9\u30a4\u30bb\u30f3\u30b9 2019/10\u73fe\u5728\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u306f \u8cb7\u3044\u5207\u308a\u5236 \u3001\u3057\u304b\u3082\u304b\u306a\u308a\u306e\u89aa\u5207\u4fa1\u683c\u3002 \u4eee\u60f3\u74b0\u5883\u5411\u3051\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306fCHR(Cloud Hosted Router)\u30e9\u30a4\u30bb\u30f3\u30b9\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u304c\u9069\u7528\u3055\u308c\u308b\u3002 CHR\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u306f\u3001\u4e0b\u8a18\u306e5\u7a2e\u985e\u304c\u5b58\u5728\u3059\u308b\u3002 \u7a2e\u985e \u901a\u4fe1\u901f\u5ea6\u5236\u9650 \u4fa1\u683c Free 1Mbit/s \u7121\u511f P1 (perpetual-1) 1Gbit/s $45 P10 (perpetual-10) 10Gbit/s $95 P-Unlimited (perpetual-unlimited) \u306a\u3057 $250 60-day trial \u306a\u3057 \u7121\u511f \u305f\u3060\u3057\u3001\u300c60-day trial\u300d\u306f\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u6709\u52b9\u5316\u5f8c60\u65e5\u9593\u306e\u307f\u5229\u7528\u53ef\u80fd\u306a\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u3042\u308b\u3002 \u5bfe\u5fdc\u74b0\u5883/\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5 2019/10\u73fe\u5728\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3002 VMWare Fusion / Workstation and ESXi 6.5 VirtualBox Hyper-V Amazon Web Services (AWS) Hetzner Cloud Linode Google Compute Engine ProxMox \u6700\u65b0\u60c5\u5831\u306f Manual:CHR - MikroTik Wiki \u3092\u53c2\u7167\u3055\u308c\u305f\u3044\u3002 \u305d\u306e\u4ed6\u60c5\u5831 RouterBoard User Group \u975e\u516c\u5f0f\u306a\u304c\u3089\u3082\u3001\u6700\u65b0\u60c5\u5831\u3092\u3053\u3068\u7d30\u304b\u306b\u516c\u958b\u3055\u308c\u3066\u304a\u308a\u3001 RouterOS\u95a2\u9023\u60c5\u5831\u306e\u30ad\u30e3\u30c3\u30c1\u30a2\u30c3\u30d7\u306b\u975e\u5e38\u306b\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002 Tweets by RBUG_JP","title":"RouterOS"},{"location":"RouterOS/#routeros","text":"","title":"RouterOS"},{"location":"RouterOS/#routeros_1","text":"MikroTik\u793e \u306e\u958b\u767a\u3059\u308b\u4f4e\u30b3\u30b9\u30c8\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u88fd\u54c1\u300cRouterBoard\u300d\u5411\u3051\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3002 Linux\u30d9\u30fc\u30b9 \u307e\u305f\u3001PC\u3084\u4eee\u60f3\u30de\u30b7\u30f3\u3078\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308a\u3001\u5404\u7a2e\u4eee\u60f3\u74b0\u5883\u5411\u3051\u306e\u30a4\u30e1\u30fc\u30b8\u3082\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u3002 MikroTik Routers and Wireless - Software Download","title":"RouterOS \u3068\u306f"},{"location":"RouterOS/#_1","text":"\u304b\u306a\u308a\u306e\u9ad8\u6a5f\u80fd\u3067\u3059\u3002 \u7ba1\u7406 Web Browser/SSH/telnet/Serial console/REST API/ Winbox(Windows\u30a2\u30d7\u30ea)/MikroTik\u30a2\u30d7\u30ea(Android/iOS) IPv4\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 Static/BFD/BGP/RIPv1/RIPv2/OSPF/MME IPv6\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 Static/BGP/RIPng/OSPF Layer2 VPN VPLS Layer3 VPN L2TP/IPSec/PPTP Firewall port based/tag based/address list/L7 Firewall(Regexp) \u305d\u306e\u4ed6\u6a5f\u80fd Bonding/VLAN(802.1Q)/Authentication(802.1X, RADIUS)/NAT/IP Masquerade/ DHCP Server/DHCP Client/DHCP Relay/SMB Server/ SSH Client/Scheduler/Scripting/SNMP/rsyslog...","title":"\u6a5f\u80fd"},{"location":"RouterOS/#_2","text":"2019/10\u73fe\u5728\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u306f \u8cb7\u3044\u5207\u308a\u5236 \u3001\u3057\u304b\u3082\u304b\u306a\u308a\u306e\u89aa\u5207\u4fa1\u683c\u3002 \u4eee\u60f3\u74b0\u5883\u5411\u3051\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306fCHR(Cloud Hosted Router)\u30e9\u30a4\u30bb\u30f3\u30b9\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u304c\u9069\u7528\u3055\u308c\u308b\u3002 CHR\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u306f\u3001\u4e0b\u8a18\u306e5\u7a2e\u985e\u304c\u5b58\u5728\u3059\u308b\u3002 \u7a2e\u985e \u901a\u4fe1\u901f\u5ea6\u5236\u9650 \u4fa1\u683c Free 1Mbit/s \u7121\u511f P1 (perpetual-1) 1Gbit/s $45 P10 (perpetual-10) 10Gbit/s $95 P-Unlimited (perpetual-unlimited) \u306a\u3057 $250 60-day trial \u306a\u3057 \u7121\u511f \u305f\u3060\u3057\u3001\u300c60-day trial\u300d\u306f\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u6709\u52b9\u5316\u5f8c60\u65e5\u9593\u306e\u307f\u5229\u7528\u53ef\u80fd\u306a\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u3042\u308b\u3002","title":"\u30e9\u30a4\u30bb\u30f3\u30b9"},{"location":"RouterOS/#_3","text":"2019/10\u73fe\u5728\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3002 VMWare Fusion / Workstation and ESXi 6.5 VirtualBox Hyper-V Amazon Web Services (AWS) Hetzner Cloud Linode Google Compute Engine ProxMox \u6700\u65b0\u60c5\u5831\u306f Manual:CHR - MikroTik Wiki \u3092\u53c2\u7167\u3055\u308c\u305f\u3044\u3002","title":"\u5bfe\u5fdc\u74b0\u5883/\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5"},{"location":"RouterOS/#_4","text":"RouterBoard User Group \u975e\u516c\u5f0f\u306a\u304c\u3089\u3082\u3001\u6700\u65b0\u60c5\u5831\u3092\u3053\u3068\u7d30\u304b\u306b\u516c\u958b\u3055\u308c\u3066\u304a\u308a\u3001 RouterOS\u95a2\u9023\u60c5\u5831\u306e\u30ad\u30e3\u30c3\u30c1\u30a2\u30c3\u30d7\u306b\u975e\u5e38\u306b\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002 Tweets by RBUG_JP","title":"\u305d\u306e\u4ed6\u60c5\u5831"},{"location":"RouterOS/Backup/","text":"\u30db\u30b9\u30c8\u304b\u3089\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u30eb\u30fc\u30bf\u30fc\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092PC\u4e0a\u306b\u4fdd\u5b58\u3059\u308b\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u30e6\u30fc\u30b6\u306e\u4f5c\u6210 admin\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001 backup \u30b0\u30eb\u30fc\u30d7/\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3001\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u63a5\u7d9a\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002 SSH\u516c\u958b\u9375\u4f5c\u6210 on Host PC \u516c\u958b\u9375/\u79d8\u5bc6\u9375\u3092\u4f5c\u6210 \u3088\u3057\u306a\u306b\u5165\u529b\u3059\u308b\u3002 \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001ssh-agent\u3078\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u767b\u9332\u3092\u884c\u3046\u3002 > ssh-keygen -t rsa -b 4096 Generating public / private rsa key pair . Enter file in which to save the key ( C :\\ Users \\ ryo / . ssh / id_rsa ) : Enter passphrase ( empty for no passphrase ) : Enter same passphrase again : Your identification has been saved in C :\\ Users \\ ryo / . ssh / id_rsa . Your public key has been saved in C :\\ Users \\ ryo / . ssh / id_rsa . pub . The key fingerprint is : ... \u516c\u958b\u9375\u3092\u30eb\u30fc\u30bf\u3078\u8ee2\u9001 > scp ~/.ssh/id_rsa.pub admin@192.168.XXX.XXX:. admin @192.168 . XXX . XXX ' s password : id_rsa . pub 100 % 605 0.6 KB / s 00 : 00 ~/.ssh/config \u30d5\u30a1\u30a4\u30eb\u3078\u3001\u30eb\u30fc\u30bf\u306eIP\u30a2\u30c9\u30ec\u30b9/\u30e6\u30fc\u30b6\u3092\u8ffd\u8a18\u3059\u308b \u4e0b\u8a18\u3092\u8ffd\u8a18\u3059\u308b\u3002 ~/.ssh/config Host Router Hostname 192 . 168 . XXX . XXX User backup \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u30e6\u30fc\u30b6\u4f5c\u6210 on RouterOS \u30b0\u30eb\u30fc\u30d7\u4f5c\u6210 /user group add name=backup policy=ssh,ftp,read,policy,test,sensitive \u30e6\u30fc\u30b6\u4f5c\u6210 /user add name=backup group=backup password=************ \u516c\u958b\u9375\u306e\u7d10\u4ed8\u3051 /user ssh-keys import user=backup public-key-file=id_rsa.pub \u63a5\u7d9a\u78ba\u8a8d on Host PC \u63a5\u7d9a\u306e\u78ba\u8a8d \u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u306a\u3057\u306b\u8868\u793a\u3055\u308c\u308b\u3002 > ssh Router \"/system resource print\" Result uptime : 1 w1d22h17m27s version : 6 . 45 . 6 ( stable ) build - time : Sep / 10 / 2019 09 : 06 : 31 free - memory : 428 . 1 MiB total - memory : 480 . 0 MiB cpu : Intel ( R ) cpu - count : 2 cpu - frequency : 3695 MHz cpu - load : 1 % free - hdd - space : 29 . 3 MiB total - hdd - space : 63 . 5 MiB write - sect - since - reboot : 130136 write - sect - total : 130137 architecture - name : x86_64 board - name : CHR platform : MikroTik \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5b9f\u884c \u30b9\u30af\u30ea\u30d7\u30c8\u4f5c\u6210 \u4e0b\u8a18\u306e\u69d8\u306a\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b backup_routeros.ps1 \u5b9f\u884c Result PS C : \\ tools > . \\ backup_router . ps1 Connected to Router . Fetching / Backup - 20191008 - 164812 . backup to C : / Users / Public / RouterOS_backup / Backup - 20191008 - 164812 . backup / Backup - 20191008 - 164812 . backup 100 % 354 KB 338 . 2 MB / s 00 : 00 2019 / 10 / 08 16 : 48 : 12 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306b\u6210\u529f\u3057\u307e\u3057\u305f","title":"Backup"},{"location":"RouterOS/Backup/#_1","text":"\u30eb\u30fc\u30bf\u30fc\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092PC\u4e0a\u306b\u4fdd\u5b58\u3059\u308b\u3002","title":"\u30db\u30b9\u30c8\u304b\u3089\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7"},{"location":"RouterOS/Backup/#_2","text":"admin\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001 backup \u30b0\u30eb\u30fc\u30d7/\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3001\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u63a5\u7d9a\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u30e6\u30fc\u30b6\u306e\u4f5c\u6210"},{"location":"RouterOS/Backup/#ssh-on-host-pc","text":"\u516c\u958b\u9375/\u79d8\u5bc6\u9375\u3092\u4f5c\u6210 \u3088\u3057\u306a\u306b\u5165\u529b\u3059\u308b\u3002 \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001ssh-agent\u3078\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u767b\u9332\u3092\u884c\u3046\u3002 > ssh-keygen -t rsa -b 4096 Generating public / private rsa key pair . Enter file in which to save the key ( C :\\ Users \\ ryo / . ssh / id_rsa ) : Enter passphrase ( empty for no passphrase ) : Enter same passphrase again : Your identification has been saved in C :\\ Users \\ ryo / . ssh / id_rsa . Your public key has been saved in C :\\ Users \\ ryo / . ssh / id_rsa . pub . The key fingerprint is : ... \u516c\u958b\u9375\u3092\u30eb\u30fc\u30bf\u3078\u8ee2\u9001 > scp ~/.ssh/id_rsa.pub admin@192.168.XXX.XXX:. admin @192.168 . XXX . XXX ' s password : id_rsa . pub 100 % 605 0.6 KB / s 00 : 00 ~/.ssh/config \u30d5\u30a1\u30a4\u30eb\u3078\u3001\u30eb\u30fc\u30bf\u306eIP\u30a2\u30c9\u30ec\u30b9/\u30e6\u30fc\u30b6\u3092\u8ffd\u8a18\u3059\u308b \u4e0b\u8a18\u3092\u8ffd\u8a18\u3059\u308b\u3002 ~/.ssh/config Host Router Hostname 192 . 168 . XXX . XXX User backup","title":"SSH\u516c\u958b\u9375\u4f5c\u6210 on Host PC"},{"location":"RouterOS/Backup/#on-routeros","text":"\u30b0\u30eb\u30fc\u30d7\u4f5c\u6210 /user group add name=backup policy=ssh,ftp,read,policy,test,sensitive \u30e6\u30fc\u30b6\u4f5c\u6210 /user add name=backup group=backup password=************ \u516c\u958b\u9375\u306e\u7d10\u4ed8\u3051 /user ssh-keys import user=backup public-key-file=id_rsa.pub","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528\u30e6\u30fc\u30b6\u4f5c\u6210 on RouterOS"},{"location":"RouterOS/Backup/#on-host-pc","text":"\u63a5\u7d9a\u306e\u78ba\u8a8d \u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u306a\u3057\u306b\u8868\u793a\u3055\u308c\u308b\u3002 > ssh Router \"/system resource print\" Result uptime : 1 w1d22h17m27s version : 6 . 45 . 6 ( stable ) build - time : Sep / 10 / 2019 09 : 06 : 31 free - memory : 428 . 1 MiB total - memory : 480 . 0 MiB cpu : Intel ( R ) cpu - count : 2 cpu - frequency : 3695 MHz cpu - load : 1 % free - hdd - space : 29 . 3 MiB total - hdd - space : 63 . 5 MiB write - sect - since - reboot : 130136 write - sect - total : 130137 architecture - name : x86_64 board - name : CHR platform : MikroTik","title":"\u63a5\u7d9a\u78ba\u8a8d on Host PC"},{"location":"RouterOS/Backup/#_3","text":"","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5b9f\u884c"},{"location":"RouterOS/Backup/#_4","text":"\u4e0b\u8a18\u306e\u69d8\u306a\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b backup_routeros.ps1","title":"\u30b9\u30af\u30ea\u30d7\u30c8\u4f5c\u6210"},{"location":"RouterOS/Backup/#_5","text":"Result PS C : \\ tools > . \\ backup_router . ps1 Connected to Router . Fetching / Backup - 20191008 - 164812 . backup to C : / Users / Public / RouterOS_backup / Backup - 20191008 - 164812 . backup / Backup - 20191008 - 164812 . backup 100 % 354 KB 338 . 2 MB / s 00 : 00 2019 / 10 / 08 16 : 48 : 12 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306b\u6210\u529f\u3057\u307e\u3057\u305f","title":"\u5b9f\u884c"},{"location":"RouterOS/Firewall/","text":"Firewall\u306e\u8a2d\u5b9a \u65e5\u672c\u56fd\u5916\u304b\u3089\u306e\u901a\u4fe1\u306e\u906e\u65ad \u65e5\u672c\u56fd\u5185\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308bIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u901a\u4fe1\u306e\u307f\u3092\u8a31\u53ef\u3059\u308b\u3088\u3046\u8a2d\u5b9a\u3059\u308b\u3002 \u307e\u305f\u3001\u5272\u5f53\u3066IP\u30a2\u30c9\u30ec\u30b9\u306e\u66f4\u65b0\u306b\u5bfe\u5fdc\u3059\u308b\u3002 JP\u30a2\u30c9\u30ec\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210 \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092Github Gists\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 setup_and_exec.sh curl -L -O https://gist.githubusercontent.com/roy-n-roy/cc49d45e0d8f35d905cbbbd3f685d4ee/raw/setup_and_exec.sh \u4e0b\u8a18\u306e2\u884c\u3092\u30eb\u30fc\u30bf\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3001admin\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306b\u66f8\u304d\u63db\u3048\u308b setup_and_exec.sh ipAddress = \"192.168.XXX.XXX\" password = \"Passw0rd\" \u5b9f\u884c chmod +x setup_and_exec.sh ./setup_and_exec.sh Result % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 27 100 27 0 0 519 0 --:--:-- --:--:-- --:--:-- 519 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 1210 100 1210 0 0 35588 0 --:--:-- --:--:-- --:--:-- 36666 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 131 100 131 0 0 3742 0 --:--:-- --:--:-- --:--:-- 3638 New Vault password : <- \u30eb\u30fc\u30bf\u30fc\u306e\u30ed\u30b0\u30a4\u30f3\u30d1\u30b9\u30ef\u30fc\u30c9\u4fdd\u7ba1\u7528\u9375\u3068\u306a\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b Confirm New Vault password : <- \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\uff08\u4fdd\u7ba1\u6642\u306e\u78ba\u8a8d\uff09 Encryption successful Vault password : <- \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\uff08\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\uff09 PLAY [ localhost ] ***************************************************************************************************** TASK [ Gathering Facts ] *********************************************************************************************** ok : [ localhost ] TASK [ Download IP Address List ] ************************************************************************************** (... \u4e2d\u7565 ...) skipping : [ 192.168 . XXX . XXX ] => ( item = apnic | BD | asn | 139622 | 1 | 20190829 | allocated | A91E773E ) skipping : [ 192.168 . XXX . XXX ] => ( item = apnic | AU | asn | 139623 | 1 | 20190830 | allocated | A919337F ) skipping : [ 192.168 . XXX . XXX ] => ( item = apnic | IN | asn | 139624 | 1 | 20190830 | allocated | A9114899 ) skipping : [ 192.168 . XXX . XXX ] => ( item = apnic || asn | 139625 | 2001 || available |) PLAY RECAP *********************************************************************************************************** 192.168 . XXX . XXX : ok = 3 changed = 0 unreachable = 0 failed = 0 skipped = 0 rescued = 0 ignored = 0 localhost : ok = 2 changed = 0 unreachable = 0 failed = 0 skipped = 0 rescued = 0 ignored = 0 2\u56de\u76ee\u4ee5\u964d\u306e\u5b9f\u884c ansible-playbook -i hosts set_firewalls.yml setup_and_exec.sh\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb set_firewalls.yml group_vars_routeros_login.yml hosts","title":"Firewall"},{"location":"RouterOS/Firewall/#firewall","text":"","title":"Firewall\u306e\u8a2d\u5b9a"},{"location":"RouterOS/Firewall/#_1","text":"\u65e5\u672c\u56fd\u5185\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308bIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u901a\u4fe1\u306e\u307f\u3092\u8a31\u53ef\u3059\u308b\u3088\u3046\u8a2d\u5b9a\u3059\u308b\u3002 \u307e\u305f\u3001\u5272\u5f53\u3066IP\u30a2\u30c9\u30ec\u30b9\u306e\u66f4\u65b0\u306b\u5bfe\u5fdc\u3059\u308b\u3002","title":"\u65e5\u672c\u56fd\u5916\u304b\u3089\u306e\u901a\u4fe1\u306e\u906e\u65ad"},{"location":"RouterOS/Firewall/#jp","text":"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092Github Gists\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 setup_and_exec.sh curl -L -O https://gist.githubusercontent.com/roy-n-roy/cc49d45e0d8f35d905cbbbd3f685d4ee/raw/setup_and_exec.sh \u4e0b\u8a18\u306e2\u884c\u3092\u30eb\u30fc\u30bf\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3001admin\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306b\u66f8\u304d\u63db\u3048\u308b setup_and_exec.sh ipAddress = \"192.168.XXX.XXX\" password = \"Passw0rd\" \u5b9f\u884c chmod +x setup_and_exec.sh ./setup_and_exec.sh Result % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 27 100 27 0 0 519 0 --:--:-- --:--:-- --:--:-- 519 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 1210 100 1210 0 0 35588 0 --:--:-- --:--:-- --:--:-- 36666 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 131 100 131 0 0 3742 0 --:--:-- --:--:-- --:--:-- 3638 New Vault password : <- \u30eb\u30fc\u30bf\u30fc\u306e\u30ed\u30b0\u30a4\u30f3\u30d1\u30b9\u30ef\u30fc\u30c9\u4fdd\u7ba1\u7528\u9375\u3068\u306a\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b Confirm New Vault password : <- \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\uff08\u4fdd\u7ba1\u6642\u306e\u78ba\u8a8d\uff09 Encryption successful Vault password : <- \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\uff08\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\uff09 PLAY [ localhost ] ***************************************************************************************************** TASK [ Gathering Facts ] *********************************************************************************************** ok : [ localhost ] TASK [ Download IP Address List ] ************************************************************************************** (... \u4e2d\u7565 ...) skipping : [ 192.168 . XXX . XXX ] => ( item = apnic | BD | asn | 139622 | 1 | 20190829 | allocated | A91E773E ) skipping : [ 192.168 . XXX . XXX ] => ( item = apnic | AU | asn | 139623 | 1 | 20190830 | allocated | A919337F ) skipping : [ 192.168 . XXX . XXX ] => ( item = apnic | IN | asn | 139624 | 1 | 20190830 | allocated | A9114899 ) skipping : [ 192.168 . XXX . XXX ] => ( item = apnic || asn | 139625 | 2001 || available |) PLAY RECAP *********************************************************************************************************** 192.168 . XXX . XXX : ok = 3 changed = 0 unreachable = 0 failed = 0 skipped = 0 rescued = 0 ignored = 0 localhost : ok = 2 changed = 0 unreachable = 0 failed = 0 skipped = 0 rescued = 0 ignored = 0","title":"JP\u30a2\u30c9\u30ec\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210"},{"location":"RouterOS/Firewall/#2","text":"ansible-playbook -i hosts set_firewalls.yml","title":"2\u56de\u76ee\u4ee5\u964d\u306e\u5b9f\u884c"},{"location":"RouterOS/Firewall/#setup_and_execsh","text":"set_firewalls.yml group_vars_routeros_login.yml hosts","title":"setup_and_exec.sh\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb"},{"location":"RouterOS/VPN Server/","text":"\u76ee\u7684 \u51fa\u5148\u3067\u7de8\u96c6\u3057\u3088\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u30c7\u30fc\u30bf\u3092\u30e2\u30d0\u30a4\u30ebPC\u306b\u540c\u671f\u3057\u5fd8\u308c\u3066\u3044\u305f \u81ea\u5b85PC\u3067\u30b3\u30df\u30c3\u30c8\u3057\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092GitHub\u306b\u30d7\u30c3\u30b7\u30e5\u3057\u5fd8\u308c\u3066\u3044\u305f \u305d\u3093\u306a\u6642\u3001\u51fa\u5148\u304b\u3089\u81ea\u5b85\u306b\u3069\u3053\u304b\u3089\u3067\u3082\u63a5\u7d9a\u3067\u304d\u308c\u3070\u3001\u5b85\u5185\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u306b\u306f\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u3057\u3001Wake-on-Lan\u3067\u81ea\u5b85PC\u3092\u8d77\u52d5\u3057\u3066\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u306a\u306e\u3067\u3001\u81ea\u5b85\u3078\u63a5\u7d9a\u3067\u304d\u308bVPN\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u8981\u4ef6 \u4eca\u56de\u306eVPN\u306e\u8981\u4ef6\u306f\u3001\u4e0b\u8a18\u306e3\u70b9\u3067\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u304b\u3089\u81ea\u5b85\u5185\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u63a5\u7d9a\u3067\u304d\u308b \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7aef\u672b\u306fWindows10 PC\u304a\u3088\u3073iOS12\uff5e13\u306eiPhone\u304a\u3088\u3073iPad \u3067\u304d\u308c\u3070OS\u306e\u6a5f\u80fd\u306e\u307f\u3067\u63a5\u7d9a\u3057\u305f\u3044 \u5916\u90e8\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u74b0\u5883 \u4e00\u65b9\u3001\u6628\u4eca\u306e\u56fd\u5185\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u74b0\u5883\u306fNTT\u6771\u897f\u306eNGN\u5149\u30d5\u30a1\u30a4\u30d0\u7db2\u3001au\u3072\u304b\u308a\u306e\u5149\u30d5\u30a1\u30a4\u30d0\u7db2\u3001\u30b1\u30fc\u30d6\u30eb\u30c6\u30ec\u30d3\u7db2\u30014G LTE\u7121\u7dda\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7db2\u306a\u3069\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u79c1\u306e\u5bb6\u3067\u306f\u30d5\u30ec\u30c3\u30c4\u5149\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u30d5\u30ec\u30c3\u30c4\u5149\u306eIPv4 PPPoE\u63a5\u7d9a\u306f\u5915\u65b9\uff5e\u591c\u9593\u306b\u304b\u3051\u3066\u306e\u3001\u3044\u308f\u3086\u308b\u30b4\u30fc\u30eb\u30c7\u30f3\u30bf\u30a4\u30e0\u5e2f\u306b\u30d7\u30ed\u30d0\u30a4\u30c0\u5074\u306e\u7db2\u7d42\u7aef\u88c5\u7f6e\u3067\u8f3b\u8f33\u304c\u767a\u751f\u3057\u3066\u3001\u5341\u5206\u306b\u901f\u5ea6\u304c\u51fa\u306a\u3044\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u8d77\u304d\u3066\u3044\u307e\u3059\u3002 \u305d\u308c\u3089\u306e\u56de\u907f\u306e\u305f\u3081\u3001\u6700\u8fd1\u306eISP\u5951\u7d04\u3067\u306fJPNE\u306e\u63d0\u4f9b\u3059\u308b\u300cv6\u30d7\u30e9\u30b9\u300d\u306a\u3069\u3001MAP-E\u3084DS-Lite\u3068\u3044\u3063\u305f\u6280\u8853\u3092\u5229\u7528\u3057\u305fIPv4 over IPv6\u63a5\u7d9a(\u7db2\u7d42\u7aef\u88c5\u7f6e\u3092\u7d4c\u7531\u3057\u306a\u3044IPv4\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a)\u30b5\u30fc\u30d3\u30b9\u304c\u5897\u3048\u3066\u304d\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u306a\u304c\u3089\u3001\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d3\u30b9\u306fIPv4\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8907\u6570\u306e\u30e6\u30fc\u30b6\u3067\u5171\u6709\u3057\u3066\u304a\u308a\u3001\u4efb\u610f\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30dd\u30fc\u30c8\u306e\u958b\u653e\u304c\u96e3\u3057\u3044\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059 1 2 \u3002 \u3088\u3063\u3066\u3001\u4eca\u56de\u306f\u5b85\u5185\u304b\u3089\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3068\u306f\u5225\u306eISP\u5951\u7d04\u3092\u7528\u610f\u3057\u3066PPPoE\u63a5\u7d9a\u3057\u3001\u30b5\u30fc\u30d0\u516c\u958b\u7528\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u74b0\u5883\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 VPN\u63a5\u7d9a\u65b9\u5f0f\u306e\u9078\u5b9a \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8VPN\u306e\u65b9\u5f0f\u3068\u3057\u3066\u3001\u4e0b\u8a18\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u3002 \u4ee5\u524d\u306bL2TP/IPsec\u3092\u5229\u7528\u3057\u305f\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306fIKEv2\u3092\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u30d7\u30ed\u30c8\u30b3\u30eb Windows\u5bfe\u5fdc iOS\u5bfe\u5fdc PPTP \u3007 \u203biOS10\u4ee5\u964d\u306f\u4f7f\u7528\u4e0d\u53ef L2TP/IPsec \u3007 \u3007 MS-SSTP \u3007 \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 IKEv2 \u3007 \u3007 OpenVPN \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 SoftEtherVPN \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 \u203b\u30b5\u30fc\u30d0\u81ea\u4f53\u3078\u306fL2TP/IPsec, MS-SSTP\u306a\u3069\u3067\u63a5\u7d9a\u53ef \u203b\u30b5\u30fc\u30d0\u81ea\u4f53\u3078\u306f L2TP/IPsec\u306a\u3069\u3067\u63a5\u7d9a\u53ef VPN\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u9078\u5b9a VPN\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u5916\u90e8\u304b\u3089\u306e\u5165\u308a\u53e3\u3092\u4f5c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304b\u3089\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u6c17\u3092\u9063\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u6c4e\u7528OS\u306e\u4e0a\u3067VPN\u30b5\u30fc\u30d0\u3092\u52d5\u304b\u3059\u3053\u3068\u3082\u8003\u3048\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u5834\u5408\u306b\u306fOS\u3068VPN\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u60c5\u5831\u306e\u4e21\u65b9\u3092\u8ffd\u3063\u3066\u3044\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001\u904b\u7528\u304c\u9762\u5012\u3060\u3068\u8003\u3048\u307e\u3057\u305f\u3002 \u307e\u305f\u3001VPN\u30b5\u30fc\u30d0\u306b\u306f\u305d\u308c\u4ee5\u5916\u306e\u4ed5\u4e8b\u3092\u3055\u305b\u305f\u304f\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306fMikroTik\u793e\u306eRouterOS\u3092\u5229\u7528\u3057\u3066\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u8a08 \u4e0b\u8a18\u306e\u3088\u3046\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210\u3068\u3057\u307e\u3057\u305f\u3002 DMZ\u5074\u306eFirewall\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002 \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089DMZ\u3078\u306e\u63a5\u7d9a\u304a\u3088\u3073\u3001\u305d\u306e\u6298\u308a\u8fd4\u3057\u3092\u8a31\u53ef\u3059\u308b \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b DMZ\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u63a5\u7d9a\u304a\u3088\u3073\u3001\u305d\u306e\u6298\u308a\u8fd4\u3057\u3092\u8a31\u53ef\u3057\u3001NAT\u5909\u63db\u3059\u308b DMZ\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306eDNS\u554f\u3044\u5408\u308f\u305b\u3092\u8a31\u53ef\u3059\u308b VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u63a5\u7d9a\u3092\u4e00\u90e8\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3059\u308b \u5916\u90e8\u304b\u3089\u306eVPN\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3059\u308b \u5916\u90e8\u304b\u3089Web\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u30fb\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3057\u3001NAT\u5909\u63db\u3059\u308b \u305d\u306e\u4ed6\u306e\u63a5\u7d9a\u3092\u62d2\u5426\u3059\u308b VPN\u8a8d\u8a3c\u65b9\u5f0f \u8a8d\u8a3c\u65b9\u5f0f\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3067\u306e\u8a8d\u8a3c\u3068\u3057\u307e\u3057\u305f\u3002 VPN\u30b5\u30fc\u30d0\u69cb\u7bc9 \u5b9f\u969b\u306bRouterOS\u3078\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u4f5c\u696d\u3092\u59cb\u3081\u308b\u524d\u306b\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 / system backup save name = YYYYMMDD - HHMM - before - vpn - setting . backup password =******** \u306a\u304a\u3001\u4eca\u56de\u306fRouterOS 6.45.6\u3067\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\u5c06\u6765\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u8a2d\u5b9a\u65b9\u6cd5\u304c\u5909\u66f4\u306b\u306a\u308b\u53ef\u80fd\u6027\u3082\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u3054\u7559\u610f\u304f\u3060\u3055\u3044\u3002 \u8a73\u7d30\u3001\u307e\u305f\u6700\u65b0\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f Manual:IP/IPsec - MikroTik Wiki \u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3092\u5f37\u304f\u63a8\u5968\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u3053\u3067\u306fVPN\u30eb\u30fc\u30bf\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30c9\u30e1\u30a4\u30f3\u540d vpn.yourdomain.com \u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u3066\u9032\u3081\u307e\u3059\u3002 \u72ec\u81ea\u8a8d\u8a3c\u5c40\u3068\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 VPN\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u6b63\u771f\u6027\u691c\u8a3c\u3084\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u8a3c\u660e\u66f8\u3092\u7528\u610f\u3057\u307e\u3059\u3002 \u6b63\u898f\u306e\u8a8d\u8a3c\u5c40\u304b\u3089\u8cfc\u5165\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304c\u3001\u4eca\u56de\u306fRouterOS\u4e0a\u3067\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u3001\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u30fb\u7f72\u540d\u3057\u307e\u3059\u3002 \u72ec\u81eaCA\u306e\u69cb\u7bc9 \u307e\u305a\u3001VPN\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u9375\u306b\u7f72\u540d\u3059\u308b\u305f\u3081\u306eCA\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 / certificate add common - name = \"VPN Root CA\" name = ca key - size = 2048 days - valid = 3650 country = JP key - usage = key - cert - sign , crl - sign trusted = yes / certificate sign ca ca - crl - host = vpn . yourdomain . com VPN\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 \u6b21\u306b\u3001VPN\u30b5\u30fc\u30d0\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001CA\u3067\u7f72\u540d\u3057\u307e\u3059\u3002 / certificate add common - name = vpn . yourdomain . com name = server key - size = 2048 days - valid = 3650 country = JP subject - alt - name = DNS : vpn . yourdomain . com key - usage = digital - signature , key - encipherment , data - encipherment , ipsec - tunnel , ipsec - end - system , tls - server / certificate sign server ca = ca / certificate set server trusted = yes \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8a8d\u8a3c\u3059\u308b\u305f\u3081\u306e\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001CA\u3067\u7f72\u540d\u3057\u307e\u3059\u3002 / certificate add common - name = user1 @ vpn . yourdomain . com name = client_user1 key - size = 2048 days - valid = 3650 country = JP subject - alt - name = email : user1 @ vpn . yourdomain . com key - usage = digital - signature , key - encipherment , data - encipherment , ipsec - user , ipsec - tunnel , ipsec - end - system , tls - client / certificate sign client_user1 ca = ca / certificate set client_user1 trusted = yes \u3082\u3057\u3001\u8a3c\u660e\u66f8\u304c\u6d41\u51fa\u3059\u308b\u306a\u3069\u3057\u3066\u3001\u5931\u52b9\u3055\u305b\u308b\u5834\u5408 \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8a3c\u660e\u66f8\u3092\u5931\u52b9\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 / certificate set client_user1 trusted = no / certificate issued - revoke client_user1 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u306b\u8a3c\u660e\u66f8\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 Windows/iOS\u7528\u3067\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u305b\u308b\u305f\u3081\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u3053\u306e\u3068\u304d\u3001\u5fc5\u305a\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u6b63\u3057\u3044\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002 Windows\u5411\u3051\u306b\u306fPKCS12\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001CA\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u304c\u7d10\u4ed8\u3044\u305f\u72b6\u614b\u3067Windows\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002 iOS\u5411\u3051\u306b\u306fCA\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4e21\u65b9\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002iOS\u306fPKCS12\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3060\u3068CA\u304c\u7d10\u4ed8\u3044\u305f\u72b6\u614b\u3067\u4e0a\u624b\u304f\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u306a\u3044\u305d\u3046\u3067\u3059\u3002 # Windows\u5411\u3051 / certificate export - certificate client_user1 export - passphrase = 1234567890 type = pkcs12 # iOS\u5411\u3051 / certificate export - certificate ca type = pem / certificate export - certificate client_user1 export - passphrase = 1234567890 type = pkcs12 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001scp,sftp\u3067\u306e\u8ee2\u9001\u3059\u308b\u306a\u308a\u3057\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8OS\u3078\u8ee2\u9001\u3057\u3066\u304f\u3060\u3055\u3044\u3002 IPsec/IKEv2\u8a2d\u5b9a RouterOS\u4e0a\u3067VPN\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 # IPsec Phase1 \u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3001 Phase2 \u30d7\u30ed\u30dd\u30fc\u30b6\u30eb\u3092\u4f5c\u6210 # \u3053\u3053\u3067\u306e\u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u7d44\u307f\u5408\u308f\u305b\u306f Windows \u3068 iOS \u306e\u4e21\u65b9\u3067\u4f7f\u7528\u3067\u304d\u308b\u7d44\u307f\u5408\u308f\u305b\u3092\u8a2d\u5b9a\u3059\u308b / ip ipsec profile add dh - group = ecp256 , modp2048 , modp1536 , modp1024 \\ enc - algorithm = aes - 256 , aes - 128 hash - algorithm = sha256 name = ike2 / ip ipsec proposal add auth - algorithms = sha256 , sha1 \\ enc - algorithms = aes - 256 - cbc , aes - 128 - cbc name = ike2 pfs - group = none # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5272\u308a\u5f53\u3066\u308b IP \u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 / ip pool add name = ike2 - pool ranges = 192 . 168 . 4 . 2 - 192 . 168 . 4 . 254 # \u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u3092 IKEv2 \u63a5\u7d9a\u3067\u4f7f\u7528\u3059\u308b\u3088\u3046\u8a2d\u5b9a # \u307e\u305f\u3001 1 \u5bfe 1 \u63a5\u7d9a\u306b\u306a\u308b\u3088\u3046\u8a2d\u5b9a / ip ipsec mode - config add address - pool = ike2 - pool \\ address - prefix - length = 32 name = ike2 - conf split - include = 0 . 0 . 0 . 0 / 0 # \u30dd\u30ea\u30b7\u30fc\u30b0\u30eb\u30fc\u30d7\u3068\u30dd\u30ea\u30b7\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210 / ip ipsec policy group add name = ike2 - policies / ip ipsec policy add dst - address = 0 . 0 . 0 . 0 / 0 group = ike2 - policies \\ proposal = ike2 src - address = 0 . 0 . 0 . 0 / 0 template = yes # \u30d4\u30a2\u8a2d\u5b9a\u3092\u4f5c\u6210\u3057\u3001\u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u7d10\u4ed8\u3051 / ip ipsec peer add exchange - mode = ike2 name = ike2 passive = yes profile = ike2 # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u8a2d\u5b9a\u3092\u4f5c\u6210 # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u65b9\u6cd5\u3092\u8a3c\u660e\u66f8\u306b\u8a2d\u5b9a\u3057\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u30fb\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u7d10\u4ed8\u3051 # \u30d4\u30a2\u8a2d\u5b9a\u30fb\u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u30fb\u30dd\u30ea\u30b7\u30fc\u30b0\u30eb\u30fc\u30d7\u3092\u7d10\u4ed8\u3051 / ip ipsec identity add auth - method = digital - signature certificate = server \\ match - by = certificate remote - certificate = client_user1 remote - id = ignore \\ generate - policy = port - strict mode - config = ike2 - conf notrack - chain = prerouting \\ peer = ike2 policy - template - group = ike2 - policies \u4ee5\u4e0a\u3067RouterOS\u3067\u306e\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3067\u3059\u3002\u5b8c\u4e86\u5f8c\u306b\u3082\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 / system backup save name = YYYYMMDD - HHMM - after - vpn - setting . backup password =******** \u63a5\u7d9a\u78ba\u8a8d Windows10\u3001iOS\u3082\u3057\u304f\u306f\u305d\u306e\u4e21\u65b9\u3067VPN\u63a5\u7d9a\u3067\u304d\u308b\u304b\u3001\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002 Windows10\u306e\u5834\u5408 \u307e\u305a\u3001\u5148\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb client_user1.p12 \u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3001\u8a3c\u660e\u66f8\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002 \u3053\u306e\u3068\u304d\u3001\u4fdd\u5b58\u5834\u6240\u306f\u300c\u30ed\u30fc\u30ab\u30eb \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u300d\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002 \u307e\u305f\u3001\u9014\u4e2d\u3067\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u3068\u304d\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u306e\u8a2d\u5b9a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u300c\u8a3c\u660e\u66f8\u306e\u7a2e\u985e\u306b\u57fa\u3065\u3044\u3066\u3001\u81ea\u52d5\u7684\u306b\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u3092\u9078\u629e\u3059\u308b\u3002\u300d\u3067\u5927\u4e08\u592b\u3067\u3059\u3002 \u6b21\u306b\u3001VPN\u63a5\u7d9a\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3\u3001\u3082\u3057\u304f\u306fWin\u30ad\u30fc+I\u3067\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002 \u305d\u3053\u304b\u3089\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u300d\u2192\u300cVPN\u300d\u3068\u305f\u3069\u3063\u3066\u3044\u304d\u3001\u300cVPN\u63a5\u7d9a\u3092\u8ffd\u52a0\u3059\u308b\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 VPN\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc Windows(\u30d3\u30eb\u30c9\u30a4\u30f3) \u63a5\u7d9a\u540d (\u304a\u597d\u307f\u306e\u540d\u524d\u3092\u8a2d\u5b9a) \u30b5\u30fc\u30d0\u30fc\u540d\u307e\u305f\u306f\u30a2\u30c9\u30ec\u30b9 vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) VPN\u306e\u7a2e\u985e IKEv2 \u30b5\u30a4\u30f3\u30a4\u30f3\u60c5\u5831\u306e\u7a2e\u985e \u8a3c\u660e\u66f8 \u30e6\u30fc\u30b6\u30fc\u540d(\u30aa\u30d7\u30b7\u30e7\u30f3) (\u7a7a\u6b04) \u30d1\u30b9\u30ef\u30fc\u30c9(\u30aa\u30d7\u30b7\u30e7\u30f3) (\u7a7a\u6b04) \u8a2d\u5b9a\u5b8c\u4e86\u5f8c\u3001VPN\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 iOS13\u306e\u5834\u5408 \u307e\u305a\u3001\u5148\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305fCA\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 cert_export_ca.crt \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u3001\"\u8a2d\u5b9a\" App\u3067\u78ba\u8a8d\u3059\u308b\u3088\u3046\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u8a2d\u5b9aApp\u3092\u958b\u3044\u3066\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u300c \u691c\u8a3c\u6e08\u307f \u2611 \u300d\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6b21\u306b cert_export_client_user1.p12 \u3092\u958b\u304d\u3001\u540c\u69d8\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u3053\u3061\u3089\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u3001\u300c\u4e00\u822c\u300d\u2192\u300c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u300d\u304b\u3089\u78ba\u8a8d\u3059\u308b\u3068\u300c \u691c\u8a3c\u6e08\u307f \u2611 \u300d\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6700\u5f8c\u306b\u8a2d\u5b9aApp\u306e\u300c\u4e00\u822c\u300d\u2192\u300cVPN\u300d\u3068\u958b\u304d\u3001\u300cVPN\u69cb\u6210\u306e\u8ffd\u52a0\u300d\u3092\u30bf\u30c3\u30d7\u3057\u3066VPN\u69cb\u6210\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a2d\u5b9a\u306f\u4e0b\u8a18\u306e\u69d8\u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30bf\u30a4\u30d7 IKEv2 \u8aac\u660e (\u304a\u597d\u307f\u306e\u540d\u524d\u3092\u8a2d\u5b9a) \u30b5\u30fc\u30d0 vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) \u30ea\u30e2\u30fc\u30c8ID vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) \u30ed\u30fc\u30ab\u30ebID user1@vpn.mydomain.com (\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u540d\u524d) \u30e6\u30fc\u30b6\u8a8d\u8a3c \u306a\u3057 \u8a3c\u660e\u66f8\u3092\u4f7f\u7528 ON \u8a3c\u660e\u66f8 user1@vpn.mydomain.com (\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u540d\u524d) \u8a2d\u5b9a\u5b8c\u4e86\u5f8c\u3001VPN\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 DS-Lite\u3067\u306fISP\u304b\u3089\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8IPv4\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001ISP\u5074\u3067NAT\u5909\u63db\u3092\u3057\u3066\u3044\u307e\u3059\u3002 \u21a9 MAP-E\u3067\u306fISP\u5074\u304b\u3089\u5229\u7528\u53ef\u80fd\u306a\u5916\u90e8\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001\u305d\u306e\u7bc4\u56f2\u306e\u307f\u3067\u3057\u304b\u5916\u90e8\u516c\u958b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002 \u21a9","title":"VPN Server"},{"location":"RouterOS/VPN Server/#_1","text":"\u51fa\u5148\u3067\u7de8\u96c6\u3057\u3088\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u30c7\u30fc\u30bf\u3092\u30e2\u30d0\u30a4\u30ebPC\u306b\u540c\u671f\u3057\u5fd8\u308c\u3066\u3044\u305f \u81ea\u5b85PC\u3067\u30b3\u30df\u30c3\u30c8\u3057\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092GitHub\u306b\u30d7\u30c3\u30b7\u30e5\u3057\u5fd8\u308c\u3066\u3044\u305f \u305d\u3093\u306a\u6642\u3001\u51fa\u5148\u304b\u3089\u81ea\u5b85\u306b\u3069\u3053\u304b\u3089\u3067\u3082\u63a5\u7d9a\u3067\u304d\u308c\u3070\u3001\u5b85\u5185\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u306b\u306f\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u3057\u3001Wake-on-Lan\u3067\u81ea\u5b85PC\u3092\u8d77\u52d5\u3057\u3066\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u306a\u306e\u3067\u3001\u81ea\u5b85\u3078\u63a5\u7d9a\u3067\u304d\u308bVPN\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002","title":"\u76ee\u7684"},{"location":"RouterOS/VPN Server/#_2","text":"\u4eca\u56de\u306eVPN\u306e\u8981\u4ef6\u306f\u3001\u4e0b\u8a18\u306e3\u70b9\u3067\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u304b\u3089\u81ea\u5b85\u5185\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u63a5\u7d9a\u3067\u304d\u308b \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7aef\u672b\u306fWindows10 PC\u304a\u3088\u3073iOS12\uff5e13\u306eiPhone\u304a\u3088\u3073iPad \u3067\u304d\u308c\u3070OS\u306e\u6a5f\u80fd\u306e\u307f\u3067\u63a5\u7d9a\u3057\u305f\u3044","title":"\u8981\u4ef6"},{"location":"RouterOS/VPN Server/#_3","text":"\u4e00\u65b9\u3001\u6628\u4eca\u306e\u56fd\u5185\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u74b0\u5883\u306fNTT\u6771\u897f\u306eNGN\u5149\u30d5\u30a1\u30a4\u30d0\u7db2\u3001au\u3072\u304b\u308a\u306e\u5149\u30d5\u30a1\u30a4\u30d0\u7db2\u3001\u30b1\u30fc\u30d6\u30eb\u30c6\u30ec\u30d3\u7db2\u30014G LTE\u7121\u7dda\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7db2\u306a\u3069\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u79c1\u306e\u5bb6\u3067\u306f\u30d5\u30ec\u30c3\u30c4\u5149\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u30d5\u30ec\u30c3\u30c4\u5149\u306eIPv4 PPPoE\u63a5\u7d9a\u306f\u5915\u65b9\uff5e\u591c\u9593\u306b\u304b\u3051\u3066\u306e\u3001\u3044\u308f\u3086\u308b\u30b4\u30fc\u30eb\u30c7\u30f3\u30bf\u30a4\u30e0\u5e2f\u306b\u30d7\u30ed\u30d0\u30a4\u30c0\u5074\u306e\u7db2\u7d42\u7aef\u88c5\u7f6e\u3067\u8f3b\u8f33\u304c\u767a\u751f\u3057\u3066\u3001\u5341\u5206\u306b\u901f\u5ea6\u304c\u51fa\u306a\u3044\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u8d77\u304d\u3066\u3044\u307e\u3059\u3002 \u305d\u308c\u3089\u306e\u56de\u907f\u306e\u305f\u3081\u3001\u6700\u8fd1\u306eISP\u5951\u7d04\u3067\u306fJPNE\u306e\u63d0\u4f9b\u3059\u308b\u300cv6\u30d7\u30e9\u30b9\u300d\u306a\u3069\u3001MAP-E\u3084DS-Lite\u3068\u3044\u3063\u305f\u6280\u8853\u3092\u5229\u7528\u3057\u305fIPv4 over IPv6\u63a5\u7d9a(\u7db2\u7d42\u7aef\u88c5\u7f6e\u3092\u7d4c\u7531\u3057\u306a\u3044IPv4\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a)\u30b5\u30fc\u30d3\u30b9\u304c\u5897\u3048\u3066\u304d\u3066\u3044\u307e\u3059\u3002 \u3057\u304b\u3057\u306a\u304c\u3089\u3001\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d3\u30b9\u306fIPv4\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8907\u6570\u306e\u30e6\u30fc\u30b6\u3067\u5171\u6709\u3057\u3066\u304a\u308a\u3001\u4efb\u610f\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30dd\u30fc\u30c8\u306e\u958b\u653e\u304c\u96e3\u3057\u3044\u3082\u306e\u3068\u306a\u3063\u3066\u3044\u307e\u3059 1 2 \u3002 \u3088\u3063\u3066\u3001\u4eca\u56de\u306f\u5b85\u5185\u304b\u3089\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3068\u306f\u5225\u306eISP\u5951\u7d04\u3092\u7528\u610f\u3057\u3066PPPoE\u63a5\u7d9a\u3057\u3001\u30b5\u30fc\u30d0\u516c\u958b\u7528\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u74b0\u5883\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002","title":"\u5916\u90e8\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u74b0\u5883"},{"location":"RouterOS/VPN Server/#vpn","text":"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8VPN\u306e\u65b9\u5f0f\u3068\u3057\u3066\u3001\u4e0b\u8a18\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u3002 \u4ee5\u524d\u306bL2TP/IPsec\u3092\u5229\u7528\u3057\u305f\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306fIKEv2\u3092\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 \u30d7\u30ed\u30c8\u30b3\u30eb Windows\u5bfe\u5fdc iOS\u5bfe\u5fdc PPTP \u3007 \u203biOS10\u4ee5\u964d\u306f\u4f7f\u7528\u4e0d\u53ef L2TP/IPsec \u3007 \u3007 MS-SSTP \u3007 \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 IKEv2 \u3007 \u3007 OpenVPN \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 SoftEtherVPN \u203b3rd Party\u30bd\u30d5\u30c8\u304c\u5fc5\u8981 \u203b\u30b5\u30fc\u30d0\u81ea\u4f53\u3078\u306fL2TP/IPsec, MS-SSTP\u306a\u3069\u3067\u63a5\u7d9a\u53ef \u203b\u30b5\u30fc\u30d0\u81ea\u4f53\u3078\u306f L2TP/IPsec\u306a\u3069\u3067\u63a5\u7d9a\u53ef","title":"VPN\u63a5\u7d9a\u65b9\u5f0f\u306e\u9078\u5b9a"},{"location":"RouterOS/VPN Server/#vpn_1","text":"VPN\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u5916\u90e8\u304b\u3089\u306e\u5165\u308a\u53e3\u3092\u4f5c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304b\u3089\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u6c17\u3092\u9063\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u6c4e\u7528OS\u306e\u4e0a\u3067VPN\u30b5\u30fc\u30d0\u3092\u52d5\u304b\u3059\u3053\u3068\u3082\u8003\u3048\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u5834\u5408\u306b\u306fOS\u3068VPN\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u60c5\u5831\u306e\u4e21\u65b9\u3092\u8ffd\u3063\u3066\u3044\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001\u904b\u7528\u304c\u9762\u5012\u3060\u3068\u8003\u3048\u307e\u3057\u305f\u3002 \u307e\u305f\u3001VPN\u30b5\u30fc\u30d0\u306b\u306f\u305d\u308c\u4ee5\u5916\u306e\u4ed5\u4e8b\u3092\u3055\u305b\u305f\u304f\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306fMikroTik\u793e\u306eRouterOS\u3092\u5229\u7528\u3057\u3066\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002","title":"VPN\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u9078\u5b9a"},{"location":"RouterOS/VPN Server/#_4","text":"\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210\u3068\u3057\u307e\u3057\u305f\u3002 DMZ\u5074\u306eFirewall\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002 \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089DMZ\u3078\u306e\u63a5\u7d9a\u304a\u3088\u3073\u3001\u305d\u306e\u6298\u308a\u8fd4\u3057\u3092\u8a31\u53ef\u3059\u308b \u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b DMZ\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u63a5\u7d9a\u304a\u3088\u3073\u3001\u305d\u306e\u6298\u308a\u8fd4\u3057\u3092\u8a31\u53ef\u3057\u3001NAT\u5909\u63db\u3059\u308b DMZ\u304b\u3089VPN\u30eb\u30fc\u30bf\u3078\u306eDNS\u554f\u3044\u5408\u308f\u305b\u3092\u8a31\u53ef\u3059\u308b VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u5b85\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u63a5\u7d9a\u3092\u4e00\u90e8\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3059\u308b \u5916\u90e8\u304b\u3089\u306eVPN\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3059\u308b \u5916\u90e8\u304b\u3089Web\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u305f\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u30fb\u30dd\u30fc\u30c8\u306e\u307f\u3067\u8a31\u53ef\u3057\u3001NAT\u5909\u63db\u3059\u308b \u305d\u306e\u4ed6\u306e\u63a5\u7d9a\u3092\u62d2\u5426\u3059\u308b","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u8a08"},{"location":"RouterOS/VPN Server/#vpn_2","text":"\u8a8d\u8a3c\u65b9\u5f0f\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3067\u306e\u8a8d\u8a3c\u3068\u3057\u307e\u3057\u305f\u3002","title":"VPN\u8a8d\u8a3c\u65b9\u5f0f"},{"location":"RouterOS/VPN Server/#vpn_3","text":"\u5b9f\u969b\u306bRouterOS\u3078\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u4f5c\u696d\u3092\u59cb\u3081\u308b\u524d\u306b\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 / system backup save name = YYYYMMDD - HHMM - before - vpn - setting . backup password =******** \u306a\u304a\u3001\u4eca\u56de\u306fRouterOS 6.45.6\u3067\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\u5c06\u6765\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u8a2d\u5b9a\u65b9\u6cd5\u304c\u5909\u66f4\u306b\u306a\u308b\u53ef\u80fd\u6027\u3082\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u3054\u7559\u610f\u304f\u3060\u3055\u3044\u3002 \u8a73\u7d30\u3001\u307e\u305f\u6700\u65b0\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f Manual:IP/IPsec - MikroTik Wiki \u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3092\u5f37\u304f\u63a8\u5968\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3053\u3053\u3067\u306fVPN\u30eb\u30fc\u30bf\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30c9\u30e1\u30a4\u30f3\u540d vpn.yourdomain.com \u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u3066\u9032\u3081\u307e\u3059\u3002","title":"VPN\u30b5\u30fc\u30d0\u69cb\u7bc9"},{"location":"RouterOS/VPN Server/#_5","text":"VPN\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u6b63\u771f\u6027\u691c\u8a3c\u3084\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u8a3c\u660e\u66f8\u3092\u7528\u610f\u3057\u307e\u3059\u3002 \u6b63\u898f\u306e\u8a8d\u8a3c\u5c40\u304b\u3089\u8cfc\u5165\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304c\u3001\u4eca\u56de\u306fRouterOS\u4e0a\u3067\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u3001\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u30fb\u7f72\u540d\u3057\u307e\u3059\u3002 \u72ec\u81eaCA\u306e\u69cb\u7bc9 \u307e\u305a\u3001VPN\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u9375\u306b\u7f72\u540d\u3059\u308b\u305f\u3081\u306eCA\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 / certificate add common - name = \"VPN Root CA\" name = ca key - size = 2048 days - valid = 3650 country = JP key - usage = key - cert - sign , crl - sign trusted = yes / certificate sign ca ca - crl - host = vpn . yourdomain . com VPN\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 \u6b21\u306b\u3001VPN\u30b5\u30fc\u30d0\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001CA\u3067\u7f72\u540d\u3057\u307e\u3059\u3002 / certificate add common - name = vpn . yourdomain . com name = server key - size = 2048 days - valid = 3650 country = JP subject - alt - name = DNS : vpn . yourdomain . com key - usage = digital - signature , key - encipherment , data - encipherment , ipsec - tunnel , ipsec - end - system , tls - server / certificate sign server ca = ca / certificate set server trusted = yes \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8a8d\u8a3c\u3059\u308b\u305f\u3081\u306e\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001CA\u3067\u7f72\u540d\u3057\u307e\u3059\u3002 / certificate add common - name = user1 @ vpn . yourdomain . com name = client_user1 key - size = 2048 days - valid = 3650 country = JP subject - alt - name = email : user1 @ vpn . yourdomain . com key - usage = digital - signature , key - encipherment , data - encipherment , ipsec - user , ipsec - tunnel , ipsec - end - system , tls - client / certificate sign client_user1 ca = ca / certificate set client_user1 trusted = yes \u3082\u3057\u3001\u8a3c\u660e\u66f8\u304c\u6d41\u51fa\u3059\u308b\u306a\u3069\u3057\u3066\u3001\u5931\u52b9\u3055\u305b\u308b\u5834\u5408 \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8a3c\u660e\u66f8\u3092\u5931\u52b9\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 / certificate set client_user1 trusted = no / certificate issued - revoke client_user1 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u306b\u8a3c\u660e\u66f8\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 Windows/iOS\u7528\u3067\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u305b\u308b\u305f\u3081\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u3053\u306e\u3068\u304d\u3001\u5fc5\u305a\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u6b63\u3057\u3044\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002 Windows\u5411\u3051\u306b\u306fPKCS12\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001CA\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u304c\u7d10\u4ed8\u3044\u305f\u72b6\u614b\u3067Windows\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002 iOS\u5411\u3051\u306b\u306fCA\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4e21\u65b9\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002iOS\u306fPKCS12\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3060\u3068CA\u304c\u7d10\u4ed8\u3044\u305f\u72b6\u614b\u3067\u4e0a\u624b\u304f\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u306a\u3044\u305d\u3046\u3067\u3059\u3002 # Windows\u5411\u3051 / certificate export - certificate client_user1 export - passphrase = 1234567890 type = pkcs12 # iOS\u5411\u3051 / certificate export - certificate ca type = pem / certificate export - certificate client_user1 export - passphrase = 1234567890 type = pkcs12 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001scp,sftp\u3067\u306e\u8ee2\u9001\u3059\u308b\u306a\u308a\u3057\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8OS\u3078\u8ee2\u9001\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u72ec\u81ea\u8a8d\u8a3c\u5c40\u3068\u30b5\u30fc\u30d0\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210"},{"location":"RouterOS/VPN Server/#ipsecikev2","text":"RouterOS\u4e0a\u3067VPN\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 # IPsec Phase1 \u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3001 Phase2 \u30d7\u30ed\u30dd\u30fc\u30b6\u30eb\u3092\u4f5c\u6210 # \u3053\u3053\u3067\u306e\u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u7d44\u307f\u5408\u308f\u305b\u306f Windows \u3068 iOS \u306e\u4e21\u65b9\u3067\u4f7f\u7528\u3067\u304d\u308b\u7d44\u307f\u5408\u308f\u305b\u3092\u8a2d\u5b9a\u3059\u308b / ip ipsec profile add dh - group = ecp256 , modp2048 , modp1536 , modp1024 \\ enc - algorithm = aes - 256 , aes - 128 hash - algorithm = sha256 name = ike2 / ip ipsec proposal add auth - algorithms = sha256 , sha1 \\ enc - algorithms = aes - 256 - cbc , aes - 128 - cbc name = ike2 pfs - group = none # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5272\u308a\u5f53\u3066\u308b IP \u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u3092\u4f5c\u6210 / ip pool add name = ike2 - pool ranges = 192 . 168 . 4 . 2 - 192 . 168 . 4 . 254 # \u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u3092 IKEv2 \u63a5\u7d9a\u3067\u4f7f\u7528\u3059\u308b\u3088\u3046\u8a2d\u5b9a # \u307e\u305f\u3001 1 \u5bfe 1 \u63a5\u7d9a\u306b\u306a\u308b\u3088\u3046\u8a2d\u5b9a / ip ipsec mode - config add address - pool = ike2 - pool \\ address - prefix - length = 32 name = ike2 - conf split - include = 0 . 0 . 0 . 0 / 0 # \u30dd\u30ea\u30b7\u30fc\u30b0\u30eb\u30fc\u30d7\u3068\u30dd\u30ea\u30b7\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210 / ip ipsec policy group add name = ike2 - policies / ip ipsec policy add dst - address = 0 . 0 . 0 . 0 / 0 group = ike2 - policies \\ proposal = ike2 src - address = 0 . 0 . 0 . 0 / 0 template = yes # \u30d4\u30a2\u8a2d\u5b9a\u3092\u4f5c\u6210\u3057\u3001\u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u7d10\u4ed8\u3051 / ip ipsec peer add exchange - mode = ike2 name = ike2 passive = yes profile = ike2 # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u8a2d\u5b9a\u3092\u4f5c\u6210 # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u65b9\u6cd5\u3092\u8a3c\u660e\u66f8\u306b\u8a2d\u5b9a\u3057\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u30fb\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u7d10\u4ed8\u3051 # \u30d4\u30a2\u8a2d\u5b9a\u30fb\u30a2\u30c9\u30ec\u30b9\u30d7\u30fc\u30eb\u30fb\u30dd\u30ea\u30b7\u30fc\u30b0\u30eb\u30fc\u30d7\u3092\u7d10\u4ed8\u3051 / ip ipsec identity add auth - method = digital - signature certificate = server \\ match - by = certificate remote - certificate = client_user1 remote - id = ignore \\ generate - policy = port - strict mode - config = ike2 - conf notrack - chain = prerouting \\ peer = ike2 policy - template - group = ike2 - policies \u4ee5\u4e0a\u3067RouterOS\u3067\u306e\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3067\u3059\u3002\u5b8c\u4e86\u5f8c\u306b\u3082\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002 / system backup save name = YYYYMMDD - HHMM - after - vpn - setting . backup password =********","title":"IPsec/IKEv2\u8a2d\u5b9a"},{"location":"RouterOS/VPN Server/#_6","text":"Windows10\u3001iOS\u3082\u3057\u304f\u306f\u305d\u306e\u4e21\u65b9\u3067VPN\u63a5\u7d9a\u3067\u304d\u308b\u304b\u3001\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002","title":"\u63a5\u7d9a\u78ba\u8a8d"},{"location":"RouterOS/VPN Server/#windows10","text":"\u307e\u305a\u3001\u5148\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb client_user1.p12 \u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3001\u8a3c\u660e\u66f8\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002 \u3053\u306e\u3068\u304d\u3001\u4fdd\u5b58\u5834\u6240\u306f\u300c\u30ed\u30fc\u30ab\u30eb \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u300d\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002 \u307e\u305f\u3001\u9014\u4e2d\u3067\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u3068\u304d\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u306e\u8a2d\u5b9a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u300c\u8a3c\u660e\u66f8\u306e\u7a2e\u985e\u306b\u57fa\u3065\u3044\u3066\u3001\u81ea\u52d5\u7684\u306b\u8a3c\u660e\u66f8\u30b9\u30c8\u30a2\u3092\u9078\u629e\u3059\u308b\u3002\u300d\u3067\u5927\u4e08\u592b\u3067\u3059\u3002 \u6b21\u306b\u3001VPN\u63a5\u7d9a\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3\u3001\u3082\u3057\u304f\u306fWin\u30ad\u30fc+I\u3067\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002 \u305d\u3053\u304b\u3089\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u300d\u2192\u300cVPN\u300d\u3068\u305f\u3069\u3063\u3066\u3044\u304d\u3001\u300cVPN\u63a5\u7d9a\u3092\u8ffd\u52a0\u3059\u308b\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 VPN\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc Windows(\u30d3\u30eb\u30c9\u30a4\u30f3) \u63a5\u7d9a\u540d (\u304a\u597d\u307f\u306e\u540d\u524d\u3092\u8a2d\u5b9a) \u30b5\u30fc\u30d0\u30fc\u540d\u307e\u305f\u306f\u30a2\u30c9\u30ec\u30b9 vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) VPN\u306e\u7a2e\u985e IKEv2 \u30b5\u30a4\u30f3\u30a4\u30f3\u60c5\u5831\u306e\u7a2e\u985e \u8a3c\u660e\u66f8 \u30e6\u30fc\u30b6\u30fc\u540d(\u30aa\u30d7\u30b7\u30e7\u30f3) (\u7a7a\u6b04) \u30d1\u30b9\u30ef\u30fc\u30c9(\u30aa\u30d7\u30b7\u30e7\u30f3) (\u7a7a\u6b04) \u8a2d\u5b9a\u5b8c\u4e86\u5f8c\u3001VPN\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002","title":"Windows10\u306e\u5834\u5408"},{"location":"RouterOS/VPN Server/#ios13","text":"\u307e\u305a\u3001\u5148\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305fCA\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 cert_export_ca.crt \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u3001\"\u8a2d\u5b9a\" App\u3067\u78ba\u8a8d\u3059\u308b\u3088\u3046\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u8a2d\u5b9aApp\u3092\u958b\u3044\u3066\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u300c \u691c\u8a3c\u6e08\u307f \u2611 \u300d\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6b21\u306b cert_export_client_user1.p12 \u3092\u958b\u304d\u3001\u540c\u69d8\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u3053\u3061\u3089\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u3001\u300c\u4e00\u822c\u300d\u2192\u300c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u300d\u304b\u3089\u78ba\u8a8d\u3059\u308b\u3068\u300c \u691c\u8a3c\u6e08\u307f \u2611 \u300d\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6700\u5f8c\u306b\u8a2d\u5b9aApp\u306e\u300c\u4e00\u822c\u300d\u2192\u300cVPN\u300d\u3068\u958b\u304d\u3001\u300cVPN\u69cb\u6210\u306e\u8ffd\u52a0\u300d\u3092\u30bf\u30c3\u30d7\u3057\u3066VPN\u69cb\u6210\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a2d\u5b9a\u306f\u4e0b\u8a18\u306e\u69d8\u306b\u5165\u529b\u3057\u307e\u3059\u3002 \u30bf\u30a4\u30d7 IKEv2 \u8aac\u660e (\u304a\u597d\u307f\u306e\u540d\u524d\u3092\u8a2d\u5b9a) \u30b5\u30fc\u30d0 vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) \u30ea\u30e2\u30fc\u30c8ID vpn.mydomain.com (\u81ea\u8eab\u306eVPN\u30b5\u30fc\u30d0\u306e\u30c9\u30e1\u30a4\u30f3) \u30ed\u30fc\u30ab\u30ebID user1@vpn.mydomain.com (\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u540d\u524d) \u30e6\u30fc\u30b6\u8a8d\u8a3c \u306a\u3057 \u8a3c\u660e\u66f8\u3092\u4f7f\u7528 ON \u8a3c\u660e\u66f8 user1@vpn.mydomain.com (\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u540d\u524d) \u8a2d\u5b9a\u5b8c\u4e86\u5f8c\u3001VPN\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 DS-Lite\u3067\u306fISP\u304b\u3089\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8IPv4\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001ISP\u5074\u3067NAT\u5909\u63db\u3092\u3057\u3066\u3044\u307e\u3059\u3002 \u21a9 MAP-E\u3067\u306fISP\u5074\u304b\u3089\u5229\u7528\u53ef\u80fd\u306a\u5916\u90e8\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001\u305d\u306e\u7bc4\u56f2\u306e\u307f\u3067\u3057\u304b\u5916\u90e8\u516c\u958b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002 \u21a9","title":"iOS13\u306e\u5834\u5408"},{"location":"mkdocs/","text":"MkDocs Python\u88fd\u306e\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf Markdown\u30d5\u30a1\u30a4\u30eb\u304b\u3089html\u3092\u751f\u6210\u3059\u308b \u751f\u6210\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u3092\u305d\u306e\u307e\u307eGitHub Pages\u3068\u3057\u3066\u516c\u958b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002 https://www.mkdocs.org Material for MkDocs MkDocs\u306b\u9069\u7528\u3067\u304d\u308b\u306e\u30c6\u30fc\u30de\u306e\u4e00\u3064 Google\u306e Material Design Guidelines \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3089\u3057\u3044\u3002 https://squidfunk.github.io/mkdocs-material \u3053\u308c\u3089\u306e\u30da\u30fc\u30b8\u306e\u300cGetting started\u300d\u306b\u5f93\u3063\u3066\u3044\u3051\u3070\u3001\u74b0\u5883\u3092\u69cb\u7bc9\u3067\u304d\u308b\u3002","title":"MkDocs"},{"location":"mkdocs/#mkdocs","text":"Python\u88fd\u306e\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf Markdown\u30d5\u30a1\u30a4\u30eb\u304b\u3089html\u3092\u751f\u6210\u3059\u308b \u751f\u6210\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u3092\u305d\u306e\u307e\u307eGitHub Pages\u3068\u3057\u3066\u516c\u958b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002 https://www.mkdocs.org","title":"MkDocs"},{"location":"mkdocs/#material-for-mkdocs","text":"MkDocs\u306b\u9069\u7528\u3067\u304d\u308b\u306e\u30c6\u30fc\u30de\u306e\u4e00\u3064 Google\u306e Material Design Guidelines \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3089\u3057\u3044\u3002 https://squidfunk.github.io/mkdocs-material \u3053\u308c\u3089\u306e\u30da\u30fc\u30b8\u306e\u300cGetting started\u300d\u306b\u5f93\u3063\u3066\u3044\u3051\u3070\u3001\u74b0\u5883\u3092\u69cb\u7bc9\u3067\u304d\u308b\u3002","title":"Material for MkDocs"},{"location":"mkdocs/VSCode/","text":"Visual Studio Code\u3067\u306e\u7de8\u96c6\u74b0\u5883\u69cb\u7bc9 Debug Extension\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u3069\u3061\u3089\u304b\u304a\u597d\u307f\u3067 Debugger for Firefox - Visual Studio Marketplace Debugger for Chrome - Visual Studio Marketplace Python\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Windows10: Get Python 3.7 - Microsoft Store Ubuntu: sudo apt install python3 python3-pip launch.json\u3068tasks.json\u306e\u8a2d\u5b9a \u4e0b\u8a18\u3092\u8a2d\u5b9a\u3059\u308b \u305d\u306e\u5f8c\u3001\u307e\u3060MkDocs\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001 Ctrl+Shift+P \u304b\u3089 task \u3068\u5165\u529b\u3057\u3001 \u30bf\u30b9\u30af\u306e\u5b9f\u884c \u3092\u9078\u629e\u5f8c\u3001Task: mkdocs-new \u3092\u5b9f\u884c .vscode/launch.json .vscode/tasks.json","title":"Visual Studio Code\u3067\u306e\u7de8\u96c6\u74b0\u5883\u69cb\u7bc9"},{"location":"mkdocs/VSCode/#visual-studio-code","text":"","title":"Visual Studio Code\u3067\u306e\u7de8\u96c6\u74b0\u5883\u69cb\u7bc9"},{"location":"mkdocs/VSCode/#debug-extension","text":"\u3069\u3061\u3089\u304b\u304a\u597d\u307f\u3067 Debugger for Firefox - Visual Studio Marketplace Debugger for Chrome - Visual Studio Marketplace","title":"Debug Extension\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"mkdocs/VSCode/#python","text":"Windows10: Get Python 3.7 - Microsoft Store Ubuntu: sudo apt install python3 python3-pip","title":"Python\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"mkdocs/VSCode/#launchjsontasksjson","text":"\u4e0b\u8a18\u3092\u8a2d\u5b9a\u3059\u308b \u305d\u306e\u5f8c\u3001\u307e\u3060MkDocs\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001 Ctrl+Shift+P \u304b\u3089 task \u3068\u5165\u529b\u3057\u3001 \u30bf\u30b9\u30af\u306e\u5b9f\u884c \u3092\u9078\u629e\u5f8c\u3001Task: mkdocs-new \u3092\u5b9f\u884c .vscode/launch.json .vscode/tasks.json","title":"launch.json\u3068tasks.json\u306e\u8a2d\u5b9a"},{"location":"mkdocs/lightbox2/","text":"lightbox2\u3092\u4f7f\u7528\u3057\u3066\u3001\u753b\u50cf\u3092\u30ae\u30e3\u30e9\u30ea\u30fc\u8868\u793a\u3059\u308b Lightbox2\u3068\u306f\u3001jQuery\u3067\u5199\u771f\u30ae\u30e3\u30e9\u30ea\u30fc\u7684\u306b\u826f\u3044\u611f\u3058\u306b\u8868\u793a\u3057\u3066\u304f\u308c\u308b\u3084\u3064\u3067\u3059\u3002 \u8a73\u7d30\u306f\u4e0b\u8a18\u53c2\u7167\u3002 Lightbox 2 - Lokesh Dhakar mkdocs\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066lithgbox2\u3092\u8ffd\u52a0\u3059\u308b submodule\u3068\u3057\u3066\u8ffd\u52a0\u3057\u3066\u3001docs\u306e\u4e2d\u304b\u3089\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3068\u3057\u3066\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 mkdir submodules git submodule add - b master https : // github . com / lokesh / lightbox2 . git submodules / lightbox2 cd submodules / lightbox2 # \u4f7f\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a git checkout v2 . 11 . 1 cd .. / .. / git add submodules / lightbox2 git commit - m \" Add lightbox2 v2.11.1 \" cd docs # for command prompt git config core . symlinks true mklink / D lightbox2 ..\\ submodules \\ lightbox2 \\ dist # for bash ln - s submodules / lightbox2 / dist lightbox2 mkdocs\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306blightbox2\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b Visual Studio Code\u3067\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u3001\u4e0b\u8a18\u306e4\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 code mkdocs . yml mkdocs.yml extra_javascript : - 'lightbox2/js/lightbox-plus-jquery.min.js' extra_css : - 'lightbox2/css/lightbox.min.css' \u4f7f\u7528\u65b9\u6cd5 lightbox2\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306bhtml\u306ea\u30bf\u30b0\u3067\u8a18\u5165\u3057\u307e\u3059\u3002 data-lightbox \u3067\u6307\u5b9a\u3057\u305f\u5024\u304c\u540c\u3058\u5834\u5408\u306f\u540c\u4e00\u306e\u30ae\u30e3\u30e9\u30ea\u30fc\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002 data-title \u3067\u6307\u5b9a\u3057\u305f\u5024\u306f\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002 < a href = \"/images/image_1.jpg\" data-lightbox = \"image\" data-title = \"Caption1\" > < img src = \"/images/thumb_1.jpg\" /> </ a > < a href = \"/images/image_2.jpg\" data-lightbox = \"image\" > < img src = \"/images/thumb_2.jpg\" /> </ a >","title":"Lightbox2"},{"location":"mkdocs/lightbox2/#lightbox2","text":"Lightbox2\u3068\u306f\u3001jQuery\u3067\u5199\u771f\u30ae\u30e3\u30e9\u30ea\u30fc\u7684\u306b\u826f\u3044\u611f\u3058\u306b\u8868\u793a\u3057\u3066\u304f\u308c\u308b\u3084\u3064\u3067\u3059\u3002 \u8a73\u7d30\u306f\u4e0b\u8a18\u53c2\u7167\u3002 Lightbox 2 - Lokesh Dhakar","title":"lightbox2\u3092\u4f7f\u7528\u3057\u3066\u3001\u753b\u50cf\u3092\u30ae\u30e3\u30e9\u30ea\u30fc\u8868\u793a\u3059\u308b"},{"location":"mkdocs/lightbox2/#mkdocslithgbox2","text":"submodule\u3068\u3057\u3066\u8ffd\u52a0\u3057\u3066\u3001docs\u306e\u4e2d\u304b\u3089\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3068\u3057\u3066\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 mkdir submodules git submodule add - b master https : // github . com / lokesh / lightbox2 . git submodules / lightbox2 cd submodules / lightbox2 # \u4f7f\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a git checkout v2 . 11 . 1 cd .. / .. / git add submodules / lightbox2 git commit - m \" Add lightbox2 v2.11.1 \" cd docs # for command prompt git config core . symlinks true mklink / D lightbox2 ..\\ submodules \\ lightbox2 \\ dist # for bash ln - s submodules / lightbox2 / dist lightbox2","title":"mkdocs\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066lithgbox2\u3092\u8ffd\u52a0\u3059\u308b"},{"location":"mkdocs/lightbox2/#mkdocslightbox2","text":"Visual Studio Code\u3067\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u3001\u4e0b\u8a18\u306e4\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 code mkdocs . yml mkdocs.yml extra_javascript : - 'lightbox2/js/lightbox-plus-jquery.min.js' extra_css : - 'lightbox2/css/lightbox.min.css'","title":"mkdocs\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306blightbox2\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b"},{"location":"mkdocs/lightbox2/#_1","text":"lightbox2\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306bhtml\u306ea\u30bf\u30b0\u3067\u8a18\u5165\u3057\u307e\u3059\u3002 data-lightbox \u3067\u6307\u5b9a\u3057\u305f\u5024\u304c\u540c\u3058\u5834\u5408\u306f\u540c\u4e00\u306e\u30ae\u30e3\u30e9\u30ea\u30fc\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002 data-title \u3067\u6307\u5b9a\u3057\u305f\u5024\u306f\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002 < a href = \"/images/image_1.jpg\" data-lightbox = \"image\" data-title = \"Caption1\" > < img src = \"/images/thumb_1.jpg\" /> </ a > < a href = \"/images/image_2.jpg\" data-lightbox = \"image\" > < img src = \"/images/thumb_2.jpg\" /> </ a >","title":"\u4f7f\u7528\u65b9\u6cd5"},{"location":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc/privacy-policy/","text":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc \u672c\u30b5\u30a4\u30c8\u3067\u306f\u3001\u30b5\u30a4\u30c8\u306e\u5206\u6790\u3068\u6539\u5584\u306e\u305f\u3081\u306bGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u969b\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u306e\u305f\u3081\u306bGoogle \u304c\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u306b cookie \u3092\u8a2d\u5b9a\u3057\u305f\u308a\u3001\u65e2\u5b58\u306ecookie\u3092\u8aad\u307f\u53d6\u3063\u305f\u308a\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u672c\u30b5\u30a4\u30c8\u3092\u3054\u5229\u7528\u4e2d\u306e\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u306f\u3001Google\u306b\u7279\u5b9a\u306e\u975e\u500b\u4eba\u60c5\u5831\uff08\u305f\u3068\u3048\u3070\u3001\u30a2\u30af\u30bb\u30b9\u3057\u305f\u30da\u30fc\u30b8\u306e\u30a6\u30a7\u30d6 \u30a2\u30c9\u30ec\u30b9\u3084 IP \u30a2\u30c9\u30ec\u30b9\u306a\u3069\uff09\u3092\u81ea\u52d5\u7684\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u5f53\u30b5\u30a4\u30c8\u306f\u305d\u308c\u3089\u306e\u60c5\u5831\u3092\u3001\u30b5\u30a4\u30c8\u5229\u7528\u72b6\u6cc1\u306e\u628a\u63e1\u3084\u30b5\u30a4\u30c8\u5229\u7528\u4f53\u9a13\u306e\u6539\u5584\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u50be\u5411\u3092\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u3057\u3066\u7d39\u4ecb\u3059\u308b\u3068\u3044\u3063\u305f\u7528\u9014\u3067\u5229\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u672c\u30b5\u30a4\u30c8\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u672c\u30b5\u30a4\u30c8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u4e0a\u8a18\u65b9\u6cd5\u304a\u3088\u3073\u76ee\u7684\u306b\u304a\u3044\u3066Google\u3068\u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u304c\u884c\u3046\u3053\u3046\u3057\u305f\u30c7\u30fc\u30bf\u51e6\u7406\u306b\u5bfe\u3057\u3066\u3001\u8a31\u53ef\u3092\u4e0e\u3048\u305f\u3082\u306e\u3068\u307f\u306a\u3057\u307e\u3059\u3002 Google\u793e\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u60c5\u5831\u306e\u53ce\u96c6\u65b9\u6cd5\u304a\u3088\u3073\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001 Google Analytics\u30b5\u30fc\u30d3\u30b9\u5229\u7528\u898f\u7d04 \u304a\u3088\u3073 Google\u793e\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc \u306b\u3088\u3063\u3066\u5b9a\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002 cookie\u306b\u3064\u3044\u3066 cookie\u3068\u306f\u3001\u30b5\u30a4\u30c8\uff08\u3082\u3057\u304f\u306fGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u306e\u3088\u3046\u306a\u7b2c\u4e09\u8005\u30b5\u30fc\u30d3\u30b9\uff09\u304c\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u304c\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30d6\u30e9\u30a6\u30b6\u306b\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u3001\u3042\u3068\u3067\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u7b26\u53f7\u3067\u3059\u3002\u305f\u3060\u3057\u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u306f\u3001\u5f53\u30b5\u30a4\u30c8\u3067\u8a2d\u5b9a\u3059\u308bcookie\u304b\u3089\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u500b\u4eba\u60c5\u5831\uff08\u6c0f\u540d\u3001\u751f\u5e74\u6708\u65e5\u3001\u96fb\u8a71\u756a\u53f7\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u7b49\uff09\u3092\u628a\u63e1\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u306e\u3067\u3054\u5b89\u5fc3\u304f\u3060\u3055\u3044\u3002 \u306a\u304a\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u306b\u3088\u308acookie\u306e\u53d7\u3051\u53d6\u308a\u3092\u62d2\u5426\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u306ecookie\u3092\u53d7\u3051\u53d6\u308a\u62d2\u5426\u3055\u308c\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u30ea\u30f3\u30af\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8\u30a2\u30c9\u30aa\u30f3 https://tools.google.com/dlpage/gaoptout","title":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc"},{"location":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc/privacy-policy/#_1","text":"\u672c\u30b5\u30a4\u30c8\u3067\u306f\u3001\u30b5\u30a4\u30c8\u306e\u5206\u6790\u3068\u6539\u5584\u306e\u305f\u3081\u306bGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u969b\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u306e\u305f\u3081\u306bGoogle \u304c\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u306b cookie \u3092\u8a2d\u5b9a\u3057\u305f\u308a\u3001\u65e2\u5b58\u306ecookie\u3092\u8aad\u307f\u53d6\u3063\u305f\u308a\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u672c\u30b5\u30a4\u30c8\u3092\u3054\u5229\u7528\u4e2d\u306e\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u306f\u3001Google\u306b\u7279\u5b9a\u306e\u975e\u500b\u4eba\u60c5\u5831\uff08\u305f\u3068\u3048\u3070\u3001\u30a2\u30af\u30bb\u30b9\u3057\u305f\u30da\u30fc\u30b8\u306e\u30a6\u30a7\u30d6 \u30a2\u30c9\u30ec\u30b9\u3084 IP \u30a2\u30c9\u30ec\u30b9\u306a\u3069\uff09\u3092\u81ea\u52d5\u7684\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u5f53\u30b5\u30a4\u30c8\u306f\u305d\u308c\u3089\u306e\u60c5\u5831\u3092\u3001\u30b5\u30a4\u30c8\u5229\u7528\u72b6\u6cc1\u306e\u628a\u63e1\u3084\u30b5\u30a4\u30c8\u5229\u7528\u4f53\u9a13\u306e\u6539\u5584\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u50be\u5411\u3092\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u3057\u3066\u7d39\u4ecb\u3059\u308b\u3068\u3044\u3063\u305f\u7528\u9014\u3067\u5229\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u672c\u30b5\u30a4\u30c8\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u672c\u30b5\u30a4\u30c8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u4e0a\u8a18\u65b9\u6cd5\u304a\u3088\u3073\u76ee\u7684\u306b\u304a\u3044\u3066Google\u3068\u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u304c\u884c\u3046\u3053\u3046\u3057\u305f\u30c7\u30fc\u30bf\u51e6\u7406\u306b\u5bfe\u3057\u3066\u3001\u8a31\u53ef\u3092\u4e0e\u3048\u305f\u3082\u306e\u3068\u307f\u306a\u3057\u307e\u3059\u3002 Google\u793e\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u60c5\u5831\u306e\u53ce\u96c6\u65b9\u6cd5\u304a\u3088\u3073\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001 Google Analytics\u30b5\u30fc\u30d3\u30b9\u5229\u7528\u898f\u7d04 \u304a\u3088\u3073 Google\u793e\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc \u306b\u3088\u3063\u3066\u5b9a\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002","title":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc"},{"location":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30dd\u30ea\u30b7\u30fc/privacy-policy/#cookie","text":"cookie\u3068\u306f\u3001\u30b5\u30a4\u30c8\uff08\u3082\u3057\u304f\u306fGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u306e\u3088\u3046\u306a\u7b2c\u4e09\u8005\u30b5\u30fc\u30d3\u30b9\uff09\u304c\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u304c\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30d6\u30e9\u30a6\u30b6\u306b\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u3001\u3042\u3068\u3067\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u7b26\u53f7\u3067\u3059\u3002\u305f\u3060\u3057\u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u306f\u3001\u5f53\u30b5\u30a4\u30c8\u3067\u8a2d\u5b9a\u3059\u308bcookie\u304b\u3089\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u500b\u4eba\u60c5\u5831\uff08\u6c0f\u540d\u3001\u751f\u5e74\u6708\u65e5\u3001\u96fb\u8a71\u756a\u53f7\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u7b49\uff09\u3092\u628a\u63e1\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u306e\u3067\u3054\u5b89\u5fc3\u304f\u3060\u3055\u3044\u3002 \u306a\u304a\u3001\u30b5\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u306b\u3088\u308acookie\u306e\u53d7\u3051\u53d6\u308a\u3092\u62d2\u5426\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u306ecookie\u3092\u53d7\u3051\u53d6\u308a\u62d2\u5426\u3055\u308c\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u30ea\u30f3\u30af\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9 \u30aa\u30d7\u30c8\u30a2\u30a6\u30c8\u30a2\u30c9\u30aa\u30f3 https://tools.google.com/dlpage/gaoptout","title":"cookie\u306b\u3064\u3044\u3066"}]}